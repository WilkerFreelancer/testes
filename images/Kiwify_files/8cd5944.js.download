/*! For license information please see LICENSES */
(window.webpackJsonp=window.webpackJsonp||[]).push([[43],{1113:function(t,e){var r={}.toString;t.exports=Array.isArray||function(t){return"[object Array]"==r.call(t)}},1175:function(t,e){var r=Math.pow(2,32);t.exports={getUint64:function(t){var e,n=new DataView(t.buffer,t.byteOffset,t.byteLength);return n.getBigUint64?(e=n.getBigUint64(0))<Number.MAX_SAFE_INTEGER?Number(e):e:n.getUint32(0)*r+n.getUint32(4)},MAX_UINT32:r}},126:function(t,e,r){"use strict";r.d(e,"a",(function(){return B})),r.d(e,"b",(function(){return Y})),r.d(e,"c",(function(){return Et})),r.d(e,"d",(function(){return Tt}));var n=r(290),o=r.n(n),c=r(3),f=r.n(c),l="http://example.com",h=function(t,e){if(/^[a-z]+:/i.test(e))return e;/^data:/.test(t)&&(t=f.a.location&&f.a.location.href||"");var r="function"==typeof f.a.URL,n=/^\/\//.test(t),c=!f.a.location&&!/\/\//i.test(t);if(r?t=new f.a.URL(t,f.a.location||l):/\/\//i.test(t)||(t=o.a.buildAbsoluteURL(f.a.location&&f.a.location.href||"",t)),r){var h=new URL(e,t);return c?h.href.slice(l.length):n?h.href.slice(h.protocol.length):h.href}return o.a.buildAbsoluteURL(t,e)},d=r(835),m=r(836);const y=t=>!!t&&"object"==typeof t,E=(...t)=>t.reduce(((t,source)=>("object"!=typeof source||Object.keys(source).forEach((e=>{Array.isArray(t[e])&&Array.isArray(source[e])?t[e]=t[e].concat(source[e]):y(t[e])&&y(source[e])?t[e]=E(t[e],source[e]):t[e]=source[e]})),t)),{}),T=t=>Object.keys(t).map((e=>t[e])),S=t=>t.reduce(((t,e)=>t.concat(e)),[]),v=t=>{if(!t.length)return[];const e=[];for(let i=0;i<t.length;i++)e.push(t[i]);return e};var A="INVALID_NUMBER_OF_PERIOD",w="DASH_EMPTY_MANIFEST",R="DASH_INVALID_XML",I="NO_BASE_URL",O="SEGMENT_TIME_UNSPECIFIED",P="UNSUPPORTED_UTC_TIMING_SCHEME";const D=({baseUrl:t="",source:source="",range:e="",indexRange:r=""})=>{const n={uri:source,resolvedUri:h(t||"",source)};if(e||r){const t=(e||r).split("-");let o,c=f.a.BigInt?f.a.BigInt(t[0]):parseInt(t[0],10),l=f.a.BigInt?f.a.BigInt(t[1]):parseInt(t[1],10);c<Number.MAX_SAFE_INTEGER&&"bigint"==typeof c&&(c=Number(c)),l<Number.MAX_SAFE_INTEGER&&"bigint"==typeof l&&(l=Number(l)),o="bigint"==typeof l||"bigint"==typeof c?f.a.BigInt(l)-f.a.BigInt(c)+f.a.BigInt(1):l-c+1,"bigint"==typeof o&&o<Number.MAX_SAFE_INTEGER&&(o=Number(o)),n.byterange={length:o,offset:c}}return n},U=t=>(t&&"number"!=typeof t&&(t=parseInt(t,10)),isNaN(t)?null:t),N={static(t){const{duration:e,timescale:r=1,sourceDuration:n,periodDuration:o}=t,c=U(t.endNumber),f=e/r;return"number"==typeof c?{start:0,end:c}:"number"==typeof o?{start:0,end:o/f}:{start:0,end:n/f}},dynamic(t){const{NOW:e,clientOffset:r,availabilityStartTime:n,timescale:o=1,duration:c,periodStart:f=0,minimumUpdatePeriod:l=0,timeShiftBufferDepth:h=1/0}=t,d=U(t.endNumber),m=(e+r)/1e3,y=n+f,E=m+l-y,T=Math.ceil(E*o/c),S=Math.floor((m-y-h)*o/c),v=Math.floor((m-y)*o/c);return{start:Math.max(0,S),end:"number"==typeof d?d:Math.min(T,v)}}},L=t=>{const{type:e,duration:r,timescale:n=1,periodDuration:o,sourceDuration:c}=t,{start:f,end:l}=N[e](t),h=((t,e)=>{const r=[];for(let i=t;i<e;i++)r.push(i);return r})(f,l).map((t=>e=>{const{duration:r,timescale:n=1,periodStart:o,startNumber:c=1}=t;return{number:c+e,duration:r/n,timeline:o,time:e*r}})(t));if("static"===e){const t=h.length-1,e="number"==typeof o?o:c;h[t].duration=e-r/n*t}return h},M=t=>{const{baseUrl:e,initialization:r={},sourceDuration:n,indexRange:o="",periodStart:c,presentationTime:f,number:l=0,duration:h}=t;if(!e)throw new Error(I);const d=D({baseUrl:e,source:r.sourceURL,range:r.range}),m=D({baseUrl:e,source:e,indexRange:o});if(m.map=d,h){const e=L(t);e.length&&(m.duration=e[0].duration,m.timeline=e[0].timeline)}else n&&(m.duration=n,m.timeline=c);return m.presentationTime=f||c,m.number=l,[m]},B=(t,e,r)=>{const n=t.sidx.map?t.sidx.map:null,o=t.sidx.duration,c=t.timeline||0,l=t.sidx.byterange,h=l.offset+l.length,d=e.timescale,m=e.references.filter((t=>1!==t.referenceType)),y=[],E=t.endList?"static":"dynamic",T=t.sidx.timeline;let S,v=T,A=t.mediaSequence||0;S="bigint"==typeof e.firstOffset?f.a.BigInt(h)+e.firstOffset:h+e.firstOffset;for(let i=0;i<m.length;i++){const t=e.references[i],l=t.referencedSize,h=t.subsegmentDuration;let m;m="bigint"==typeof S?S+f.a.BigInt(l)-f.a.BigInt(1):S+l-1;const w=M({baseUrl:r,timescale:d,timeline:c,periodStart:T,presentationTime:v,number:A,duration:h,sourceDuration:o,indexRange:`${S}-${m}`,type:E})[0];n&&(w.map=n),y.push(w),S+="bigint"==typeof S?f.a.BigInt(l):l,v+=h/d,A++}return t.segments=y,t},x=["AUDIO","SUBTITLES"],_=t=>{return(e=t,r=({timeline:t})=>t,T(e.reduce(((t,e)=>(e.forEach((e=>{t[r(e)]=e})),t)),{}))).sort(((a,b)=>a.timeline>b.timeline?1:-1));var e,r},C=t=>{let e=[];var r,n;return r=t,n=(t,r,n,label)=>{e=e.concat(t.playlists||[])},x.forEach((function(t){for(var e in r.mediaGroups[t])for(var o in r.mediaGroups[t][e]){var c=r.mediaGroups[t][e][o];n(c,t,e,o)}})),e},X=({playlist:t,mediaSequence:e})=>{t.mediaSequence=e,t.segments.forEach(((e,r)=>{e.number=t.mediaSequence+r}))},$=({oldManifest:t,newManifest:e})=>{const r=t.playlists.concat(C(t)),n=e.playlists.concat(C(e));return e.timelineStarts=_([t.timelineStarts,e.timelineStarts]),(({oldPlaylists:t,newPlaylists:e,timelineStarts:r})=>{e.forEach((e=>{e.discontinuitySequence=r.findIndex((function({timeline:t}){return t===e.timeline}));const n=((t,e)=>{for(let i=0;i<t.length;i++)if(t[i].attributes.NAME===e)return t[i];return null})(t,e.attributes.NAME);if(!n)return;if(e.sidx)return;const o=e.segments[0],c=n.segments.findIndex((function(t){return Math.abs(t.presentationTime-o.presentationTime)<.016666666666666666}));if(-1===c)return X({playlist:e,mediaSequence:n.mediaSequence+n.segments.length}),e.segments[0].discontinuity=!0,e.discontinuityStarts.unshift(0),void((!n.segments.length&&e.timeline>n.timeline||n.segments.length&&e.timeline>n.segments[n.segments.length-1].timeline)&&e.discontinuitySequence--);n.segments[c].discontinuity&&!o.discontinuity&&(o.discontinuity=!0,e.discontinuityStarts.unshift(0),e.discontinuitySequence--),X({playlist:e,mediaSequence:n.segments[c].number})}))})({oldPlaylists:r,newPlaylists:n,timelineStarts:e.timelineStarts}),e},Y=t=>t&&t.uri+"-"+(t=>{let e;return e="bigint"==typeof t.offset||"bigint"==typeof t.length?f.a.BigInt(t.offset)+f.a.BigInt(t.length)-f.a.BigInt(1):t.offset+t.length-1,`${t.offset}-${e}`})(t.byterange),k=t=>{const e=t.reduce((function(t,e){return t[e.attributes.baseUrl]||(t[e.attributes.baseUrl]=[]),t[e.attributes.baseUrl].push(e),t}),{});let r=[];return Object.values(e).forEach((t=>{const e=T(t.reduce(((t,e)=>{const r=e.attributes.id+(e.attributes.lang||"");return t[r]?(e.segments&&(e.segments[0]&&(e.segments[0].discontinuity=!0),t[r].segments.push(...e.segments)),e.attributes.contentProtection&&(t[r].attributes.contentProtection=e.attributes.contentProtection)):(t[r]=e,t[r].attributes.timelineStarts=[]),t[r].attributes.timelineStarts.push({start:e.attributes.periodStart,timeline:e.attributes.periodStart}),t}),{}));r=r.concat(e)})),r.map((t=>{var e,r;return t.discontinuityStarts=(e=t.segments||[],r="discontinuity",e.reduce(((a,t,i)=>(t[r]&&a.push(i),a)),[])),t}))},G=(t,e)=>{const r=Y(t.sidx),n=r&&e[r]&&e[r].sidx;return n&&B(t,n,t.sidx.resolvedUri),t},F=(t,e={})=>{if(!Object.keys(e).length)return t;for(const i in t)t[i]=G(t[i],e);return t},j=({attributes:t,segments:e,sidx:r,discontinuityStarts:n})=>{const o={attributes:{NAME:t.id,AUDIO:"audio",SUBTITLES:"subs",RESOLUTION:{width:t.width,height:t.height},CODECS:t.codecs,BANDWIDTH:t.bandwidth,"PROGRAM-ID":1},uri:"",endList:"static"===t.type,timeline:t.periodStart,resolvedUri:t.baseUrl||"",targetDuration:t.duration,discontinuityStarts:n,timelineStarts:t.timelineStarts,segments:e};return t.frameRate&&(o.attributes["FRAME-RATE"]=t.frameRate),t.contentProtection&&(o.contentProtection=t.contentProtection),t.serviceLocation&&(o.attributes.serviceLocation=t.serviceLocation),r&&(o.sidx=r),o},V=({attributes:t})=>"video/mp4"===t.mimeType||"video/webm"===t.mimeType||"video"===t.contentType,H=({attributes:t})=>"audio/mp4"===t.mimeType||"audio/webm"===t.mimeType||"audio"===t.contentType,z=({attributes:t})=>"text/vtt"===t.mimeType||"text"===t.contentType,K=t=>t?Object.keys(t).reduce(((e,label)=>{const r=t[label];return e.concat(r.playlists)}),[]):[],W=({dashPlaylists:t,locations:e,contentSteering:r,sidxMapping:n={},previousManifest:o,eventStream:c})=>{if(!t.length)return{};const{sourceDuration:f,type:l,suggestedPresentationDelay:h,minimumUpdatePeriod:d}=t[0].attributes,m=k(t.filter(V)).map(j),y=k(t.filter(H)),E=k(t.filter(z)),T=t.map((t=>t.attributes.captionServices)).filter(Boolean),S={allowCache:!0,discontinuityStarts:[],segments:[],endList:!0,mediaGroups:{AUDIO:{},VIDEO:{},"CLOSED-CAPTIONS":{},SUBTITLES:{}},uri:"",duration:f,playlists:F(m,n)};d>=0&&(S.minimumUpdatePeriod=1e3*d),e&&(S.locations=e),r&&(S.contentSteering=r),"dynamic"===l&&(S.suggestedPresentationDelay=h),c&&c.length>0&&(S.eventStream=c);const v=0===S.playlists.length,A=y.length?((t,e={},r=!1)=>{let n;const o=t.reduce(((a,t)=>{const o=t.attributes.role&&t.attributes.role.value||"",c=t.attributes.lang||"";let label=t.attributes.label||"main";if(c&&!t.attributes.label){const e=o?` (${o})`:"";label=`${t.attributes.lang}${e}`}a[label]||(a[label]={language:c,autoselect:!0,default:"main"===o,playlists:[],uri:""});const f=G((({attributes:t,segments:e,sidx:r,mediaSequence:n,discontinuitySequence:o,discontinuityStarts:c},f)=>{const l={attributes:{NAME:t.id,BANDWIDTH:t.bandwidth,CODECS:t.codecs,"PROGRAM-ID":1},uri:"",endList:"static"===t.type,timeline:t.periodStart,resolvedUri:t.baseUrl||"",targetDuration:t.duration,discontinuitySequence:o,discontinuityStarts:c,timelineStarts:t.timelineStarts,mediaSequence:n,segments:e};return t.contentProtection&&(l.contentProtection=t.contentProtection),t.serviceLocation&&(l.attributes.serviceLocation=t.serviceLocation),r&&(l.sidx=r),f&&(l.attributes.AUDIO="audio",l.attributes.SUBTITLES="subs"),l})(t,r),e);return a[label].playlists.push(f),void 0===n&&"main"===o&&(n=t,n.default=!0),a}),{});n||(o[Object.keys(o)[0]].default=!0);return o})(y,n,v):null,w=E.length?((t,e={})=>t.reduce(((a,t)=>{const label=t.attributes.label||t.attributes.lang||"text";return a[label]||(a[label]={language:label,default:!1,autoselect:!1,playlists:[],uri:""}),a[label].playlists.push(G((({attributes:t,segments:e,mediaSequence:r,discontinuityStarts:n,discontinuitySequence:o})=>{void 0===e&&(e=[{uri:t.baseUrl,timeline:t.periodStart,resolvedUri:t.baseUrl||"",duration:t.sourceDuration,number:0}],t.duration=t.sourceDuration);const c={NAME:t.id,BANDWIDTH:t.bandwidth,"PROGRAM-ID":1};t.codecs&&(c.CODECS=t.codecs);const f={attributes:c,uri:"",endList:"static"===t.type,timeline:t.periodStart,resolvedUri:t.baseUrl||"",targetDuration:t.duration,timelineStarts:t.timelineStarts,discontinuityStarts:n,discontinuitySequence:o,mediaSequence:r,segments:e};return t.serviceLocation&&(f.attributes.serviceLocation=t.serviceLocation),f})(t),e)),a}),{}))(E,n):null,R=m.concat(K(A),K(w)),I=R.map((({timelineStarts:t})=>t));var O,P;return S.timelineStarts=_(I),O=R,P=S.timelineStarts,O.forEach((t=>{t.mediaSequence=0,t.discontinuitySequence=P.findIndex((function({timeline:e}){return e===t.timeline})),t.segments&&t.segments.forEach(((t,e)=>{t.number=e}))})),A&&(S.mediaGroups.AUDIO.audio=A),w&&(S.mediaGroups.SUBTITLES.subs=w),T.length&&(S.mediaGroups["CLOSED-CAPTIONS"].cc=T.reduce(((t,e)=>e?(e.forEach((e=>{const{channel:r,language:n}=e;t[n]={autoselect:!1,default:!1,instreamId:r,language:n},e.hasOwnProperty("aspectRatio")&&(t[n].aspectRatio=e.aspectRatio),e.hasOwnProperty("easyReader")&&(t[n].easyReader=e.easyReader),e.hasOwnProperty("3D")&&(t[n]["3D"]=e["3D"])})),t):t),{})),o?$({oldManifest:o,newManifest:S}):S},Z=(t,time,e)=>{const{NOW:r,clientOffset:n,availabilityStartTime:o,timescale:c=1,periodStart:f=0,minimumUpdatePeriod:l=0}=t,h=(r+n)/1e3+l-(o+f);return Math.ceil((h*c-time)/e)},J=(t,e)=>{const{type:r,minimumUpdatePeriod:n=0,media:o="",sourceDuration:c,timescale:f=1,startNumber:l=1,periodStart:h}=t,d=[];let time=-1;for(let m=0;m<e.length;m++){const y=e[m],E=y.d,T=y.r||0,S=y.t||0;let v;if(time<0&&(time=S),S&&S>time&&(time=S),T<0){const l=m+1;v=l===e.length?"dynamic"===r&&n>0&&o.indexOf("$Number$")>0?Z(t,time,E):(c*f-time)/E:(e[l].t-time)/E}else v=T+1;const A=l+d.length+v;let w=l+d.length;for(;w<A;)d.push({number:w,duration:E/f,time:time,timeline:h}),time+=E,w++}return d},Q=/\$([A-z]*)(?:(%0)([0-9]+)d)?\$/g,tt=(t,e)=>t.replace(Q,(t=>(e,r,n,o)=>{if("$$"===e)return"$";if(void 0===t[r])return e;const c=""+t[r];return"RepresentationID"===r?c:(o=n?parseInt(o,10):1,c.length>=o?c:`${new Array(o-c.length+1).join("0")}${c}`)})(e)),et=(t,e)=>{const r={RepresentationID:t.id,Bandwidth:t.bandwidth||0},{initialization:n={sourceURL:"",range:""}}=t,o=D({baseUrl:t.baseUrl,source:tt(n.sourceURL,r),range:n.range});return((t,e)=>t.duration||e?t.duration?L(t):J(t,e):[{number:t.startNumber||1,duration:t.sourceDuration,time:0,timeline:t.periodStart}])(t,e).map((e=>{r.Number=e.number,r.Time=e.time;const n=tt(t.media||"",r),c=t.timescale||1,f=t.presentationTimeOffset||0,l=t.periodStart+(e.time-f)/c;return{uri:n,timeline:e.timeline,duration:e.duration,resolvedUri:h(t.baseUrl||"",n),map:o,number:e.number,presentationTime:l}}))},nt=(t,e)=>{const{duration:r,segmentUrls:n=[],periodStart:o}=t;if(!r&&!e||r&&e)throw new Error(O);const c=n.map((e=>((t,e)=>{const{baseUrl:r,initialization:n={}}=t,o=D({baseUrl:r,source:n.sourceURL,range:n.range}),c=D({baseUrl:r,source:e.media,range:e.mediaRange});return c.map=o,c})(t,e)));let f;r&&(f=L(t)),e&&(f=J(t,e));return f.map(((e,r)=>{if(c[r]){const n=c[r],f=t.timescale||1,l=t.presentationTimeOffset||0;return n.timeline=e.timeline,n.duration=e.duration,n.number=e.number,n.presentationTime=o+(e.time-l)/f,n}})).filter((t=>t))},it=({attributes:t,segmentInfo:e})=>{let r,n;e.template?(n=et,r=E(t,e.template)):e.base?(n=M,r=E(t,e.base)):e.list&&(n=nt,r=E(t,e.list));const o={attributes:t};if(!n)return o;const c=n(r,e.segmentTimeline);if(r.duration){const{duration:t,timescale:e=1}=r;r.duration=t/e}else c.length?r.duration=c.reduce(((t,e)=>Math.max(t,Math.ceil(e.duration))),0):r.duration=0;return o.attributes=r,o.segments=c,e.base&&r.indexRange&&(o.sidx=c[0],o.segments=[]),o},st=(element,t)=>v(element.childNodes).filter((({tagName:e})=>e===t)),at=element=>element.textContent.trim(),ot=t=>{const e=/P(?:(\d*)Y)?(?:(\d*)M)?(?:(\d*)D)?(?:T(?:(\d*)H)?(?:(\d*)M)?(?:([\d.]*)S)?)?/.exec(t);if(!e)return 0;const[r,n,o,c,f,l]=e.slice(1);return 31536e3*parseFloat(r||0)+2592e3*parseFloat(n||0)+86400*parseFloat(o||0)+3600*parseFloat(c||0)+60*parseFloat(f||0)+parseFloat(l||0)},ut={mediaPresentationDuration:t=>ot(t),availabilityStartTime(t){return/^\d+-\d+-\d+T\d+:\d+:\d+(\.\d+)?$/.test(e=t)&&(e+="Z"),Date.parse(e)/1e3;var e},minimumUpdatePeriod:t=>ot(t),suggestedPresentationDelay:t=>ot(t),type:t=>t,timeShiftBufferDepth:t=>ot(t),start:t=>ot(t),width:t=>parseInt(t,10),height:t=>parseInt(t,10),bandwidth:t=>parseInt(t,10),frameRate:t=>(t=>parseFloat(t.split("/").reduce(((t,e)=>t/e))))(t),startNumber:t=>parseInt(t,10),timescale:t=>parseInt(t,10),presentationTimeOffset:t=>parseInt(t,10),duration(t){const e=parseInt(t,10);return isNaN(e)?ot(t):e},d:t=>parseInt(t,10),t:t=>parseInt(t,10),r:t=>parseInt(t,10),presentationTime:t=>parseInt(t,10),DEFAULT:t=>t},ct=t=>t&&t.attributes?v(t.attributes).reduce(((a,t)=>{const e=ut[t.name]||ut.DEFAULT;return a[t.name]=e(t.value),a}),{}):{},ft={"urn:uuid:1077efec-c0b2-4d02-ace3-3c1e52e2fb4b":"org.w3.clearkey","urn:uuid:edef8ba9-79d6-4ace-a3c8-27dcd51d21ed":"com.widevine.alpha","urn:uuid:9a04f079-9840-4286-ab92-e65be0885f95":"com.microsoft.playready","urn:uuid:f239e769-efa3-4850-9c16-a903c6932efb":"com.adobe.primetime"},lt=(t,e)=>e.length?S(t.map((function(t){return e.map((function(e){const r=at(e),n=h(t.baseUrl,r),o=E(ct(e),{baseUrl:n});return n!==r&&!o.serviceLocation&&t.serviceLocation&&(o.serviceLocation=t.serviceLocation),o}))}))):t,ht=t=>{const e=st(t,"SegmentTemplate")[0],r=st(t,"SegmentList")[0],n=r&&st(r,"SegmentURL").map((s=>E({tag:"SegmentURL"},ct(s)))),o=st(t,"SegmentBase")[0],c=r||e,f=c&&st(c,"SegmentTimeline")[0],l=r||o||e,h=l&&st(l,"Initialization")[0],template=e&&ct(e);template&&h?template.initialization=h&&ct(h):template&&template.initialization&&(template.initialization={sourceURL:template.initialization});const d={template:template,segmentTimeline:f&&st(f,"S").map((s=>ct(s))),list:r&&E(ct(r),{segmentUrls:n,initialization:ct(h)}),base:o&&E(ct(o),{initialization:ct(h)})};return Object.keys(d).forEach((t=>{d[t]||delete d[t]})),d},pt=t=>S(st(t.node,"EventStream").map((e=>{const r=ct(e),n=r.schemeIdUri;return st(e,"Event").map((e=>{const o=ct(e),c=o.presentationTime||0,f=r.timescale||1,l=o.duration||0,h=c/f+t.attributes.start;return{schemeIdUri:n,value:r.value,id:o.id,start:h,end:h+l/f,messageData:at(e)||o.messageData,contentEncoding:r.contentEncoding,presentationTimeOffset:r.presentationTimeOffset||0}}))}))),gt=(t,e,r)=>n=>{const o=ct(n),c=lt(e,st(n,"BaseURL")),f=st(n,"Role")[0],l={role:ct(f)};let h=E(t,o,l);const m=st(n,"Accessibility")[0],y=(t=>{if("urn:scte:dash:cc:cea-608:2015"===t.schemeIdUri)return("string"!=typeof t.value?[]:t.value.split(";")).map((t=>{let e,r;return r=t,/^CC\d=/.test(t)?[e,r]=t.split("="):/^CC\d$/.test(t)&&(e=t),{channel:e,language:r}}));if("urn:scte:dash:cc:cea-708:2015"===t.schemeIdUri)return("string"!=typeof t.value?[]:t.value.split(";")).map((t=>{const e={channel:void 0,language:void 0,aspectRatio:1,easyReader:0,"3D":0};if(/=/.test(t)){const[r,n=""]=t.split("=");e.channel=r,e.language=t,n.split(",").forEach((t=>{const[r,n]=t.split(":");"lang"===r?e.language=n:"er"===r?e.easyReader=Number(n):"war"===r?e.aspectRatio=Number(n):"3D"===r&&(e["3D"]=Number(n))}))}else e.language=t;return e.channel&&(e.channel="SERVICE"+e.channel),e}))})(ct(m));y&&(h=E(h,{captionServices:y}));const label=st(n,"Label")[0];if(label&&label.childNodes.length){const t=label.childNodes[0].nodeValue.trim();h=E(h,{label:t})}const T=st(n,"ContentProtection").reduce(((t,e)=>{const r=ct(e);r.schemeIdUri&&(r.schemeIdUri=r.schemeIdUri.toLowerCase());const n=ft[r.schemeIdUri];if(n){t[n]={attributes:r};const o=st(e,"cenc:pssh")[0];if(o){const e=at(o);t[n].pssh=e&&Object(d.a)(e)}}return t}),{});Object.keys(T).length&&(h=E(h,{contentProtection:T}));const v=ht(n),A=st(n,"Representation"),w=E(r,v);return S(A.map(((t,e,r)=>n=>{const o=st(n,"BaseURL"),c=lt(e,o),f=E(t,ct(n)),l=ht(n);return c.map((t=>({segmentInfo:E(r,l),attributes:E(f,t)})))})(h,c,w)))},mt=(t,e)=>(r,n)=>{const o=lt(e,st(r.node,"BaseURL")),c=E(t,{periodStart:r.attributes.start});"number"==typeof r.attributes.duration&&(c.periodDuration=r.attributes.duration);const f=st(r.node,"AdaptationSet"),l=ht(r.node);return S(f.map(gt(c,o,l)))},bt=(t,e)=>{if(t.length>1&&e({type:"warn",message:"The MPD manifest should contain no more than one ContentSteering tag"}),!t.length)return null;const r=E({serverURL:at(t[0])},ct(t[0]));return r.queryBeforeStart="true"===r.queryBeforeStart,r},yt=t=>{if(""===t)throw new Error(w);const e=new m.DOMParser;let r,n;try{r=e.parseFromString(t,"application/xml"),n=r&&"MPD"===r.documentElement.tagName?r.documentElement:null}catch(t){}if(!n||n&&n.getElementsByTagName("parsererror").length>0)throw new Error(R);return n},Et=(t,e={})=>{const r=((t,e={})=>{const{manifestUri:r="",NOW:n=Date.now(),clientOffset:o=0,eventHandler:c=function(){}}=e,f=st(t,"Period");if(!f.length)throw new Error(A);const l=st(t,"Location"),h=ct(t),d=lt([{baseUrl:r}],st(t,"BaseURL")),m=st(t,"ContentSteering");h.type=h.type||"static",h.sourceDuration=h.mediaPresentationDuration||0,h.NOW=n,h.clientOffset=o,l.length&&(h.locations=l.map(at));const y=[];return f.forEach(((t,e)=>{const r=ct(t),n=y[e-1];r.start=(({attributes:t,priorPeriodAttributes:e,mpdType:r})=>"number"==typeof t.start?t.start:e&&"number"==typeof e.start&&"number"==typeof e.duration?e.start+e.duration:e||"static"!==r?null:0)({attributes:r,priorPeriodAttributes:n?n.attributes:null,mpdType:h.type}),y.push({node:t,attributes:r})})),{locations:h.locations,contentSteeringInfo:bt(m,c),representationInfo:S(y.map(mt(h,d))),eventStream:S(y.map(pt))}})(yt(t),e),n=r.representationInfo.map(it);return W({dashPlaylists:n,locations:r.locations,contentSteering:r.contentSteeringInfo,sidxMapping:e.sidxMapping,previousManifest:e.previousManifest,eventStream:r.eventStream})},Tt=t=>(t=>{const e=st(t,"UTCTiming")[0];if(!e)return null;const r=ct(e);switch(r.schemeIdUri){case"urn:mpeg:dash:utc:http-head:2014":case"urn:mpeg:dash:utc:http-head:2012":r.method="HEAD";break;case"urn:mpeg:dash:utc:http-xsdate:2014":case"urn:mpeg:dash:utc:http-iso:2014":case"urn:mpeg:dash:utc:http-xsdate:2012":case"urn:mpeg:dash:utc:http-iso:2012":r.method="GET";break;case"urn:mpeg:dash:utc:direct:2014":case"urn:mpeg:dash:utc:direct:2012":r.method="DIRECT",r.value=Date.parse(r.value);break;case"urn:mpeg:dash:utc:http-ntp:2014":case"urn:mpeg:dash:utc:ntp:2014":case"urn:mpeg:dash:utc:sntp:2014":default:throw new Error(P)}return r})(yt(t))},1678:function(t,e,r){(function(e){(function(){var r,n,o,c,f,l;"undefined"!=typeof performance&&null!==performance&&performance.now?t.exports=function(){return performance.now()}:null!=e&&e.hrtime?(t.exports=function(){return(r()-f)/1e6},n=e.hrtime,c=(r=function(){var hr;return 1e9*(hr=n())[0]+hr[1]})(),l=1e9*e.uptime(),f=c-l):Date.now?(t.exports=function(){return Date.now()-o},o=Date.now()):(t.exports=function(){return(new Date).getTime()-o},o=(new Date).getTime())}).call(this)}).call(this,r(235))},215:function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n,o=(n=r(10))&&"object"==typeof n&&"default"in n?n.default:n;function c(t){return(c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function f(t){return function(t){if(Array.isArray(t)){for(var i=0,e=new Array(t.length);i<t.length;i++)e[i]=t[i];return e}}(t)||function(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}var l="undefined"!=typeof window;function h(t,e){return e.reduce((function(e,r){return t.hasOwnProperty(r)&&(e[r]=t[r]),e}),{})}var d={},m={},y={},E=new(o.extend({data:function(){return{transports:d,targets:m,sources:y,trackInstances:l}},methods:{open:function(t){if(l){var e=t.to,r=t.from,n=t.passengers,f=t.order,h=void 0===f?1/0:f;if(e&&r&&n){var d,m={to:e,from:r,passengers:(d=n,Array.isArray(d)||"object"===c(d)?Object.freeze(d):d),order:h};-1===Object.keys(this.transports).indexOf(e)&&o.set(this.transports,e,[]);var y,E=this.$_getTransportIndex(m),T=this.transports[e].slice(0);-1===E?T.push(m):T[E]=m,this.transports[e]=(y=function(a,b){return a.order-b.order},T.map((function(t,e){return[e,t]})).sort((function(a,b){return y(a[1],b[1])||a[0]-b[0]})).map((function(t){return t[1]})))}}},close:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=t.to,n=t.from;if(r&&(n||!1!==e)&&this.transports[r])if(e)this.transports[r]=[];else{var o=this.$_getTransportIndex(t);if(o>=0){var c=this.transports[r].slice(0);c.splice(o,1),this.transports[r]=c}}},registerTarget:function(t,e,r){l&&(this.trackInstances&&!r&&this.targets[t]&&console.warn("[portal-vue]: Target ".concat(t," already exists")),this.$set(this.targets,t,Object.freeze([e])))},unregisterTarget:function(t){this.$delete(this.targets,t)},registerSource:function(source,t,e){l&&(this.trackInstances&&!e&&this.sources[source]&&console.warn("[portal-vue]: source ".concat(source," already exists")),this.$set(this.sources,source,Object.freeze([t])))},unregisterSource:function(source){this.$delete(this.sources,source)},hasTarget:function(t){return!(!this.targets[t]||!this.targets[t][0])},hasSource:function(t){return!(!this.sources[t]||!this.sources[t][0])},hasContentFor:function(t){return!!this.transports[t]&&!!this.transports[t].length},$_getTransportIndex:function(t){var e=t.to,r=t.from;for(var i in this.transports[e])if(this.transports[e][i].from===r)return+i;return-1}}}))(d),T=1,S=o.extend({name:"portal",props:{disabled:{type:Boolean},name:{type:String,default:function(){return String(T++)}},order:{type:Number,default:0},slim:{type:Boolean},slotProps:{type:Object,default:function(){return{}}},tag:{type:String,default:"DIV"},to:{type:String,default:function(){return String(Math.round(1e7*Math.random()))}}},created:function(){var t=this;this.$nextTick((function(){E.registerSource(t.name,t)}))},mounted:function(){this.disabled||this.sendUpdate()},updated:function(){this.disabled?this.clear():this.sendUpdate()},beforeDestroy:function(){E.unregisterSource(this.name),this.clear()},watch:{to:function(t,e){e&&e!==t&&this.clear(e),this.sendUpdate()}},methods:{clear:function(t){var e={from:this.name,to:t||this.to};E.close(e)},normalizeSlots:function(){return this.$scopedSlots.default?[this.$scopedSlots.default]:this.$slots.default},normalizeOwnChildren:function(t){return"function"==typeof t?t(this.slotProps):t},sendUpdate:function(){var t=this.normalizeSlots();if(t){var e={from:this.name,to:this.to,passengers:f(t),order:this.order};E.open(e)}else this.clear()}},render:function(t){var e=this.$slots.default||this.$scopedSlots.default||[],r=this.tag;return e&&this.disabled?e.length<=1&&this.slim?this.normalizeOwnChildren(e)[0]:t(r,[this.normalizeOwnChildren(e)]):this.slim?t():t(r,{class:{"v-portal":!0},style:{display:"none"},key:"v-portal-placeholder"})}}),v=o.extend({name:"portalTarget",props:{multiple:{type:Boolean,default:!1},name:{type:String,required:!0},slim:{type:Boolean,default:!1},slotProps:{type:Object,default:function(){return{}}},tag:{type:String,default:"div"},transition:{type:[String,Object,Function]}},data:function(){return{transports:E.transports,firstRender:!0}},created:function(){var t=this;this.$nextTick((function(){E.registerTarget(t.name,t)}))},watch:{ownTransports:function(){this.$emit("change",this.children().length>0)},name:function(t,e){E.unregisterTarget(e),E.registerTarget(t,this)}},mounted:function(){var t=this;this.transition&&this.$nextTick((function(){t.firstRender=!1}))},beforeDestroy:function(){E.unregisterTarget(this.name)},computed:{ownTransports:function(){var t=this.transports[this.name]||[];return this.multiple?t:0===t.length?[]:[t[t.length-1]]},passengers:function(){return function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return t.reduce((function(t,r){var n=r.passengers[0],o="function"==typeof n?n(e):r.passengers;return t.concat(o)}),[])}(this.ownTransports,this.slotProps)}},methods:{children:function(){return 0!==this.passengers.length?this.passengers:this.$scopedSlots.default?this.$scopedSlots.default(this.slotProps):this.$slots.default||[]},noWrapper:function(){var t=this.slim&&!this.transition;return t&&this.children().length>1&&console.warn("[portal-vue]: PortalTarget with `slim` option received more than one child element."),t}},render:function(t){var e=this.noWrapper(),r=this.children(),n=this.transition||this.tag;return e?r[0]:this.slim&&!n?t():t(n,{props:{tag:this.transition&&this.tag?this.tag:void 0},class:{"vue-portal-target":!0}},r)}}),A=0,w=["disabled","name","order","slim","slotProps","tag","to"],R=["multiple","transition"],I=o.extend({name:"MountingPortal",inheritAttrs:!1,props:{append:{type:[Boolean,String]},bail:{type:Boolean},mountTo:{type:String,required:!0},disabled:{type:Boolean},name:{type:String,default:function(){return"mounted_"+String(A++)}},order:{type:Number,default:0},slim:{type:Boolean},slotProps:{type:Object,default:function(){return{}}},tag:{type:String,default:"DIV"},to:{type:String,default:function(){return String(Math.round(1e7*Math.random()))}},multiple:{type:Boolean,default:!1},targetSlim:{type:Boolean},targetSlotProps:{type:Object,default:function(){return{}}},targetTag:{type:String,default:"div"},transition:{type:[String,Object,Function]}},created:function(){if("undefined"!=typeof document){var t=document.querySelector(this.mountTo);if(t){var e=this.$props;if(E.targets[e.name])e.bail?console.warn("[portal-vue]: Target ".concat(e.name," is already mounted.\n        Aborting because 'bail: true' is set")):this.portalTarget=E.targets[e.name];else{var r=e.append;if(r){var n="string"==typeof r?r:"DIV",o=document.createElement(n);t.appendChild(o),t=o}var c=h(this.$props,R);c.slim=this.targetSlim,c.tag=this.targetTag,c.slotProps=this.targetSlotProps,c.name=this.to,this.portalTarget=new v({el:t,parent:this.$parent||this,propsData:c})}}else console.error("[portal-vue]: Mount Point '".concat(this.mountTo,"' not found in document"))}},beforeDestroy:function(){var t=this.portalTarget;if(this.append){var e=t.$el;e.parentNode.removeChild(e)}t.$destroy()},render:function(t){if(!this.portalTarget)return console.warn("[portal-vue] Target wasn't mounted"),t();if(!this.$scopedSlots.manual){var e=h(this.$props,w);return t(S,{props:e,attrs:this.$attrs,on:this.$listeners,scopedSlots:this.$scopedSlots},this.$slots.default)}var content=this.$scopedSlots.manual({to:this.to});return Array.isArray(content)&&(content=content[0]),content||t()}});var O={install:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};t.component(e.portalName||"Portal",S),t.component(e.portalTargetName||"PortalTarget",v),t.component(e.MountingPortalName||"MountingPortal",I)}};e.default=O,e.Portal=S,e.PortalTarget=v,e.MountingPortal=I,e.Wormhole=E},264:function(t,e,r){"use strict";(function(t){var n=r(1111),o=r(1112),c=r(1113);function f(){return h.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function l(t,e){if(f()<e)throw new RangeError("Invalid typed array length");return h.TYPED_ARRAY_SUPPORT?(t=new Uint8Array(e)).__proto__=h.prototype:(null===t&&(t=new h(e)),t.length=e),t}function h(t,e,r){if(!(h.TYPED_ARRAY_SUPPORT||this instanceof h))return new h(t,e,r);if("number"==typeof t){if("string"==typeof e)throw new Error("If encoding is specified then the first argument must be a string");return y(this,t)}return d(this,t,e,r)}function d(t,e,r,n){if("number"==typeof e)throw new TypeError('"value" argument must not be a number');return"undefined"!=typeof ArrayBuffer&&e instanceof ArrayBuffer?function(t,e,r,n){if(e.byteLength,r<0||e.byteLength<r)throw new RangeError("'offset' is out of bounds");if(e.byteLength<r+(n||0))throw new RangeError("'length' is out of bounds");e=void 0===r&&void 0===n?new Uint8Array(e):void 0===n?new Uint8Array(e,r):new Uint8Array(e,r,n);h.TYPED_ARRAY_SUPPORT?(t=e).__proto__=h.prototype:t=E(t,e);return t}(t,e,r,n):"string"==typeof e?function(t,e,r){"string"==typeof r&&""!==r||(r="utf8");if(!h.isEncoding(r))throw new TypeError('"encoding" must be a valid string encoding');var n=0|S(e,r),o=(t=l(t,n)).write(e,r);o!==n&&(t=t.slice(0,o));return t}(t,e,r):function(t,e){if(h.isBuffer(e)){var r=0|T(e.length);return 0===(t=l(t,r)).length||e.copy(t,0,0,r),t}if(e){if("undefined"!=typeof ArrayBuffer&&e.buffer instanceof ArrayBuffer||"length"in e)return"number"!=typeof e.length||(n=e.length)!=n?l(t,0):E(t,e);if("Buffer"===e.type&&c(e.data))return E(t,e.data)}var n;throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}(t,e)}function m(t){if("number"!=typeof t)throw new TypeError('"size" argument must be a number');if(t<0)throw new RangeError('"size" argument must not be negative')}function y(t,e){if(m(e),t=l(t,e<0?0:0|T(e)),!h.TYPED_ARRAY_SUPPORT)for(var i=0;i<e;++i)t[i]=0;return t}function E(t,e){var r=e.length<0?0:0|T(e.length);t=l(t,r);for(var i=0;i<r;i+=1)t[i]=255&e[i];return t}function T(t){if(t>=f())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+f().toString(16)+" bytes");return 0|t}function S(t,e){if(h.isBuffer(t))return t.length;if("undefined"!=typeof ArrayBuffer&&"function"==typeof ArrayBuffer.isView&&(ArrayBuffer.isView(t)||t instanceof ArrayBuffer))return t.byteLength;"string"!=typeof t&&(t=""+t);var r=t.length;if(0===r)return 0;for(var n=!1;;)switch(e){case"ascii":case"latin1":case"binary":return r;case"utf8":case"utf-8":case void 0:return K(t).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*r;case"hex":return r>>>1;case"base64":return W(t).length;default:if(n)return K(t).length;e=(""+e).toLowerCase(),n=!0}}function v(t,e,r){var n=!1;if((void 0===e||e<0)&&(e=0),e>this.length)return"";if((void 0===r||r>this.length)&&(r=this.length),r<=0)return"";if((r>>>=0)<=(e>>>=0))return"";for(t||(t="utf8");;)switch(t){case"hex":return C(this,e,r);case"utf8":case"utf-8":return M(this,e,r);case"ascii":return x(this,e,r);case"latin1":case"binary":return _(this,e,r);case"base64":return L(this,e,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return X(this,e,r);default:if(n)throw new TypeError("Unknown encoding: "+t);t=(t+"").toLowerCase(),n=!0}}function A(b,t,e){var i=b[t];b[t]=b[e],b[e]=i}function w(t,e,r,n,o){if(0===t.length)return-1;if("string"==typeof r?(n=r,r=0):r>2147483647?r=2147483647:r<-2147483648&&(r=-2147483648),r=+r,isNaN(r)&&(r=o?0:t.length-1),r<0&&(r=t.length+r),r>=t.length){if(o)return-1;r=t.length-1}else if(r<0){if(!o)return-1;r=0}if("string"==typeof e&&(e=h.from(e,n)),h.isBuffer(e))return 0===e.length?-1:R(t,e,r,n,o);if("number"==typeof e)return e&=255,h.TYPED_ARRAY_SUPPORT&&"function"==typeof Uint8Array.prototype.indexOf?o?Uint8Array.prototype.indexOf.call(t,e,r):Uint8Array.prototype.lastIndexOf.call(t,e,r):R(t,[e],r,n,o);throw new TypeError("val must be string, number or Buffer")}function R(t,e,r,n,o){var i,c=1,f=t.length,l=e.length;if(void 0!==n&&("ucs2"===(n=String(n).toLowerCase())||"ucs-2"===n||"utf16le"===n||"utf-16le"===n)){if(t.length<2||e.length<2)return-1;c=2,f/=2,l/=2,r/=2}function h(t,i){return 1===c?t[i]:t.readUInt16BE(i*c)}if(o){var d=-1;for(i=r;i<f;i++)if(h(t,i)===h(e,-1===d?0:i-d)){if(-1===d&&(d=i),i-d+1===l)return d*c}else-1!==d&&(i-=i-d),d=-1}else for(r+l>f&&(r=f-l),i=r;i>=0;i--){for(var m=!0,y=0;y<l;y++)if(h(t,i+y)!==h(e,y)){m=!1;break}if(m)return i}return-1}function I(t,e,r,n){r=Number(r)||0;var o=t.length-r;n?(n=Number(n))>o&&(n=o):n=o;var c=e.length;if(c%2!=0)throw new TypeError("Invalid hex string");n>c/2&&(n=c/2);for(var i=0;i<n;++i){var f=parseInt(e.substr(2*i,2),16);if(isNaN(f))return i;t[r+i]=f}return i}function O(t,e,r,n){return Z(K(e,t.length-r),t,r,n)}function P(t,e,r,n){return Z(function(t){for(var e=[],i=0;i<t.length;++i)e.push(255&t.charCodeAt(i));return e}(e),t,r,n)}function D(t,e,r,n){return P(t,e,r,n)}function U(t,e,r,n){return Z(W(e),t,r,n)}function N(t,e,r,n){return Z(function(t,e){for(var r,n,o,c=[],i=0;i<t.length&&!((e-=2)<0);++i)n=(r=t.charCodeAt(i))>>8,o=r%256,c.push(o),c.push(n);return c}(e,t.length-r),t,r,n)}function L(t,e,r){return 0===e&&r===t.length?n.fromByteArray(t):n.fromByteArray(t.slice(e,r))}function M(t,e,r){r=Math.min(t.length,r);for(var n=[],i=e;i<r;){var o,c,f,l,h=t[i],d=null,m=h>239?4:h>223?3:h>191?2:1;if(i+m<=r)switch(m){case 1:h<128&&(d=h);break;case 2:128==(192&(o=t[i+1]))&&(l=(31&h)<<6|63&o)>127&&(d=l);break;case 3:o=t[i+1],c=t[i+2],128==(192&o)&&128==(192&c)&&(l=(15&h)<<12|(63&o)<<6|63&c)>2047&&(l<55296||l>57343)&&(d=l);break;case 4:o=t[i+1],c=t[i+2],f=t[i+3],128==(192&o)&&128==(192&c)&&128==(192&f)&&(l=(15&h)<<18|(63&o)<<12|(63&c)<<6|63&f)>65535&&l<1114112&&(d=l)}null===d?(d=65533,m=1):d>65535&&(d-=65536,n.push(d>>>10&1023|55296),d=56320|1023&d),n.push(d),i+=m}return function(t){var e=t.length;if(e<=B)return String.fromCharCode.apply(String,t);var r="",i=0;for(;i<e;)r+=String.fromCharCode.apply(String,t.slice(i,i+=B));return r}(n)}e.Buffer=h,e.SlowBuffer=function(t){+t!=t&&(t=0);return h.alloc(+t)},e.INSPECT_MAX_BYTES=50,h.TYPED_ARRAY_SUPPORT=void 0!==t.TYPED_ARRAY_SUPPORT?t.TYPED_ARRAY_SUPPORT:function(){try{var t=new Uint8Array(1);return t.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===t.foo()&&"function"==typeof t.subarray&&0===t.subarray(1,1).byteLength}catch(t){return!1}}(),e.kMaxLength=f(),h.poolSize=8192,h._augment=function(t){return t.__proto__=h.prototype,t},h.from=function(t,e,r){return d(null,t,e,r)},h.TYPED_ARRAY_SUPPORT&&(h.prototype.__proto__=Uint8Array.prototype,h.__proto__=Uint8Array,"undefined"!=typeof Symbol&&Symbol.species&&h[Symbol.species]===h&&Object.defineProperty(h,Symbol.species,{value:null,configurable:!0})),h.alloc=function(t,e,r){return function(t,e,r,n){return m(e),e<=0?l(t,e):void 0!==r?"string"==typeof n?l(t,e).fill(r,n):l(t,e).fill(r):l(t,e)}(null,t,e,r)},h.allocUnsafe=function(t){return y(null,t)},h.allocUnsafeSlow=function(t){return y(null,t)},h.isBuffer=function(b){return!(null==b||!b._isBuffer)},h.compare=function(a,b){if(!h.isBuffer(a)||!h.isBuffer(b))throw new TypeError("Arguments must be Buffers");if(a===b)return 0;for(var t=a.length,e=b.length,i=0,r=Math.min(t,e);i<r;++i)if(a[i]!==b[i]){t=a[i],e=b[i];break}return t<e?-1:e<t?1:0},h.isEncoding=function(t){switch(String(t).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},h.concat=function(t,e){if(!c(t))throw new TypeError('"list" argument must be an Array of Buffers');if(0===t.length)return h.alloc(0);var i;if(void 0===e)for(e=0,i=0;i<t.length;++i)e+=t[i].length;var r=h.allocUnsafe(e),n=0;for(i=0;i<t.length;++i){var o=t[i];if(!h.isBuffer(o))throw new TypeError('"list" argument must be an Array of Buffers');o.copy(r,n),n+=o.length}return r},h.byteLength=S,h.prototype._isBuffer=!0,h.prototype.swap16=function(){var t=this.length;if(t%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var i=0;i<t;i+=2)A(this,i,i+1);return this},h.prototype.swap32=function(){var t=this.length;if(t%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var i=0;i<t;i+=4)A(this,i,i+3),A(this,i+1,i+2);return this},h.prototype.swap64=function(){var t=this.length;if(t%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var i=0;i<t;i+=8)A(this,i,i+7),A(this,i+1,i+6),A(this,i+2,i+5),A(this,i+3,i+4);return this},h.prototype.toString=function(){var t=0|this.length;return 0===t?"":0===arguments.length?M(this,0,t):v.apply(this,arguments)},h.prototype.equals=function(b){if(!h.isBuffer(b))throw new TypeError("Argument must be a Buffer");return this===b||0===h.compare(this,b)},h.prototype.inspect=function(){var t="",r=e.INSPECT_MAX_BYTES;return this.length>0&&(t=this.toString("hex",0,r).match(/.{2}/g).join(" "),this.length>r&&(t+=" ... ")),"<Buffer "+t+">"},h.prototype.compare=function(t,e,r,n,o){if(!h.isBuffer(t))throw new TypeError("Argument must be a Buffer");if(void 0===e&&(e=0),void 0===r&&(r=t?t.length:0),void 0===n&&(n=0),void 0===o&&(o=this.length),e<0||r>t.length||n<0||o>this.length)throw new RangeError("out of range index");if(n>=o&&e>=r)return 0;if(n>=o)return-1;if(e>=r)return 1;if(this===t)return 0;for(var c=(o>>>=0)-(n>>>=0),f=(r>>>=0)-(e>>>=0),l=Math.min(c,f),d=this.slice(n,o),m=t.slice(e,r),i=0;i<l;++i)if(d[i]!==m[i]){c=d[i],f=m[i];break}return c<f?-1:f<c?1:0},h.prototype.includes=function(t,e,r){return-1!==this.indexOf(t,e,r)},h.prototype.indexOf=function(t,e,r){return w(this,t,e,r,!0)},h.prototype.lastIndexOf=function(t,e,r){return w(this,t,e,r,!1)},h.prototype.write=function(t,e,r,n){if(void 0===e)n="utf8",r=this.length,e=0;else if(void 0===r&&"string"==typeof e)n=e,r=this.length,e=0;else{if(!isFinite(e))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");e|=0,isFinite(r)?(r|=0,void 0===n&&(n="utf8")):(n=r,r=void 0)}var o=this.length-e;if((void 0===r||r>o)&&(r=o),t.length>0&&(r<0||e<0)||e>this.length)throw new RangeError("Attempt to write outside buffer bounds");n||(n="utf8");for(var c=!1;;)switch(n){case"hex":return I(this,t,e,r);case"utf8":case"utf-8":return O(this,t,e,r);case"ascii":return P(this,t,e,r);case"latin1":case"binary":return D(this,t,e,r);case"base64":return U(this,t,e,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return N(this,t,e,r);default:if(c)throw new TypeError("Unknown encoding: "+n);n=(""+n).toLowerCase(),c=!0}},h.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var B=4096;function x(t,e,r){var n="";r=Math.min(t.length,r);for(var i=e;i<r;++i)n+=String.fromCharCode(127&t[i]);return n}function _(t,e,r){var n="";r=Math.min(t.length,r);for(var i=e;i<r;++i)n+=String.fromCharCode(t[i]);return n}function C(t,e,r){var n=t.length;(!e||e<0)&&(e=0),(!r||r<0||r>n)&&(r=n);for(var o="",i=e;i<r;++i)o+=z(t[i]);return o}function X(t,e,r){for(var n=t.slice(e,r),o="",i=0;i<n.length;i+=2)o+=String.fromCharCode(n[i]+256*n[i+1]);return o}function $(t,e,r){if(t%1!=0||t<0)throw new RangeError("offset is not uint");if(t+e>r)throw new RangeError("Trying to access beyond buffer length")}function Y(t,e,r,n,o,c){if(!h.isBuffer(t))throw new TypeError('"buffer" argument must be a Buffer instance');if(e>o||e<c)throw new RangeError('"value" argument is out of bounds');if(r+n>t.length)throw new RangeError("Index out of range")}function k(t,e,r,n){e<0&&(e=65535+e+1);for(var i=0,o=Math.min(t.length-r,2);i<o;++i)t[r+i]=(e&255<<8*(n?i:1-i))>>>8*(n?i:1-i)}function G(t,e,r,n){e<0&&(e=4294967295+e+1);for(var i=0,o=Math.min(t.length-r,4);i<o;++i)t[r+i]=e>>>8*(n?i:3-i)&255}function F(t,e,r,n,o,c){if(r+n>t.length)throw new RangeError("Index out of range");if(r<0)throw new RangeError("Index out of range")}function j(t,e,r,n,c){return c||F(t,0,r,4),o.write(t,e,r,n,23,4),r+4}function V(t,e,r,n,c){return c||F(t,0,r,8),o.write(t,e,r,n,52,8),r+8}h.prototype.slice=function(t,e){var r,n=this.length;if((t=~~t)<0?(t+=n)<0&&(t=0):t>n&&(t=n),(e=void 0===e?n:~~e)<0?(e+=n)<0&&(e=0):e>n&&(e=n),e<t&&(e=t),h.TYPED_ARRAY_SUPPORT)(r=this.subarray(t,e)).__proto__=h.prototype;else{var o=e-t;r=new h(o,void 0);for(var i=0;i<o;++i)r[i]=this[i+t]}return r},h.prototype.readUIntLE=function(t,e,r){t|=0,e|=0,r||$(t,e,this.length);for(var n=this[t],o=1,i=0;++i<e&&(o*=256);)n+=this[t+i]*o;return n},h.prototype.readUIntBE=function(t,e,r){t|=0,e|=0,r||$(t,e,this.length);for(var n=this[t+--e],o=1;e>0&&(o*=256);)n+=this[t+--e]*o;return n},h.prototype.readUInt8=function(t,e){return e||$(t,1,this.length),this[t]},h.prototype.readUInt16LE=function(t,e){return e||$(t,2,this.length),this[t]|this[t+1]<<8},h.prototype.readUInt16BE=function(t,e){return e||$(t,2,this.length),this[t]<<8|this[t+1]},h.prototype.readUInt32LE=function(t,e){return e||$(t,4,this.length),(this[t]|this[t+1]<<8|this[t+2]<<16)+16777216*this[t+3]},h.prototype.readUInt32BE=function(t,e){return e||$(t,4,this.length),16777216*this[t]+(this[t+1]<<16|this[t+2]<<8|this[t+3])},h.prototype.readIntLE=function(t,e,r){t|=0,e|=0,r||$(t,e,this.length);for(var n=this[t],o=1,i=0;++i<e&&(o*=256);)n+=this[t+i]*o;return n>=(o*=128)&&(n-=Math.pow(2,8*e)),n},h.prototype.readIntBE=function(t,e,r){t|=0,e|=0,r||$(t,e,this.length);for(var i=e,n=1,o=this[t+--i];i>0&&(n*=256);)o+=this[t+--i]*n;return o>=(n*=128)&&(o-=Math.pow(2,8*e)),o},h.prototype.readInt8=function(t,e){return e||$(t,1,this.length),128&this[t]?-1*(255-this[t]+1):this[t]},h.prototype.readInt16LE=function(t,e){e||$(t,2,this.length);var r=this[t]|this[t+1]<<8;return 32768&r?4294901760|r:r},h.prototype.readInt16BE=function(t,e){e||$(t,2,this.length);var r=this[t+1]|this[t]<<8;return 32768&r?4294901760|r:r},h.prototype.readInt32LE=function(t,e){return e||$(t,4,this.length),this[t]|this[t+1]<<8|this[t+2]<<16|this[t+3]<<24},h.prototype.readInt32BE=function(t,e){return e||$(t,4,this.length),this[t]<<24|this[t+1]<<16|this[t+2]<<8|this[t+3]},h.prototype.readFloatLE=function(t,e){return e||$(t,4,this.length),o.read(this,t,!0,23,4)},h.prototype.readFloatBE=function(t,e){return e||$(t,4,this.length),o.read(this,t,!1,23,4)},h.prototype.readDoubleLE=function(t,e){return e||$(t,8,this.length),o.read(this,t,!0,52,8)},h.prototype.readDoubleBE=function(t,e){return e||$(t,8,this.length),o.read(this,t,!1,52,8)},h.prototype.writeUIntLE=function(t,e,r,n){(t=+t,e|=0,r|=0,n)||Y(this,t,e,r,Math.pow(2,8*r)-1,0);var o=1,i=0;for(this[e]=255&t;++i<r&&(o*=256);)this[e+i]=t/o&255;return e+r},h.prototype.writeUIntBE=function(t,e,r,n){(t=+t,e|=0,r|=0,n)||Y(this,t,e,r,Math.pow(2,8*r)-1,0);var i=r-1,o=1;for(this[e+i]=255&t;--i>=0&&(o*=256);)this[e+i]=t/o&255;return e+r},h.prototype.writeUInt8=function(t,e,r){return t=+t,e|=0,r||Y(this,t,e,1,255,0),h.TYPED_ARRAY_SUPPORT||(t=Math.floor(t)),this[e]=255&t,e+1},h.prototype.writeUInt16LE=function(t,e,r){return t=+t,e|=0,r||Y(this,t,e,2,65535,0),h.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8):k(this,t,e,!0),e+2},h.prototype.writeUInt16BE=function(t,e,r){return t=+t,e|=0,r||Y(this,t,e,2,65535,0),h.TYPED_ARRAY_SUPPORT?(this[e]=t>>>8,this[e+1]=255&t):k(this,t,e,!1),e+2},h.prototype.writeUInt32LE=function(t,e,r){return t=+t,e|=0,r||Y(this,t,e,4,4294967295,0),h.TYPED_ARRAY_SUPPORT?(this[e+3]=t>>>24,this[e+2]=t>>>16,this[e+1]=t>>>8,this[e]=255&t):G(this,t,e,!0),e+4},h.prototype.writeUInt32BE=function(t,e,r){return t=+t,e|=0,r||Y(this,t,e,4,4294967295,0),h.TYPED_ARRAY_SUPPORT?(this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t):G(this,t,e,!1),e+4},h.prototype.writeIntLE=function(t,e,r,n){if(t=+t,e|=0,!n){var o=Math.pow(2,8*r-1);Y(this,t,e,r,o-1,-o)}var i=0,c=1,sub=0;for(this[e]=255&t;++i<r&&(c*=256);)t<0&&0===sub&&0!==this[e+i-1]&&(sub=1),this[e+i]=(t/c>>0)-sub&255;return e+r},h.prototype.writeIntBE=function(t,e,r,n){if(t=+t,e|=0,!n){var o=Math.pow(2,8*r-1);Y(this,t,e,r,o-1,-o)}var i=r-1,c=1,sub=0;for(this[e+i]=255&t;--i>=0&&(c*=256);)t<0&&0===sub&&0!==this[e+i+1]&&(sub=1),this[e+i]=(t/c>>0)-sub&255;return e+r},h.prototype.writeInt8=function(t,e,r){return t=+t,e|=0,r||Y(this,t,e,1,127,-128),h.TYPED_ARRAY_SUPPORT||(t=Math.floor(t)),t<0&&(t=255+t+1),this[e]=255&t,e+1},h.prototype.writeInt16LE=function(t,e,r){return t=+t,e|=0,r||Y(this,t,e,2,32767,-32768),h.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8):k(this,t,e,!0),e+2},h.prototype.writeInt16BE=function(t,e,r){return t=+t,e|=0,r||Y(this,t,e,2,32767,-32768),h.TYPED_ARRAY_SUPPORT?(this[e]=t>>>8,this[e+1]=255&t):k(this,t,e,!1),e+2},h.prototype.writeInt32LE=function(t,e,r){return t=+t,e|=0,r||Y(this,t,e,4,2147483647,-2147483648),h.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8,this[e+2]=t>>>16,this[e+3]=t>>>24):G(this,t,e,!0),e+4},h.prototype.writeInt32BE=function(t,e,r){return t=+t,e|=0,r||Y(this,t,e,4,2147483647,-2147483648),t<0&&(t=4294967295+t+1),h.TYPED_ARRAY_SUPPORT?(this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t):G(this,t,e,!1),e+4},h.prototype.writeFloatLE=function(t,e,r){return j(this,t,e,!0,r)},h.prototype.writeFloatBE=function(t,e,r){return j(this,t,e,!1,r)},h.prototype.writeDoubleLE=function(t,e,r){return V(this,t,e,!0,r)},h.prototype.writeDoubleBE=function(t,e,r){return V(this,t,e,!1,r)},h.prototype.copy=function(t,e,r,n){if(r||(r=0),n||0===n||(n=this.length),e>=t.length&&(e=t.length),e||(e=0),n>0&&n<r&&(n=r),n===r)return 0;if(0===t.length||0===this.length)return 0;if(e<0)throw new RangeError("targetStart out of bounds");if(r<0||r>=this.length)throw new RangeError("sourceStart out of bounds");if(n<0)throw new RangeError("sourceEnd out of bounds");n>this.length&&(n=this.length),t.length-e<n-r&&(n=t.length-e+r);var i,o=n-r;if(this===t&&r<e&&e<n)for(i=o-1;i>=0;--i)t[i+e]=this[i+r];else if(o<1e3||!h.TYPED_ARRAY_SUPPORT)for(i=0;i<o;++i)t[i+e]=this[i+r];else Uint8Array.prototype.set.call(t,this.subarray(r,r+o),e);return o},h.prototype.fill=function(t,e,r,n){if("string"==typeof t){if("string"==typeof e?(n=e,e=0,r=this.length):"string"==typeof r&&(n=r,r=this.length),1===t.length){var code=t.charCodeAt(0);code<256&&(t=code)}if(void 0!==n&&"string"!=typeof n)throw new TypeError("encoding must be a string");if("string"==typeof n&&!h.isEncoding(n))throw new TypeError("Unknown encoding: "+n)}else"number"==typeof t&&(t&=255);if(e<0||this.length<e||this.length<r)throw new RangeError("Out of range index");if(r<=e)return this;var i;if(e>>>=0,r=void 0===r?this.length:r>>>0,t||(t=0),"number"==typeof t)for(i=e;i<r;++i)this[i]=t;else{var o=h.isBuffer(t)?t:K(new h(t,n).toString()),c=o.length;for(i=0;i<r-e;++i)this[i+e]=o[i%c]}return this};var H=/[^+\/0-9A-Za-z-_]/g;function z(t){return t<16?"0"+t.toString(16):t.toString(16)}function K(t,e){var r;e=e||1/0;for(var n=t.length,o=null,c=[],i=0;i<n;++i){if((r=t.charCodeAt(i))>55295&&r<57344){if(!o){if(r>56319){(e-=3)>-1&&c.push(239,191,189);continue}if(i+1===n){(e-=3)>-1&&c.push(239,191,189);continue}o=r;continue}if(r<56320){(e-=3)>-1&&c.push(239,191,189),o=r;continue}r=65536+(o-55296<<10|r-56320)}else o&&(e-=3)>-1&&c.push(239,191,189);if(o=null,r<128){if((e-=1)<0)break;c.push(r)}else if(r<2048){if((e-=2)<0)break;c.push(r>>6|192,63&r|128)}else if(r<65536){if((e-=3)<0)break;c.push(r>>12|224,r>>6&63|128,63&r|128)}else{if(!(r<1114112))throw new Error("Invalid code point");if((e-=4)<0)break;c.push(r>>18|240,r>>12&63|128,r>>6&63|128,63&r|128)}}return c}function W(t){return n.toByteArray(function(t){if((t=function(t){return t.trim?t.trim():t.replace(/^\s+|\s+$/g,"")}(t).replace(H,"")).length<2)return"";for(;t.length%4!=0;)t+="=";return t}(t))}function Z(t,e,r,n){for(var i=0;i<n&&!(i+r>=e.length||i>=t.length);++i)e[i+r]=t[i];return i}}).call(this,r(73))},338:function(t,e){var r,n,o,c,f,l,h,d=9e4;r=function(t){return t*d},n=function(t,e){return t*e},o=function(t){return t/d},c=function(t,e){return t/e},f=function(t,e){return r(c(t,e))},l=function(t,e){return n(o(t),e)},h=function(t,e,r){return o(r?t:t-e)},t.exports={ONE_SECOND_IN_TS:d,secondsToVideoTs:r,secondsToAudioTs:n,videoTsToSeconds:o,audioTsToSeconds:c,audioTsToVideoTs:f,videoTsToAudioTs:l,metadataTsToSeconds:h}},395:function(t,e){t.exports=function(){var t={},e=t._fns={};return t.emit=function(t,r,n,o,c,f,l){var h=function(t){var r=e[t]?e[t]:[],n=t.indexOf(":"),o=-1===n?[t]:[t.substring(0,n),t.substring(n+1)],c=Object.keys(e),i=0,f=c.length;for(;i<f;i++){var l=c[i];if("*"===l&&(r=r.concat(e[l])),2===o.length&&o[0]===l){r=r.concat(e[l]);break}}return r}(t);h.length&&function(t,e,r){var i=0,n=e.length;for(;i<n&&e[i];i++)e[i].event=t,e[i].apply(e[i],r)}(t,h,[r,n,o,c,f,l])},t.on=function(t,r){e[t]||(e[t]=[]),e[t].push(r)},t.once=function(e,r){this.on(e,(function n(){r.apply(this,arguments),t.off(e,n)}))},t.off=function(t,e){var r=[];if(t&&e)for(var n=this._fns[t],i=0,o=n?n.length:0;i<o;i++)n[i]!==e&&r.push(n[i]);r.length?this._fns[t]=r:delete this._fns[t]},t}},415:function(t,e,r){"use strict";r.d(e,"a",(function(){return S}));var n=function(){function t(){this.listeners={}}var e=t.prototype;return e.on=function(t,e){this.listeners[t]||(this.listeners[t]=[]),this.listeners[t].push(e)},e.off=function(t,e){if(!this.listeners[t])return!1;var r=this.listeners[t].indexOf(e);return this.listeners[t]=this.listeners[t].slice(0),this.listeners[t].splice(r,1),r>-1},e.trigger=function(t){var e=this.listeners[t];if(e)if(2===arguments.length)for(var r=e.length,i=0;i<r;++i)e[i].call(this,arguments[1]);else for(var n=Array.prototype.slice.call(arguments,1),o=e.length,c=0;c<o;++c)e[c].apply(this,n)},e.dispose=function(){this.listeners={}},e.pipe=function(t){this.on("data",(function(data){t.push(data)}))},t}(),o=r(139),c=r.n(o),f=r(834);class l extends n{constructor(){super(),this.buffer=""}push(data){let t;for(this.buffer+=data,t=this.buffer.indexOf("\n");t>-1;t=this.buffer.indexOf("\n"))this.trigger("data",this.buffer.substring(0,t)),this.buffer=this.buffer.substring(t+1)}}const h=String.fromCharCode(9),d=function(t){const e=/([0-9.]*)?@?([0-9.]*)?/.exec(t||""),r={};return e[1]&&(r.length=parseInt(e[1],10)),e[2]&&(r.offset=parseInt(e[2],10)),r},m=function(t){const e={};if(!t)return e;const r=t.split(new RegExp('(?:^|,)((?:[^=]*)=(?:"[^"]*"|[^,]*))'));let n,i=r.length;for(;i--;)""!==r[i]&&(n=/([^=]*)=(.*)/.exec(r[i]).slice(1),n[0]=n[0].replace(/^\s+|\s+$/g,""),n[1]=n[1].replace(/^\s+|\s+$/g,""),n[1]=n[1].replace(/^['"](.*)['"]$/g,"$1"),e[n[0]]=n[1]);return e};class y extends n{constructor(){super(),this.customParsers=[],this.tagMappers=[]}push(line){let t,e;if(0===(line=line.trim()).length)return;if("#"!==line[0])return void this.trigger("data",{type:"uri",uri:line});this.tagMappers.reduce(((t,e)=>{const r=e(line);return r===line?t:t.concat([r])}),[line]).forEach((r=>{for(let i=0;i<this.customParsers.length;i++)if(this.customParsers[i].call(this,r))return;if(0===r.indexOf("#EXT"))if(r=r.replace("\r",""),t=/^#EXTM3U/.exec(r),t)this.trigger("data",{type:"tag",tagType:"m3u"});else{if(t=/^#EXTINF:([0-9\.]*)?,?(.*)?$/.exec(r),t)return e={type:"tag",tagType:"inf"},t[1]&&(e.duration=parseFloat(t[1])),t[2]&&(e.title=t[2]),void this.trigger("data",e);if(t=/^#EXT-X-TARGETDURATION:([0-9.]*)?/.exec(r),t)return e={type:"tag",tagType:"targetduration"},t[1]&&(e.duration=parseInt(t[1],10)),void this.trigger("data",e);if(t=/^#EXT-X-VERSION:([0-9.]*)?/.exec(r),t)return e={type:"tag",tagType:"version"},t[1]&&(e.version=parseInt(t[1],10)),void this.trigger("data",e);if(t=/^#EXT-X-MEDIA-SEQUENCE:(\-?[0-9.]*)?/.exec(r),t)return e={type:"tag",tagType:"media-sequence"},t[1]&&(e.number=parseInt(t[1],10)),void this.trigger("data",e);if(t=/^#EXT-X-DISCONTINUITY-SEQUENCE:(\-?[0-9.]*)?/.exec(r),t)return e={type:"tag",tagType:"discontinuity-sequence"},t[1]&&(e.number=parseInt(t[1],10)),void this.trigger("data",e);if(t=/^#EXT-X-PLAYLIST-TYPE:(.*)?$/.exec(r),t)return e={type:"tag",tagType:"playlist-type"},t[1]&&(e.playlistType=t[1]),void this.trigger("data",e);if(t=/^#EXT-X-BYTERANGE:(.*)?$/.exec(r),t)return e=c()(d(t[1]),{type:"tag",tagType:"byterange"}),void this.trigger("data",e);if(t=/^#EXT-X-ALLOW-CACHE:(YES|NO)?/.exec(r),t)return e={type:"tag",tagType:"allow-cache"},t[1]&&(e.allowed=!/NO/.test(t[1])),void this.trigger("data",e);if(t=/^#EXT-X-MAP:(.*)$/.exec(r),t){if(e={type:"tag",tagType:"map"},t[1]){const r=m(t[1]);r.URI&&(e.uri=r.URI),r.BYTERANGE&&(e.byterange=d(r.BYTERANGE))}this.trigger("data",e)}else if(t=/^#EXT-X-STREAM-INF:(.*)$/.exec(r),t){if(e={type:"tag",tagType:"stream-inf"},t[1]){if(e.attributes=m(t[1]),e.attributes.RESOLUTION){const t=e.attributes.RESOLUTION.split("x"),r={};t[0]&&(r.width=parseInt(t[0],10)),t[1]&&(r.height=parseInt(t[1],10)),e.attributes.RESOLUTION=r}e.attributes.BANDWIDTH&&(e.attributes.BANDWIDTH=parseInt(e.attributes.BANDWIDTH,10)),e.attributes["FRAME-RATE"]&&(e.attributes["FRAME-RATE"]=parseFloat(e.attributes["FRAME-RATE"])),e.attributes["PROGRAM-ID"]&&(e.attributes["PROGRAM-ID"]=parseInt(e.attributes["PROGRAM-ID"],10))}this.trigger("data",e)}else{if(t=/^#EXT-X-MEDIA:(.*)$/.exec(r),t)return e={type:"tag",tagType:"media"},t[1]&&(e.attributes=m(t[1])),void this.trigger("data",e);if(t=/^#EXT-X-ENDLIST/.exec(r),t)this.trigger("data",{type:"tag",tagType:"endlist"});else if(t=/^#EXT-X-DISCONTINUITY/.exec(r),t)this.trigger("data",{type:"tag",tagType:"discontinuity"});else{if(t=/^#EXT-X-PROGRAM-DATE-TIME:(.*)$/.exec(r),t)return e={type:"tag",tagType:"program-date-time"},t[1]&&(e.dateTimeString=t[1],e.dateTimeObject=new Date(t[1])),void this.trigger("data",e);if(t=/^#EXT-X-KEY:(.*)$/.exec(r),t)return e={type:"tag",tagType:"key"},t[1]&&(e.attributes=m(t[1]),e.attributes.IV&&("0x"===e.attributes.IV.substring(0,2).toLowerCase()&&(e.attributes.IV=e.attributes.IV.substring(2)),e.attributes.IV=e.attributes.IV.match(/.{8}/g),e.attributes.IV[0]=parseInt(e.attributes.IV[0],16),e.attributes.IV[1]=parseInt(e.attributes.IV[1],16),e.attributes.IV[2]=parseInt(e.attributes.IV[2],16),e.attributes.IV[3]=parseInt(e.attributes.IV[3],16),e.attributes.IV=new Uint32Array(e.attributes.IV))),void this.trigger("data",e);if(t=/^#EXT-X-START:(.*)$/.exec(r),t)return e={type:"tag",tagType:"start"},t[1]&&(e.attributes=m(t[1]),e.attributes["TIME-OFFSET"]=parseFloat(e.attributes["TIME-OFFSET"]),e.attributes.PRECISE=/YES/.test(e.attributes.PRECISE)),void this.trigger("data",e);if(t=/^#EXT-X-CUE-OUT-CONT:(.*)?$/.exec(r),t)return e={type:"tag",tagType:"cue-out-cont"},t[1]?e.data=t[1]:e.data="",void this.trigger("data",e);if(t=/^#EXT-X-CUE-OUT:(.*)?$/.exec(r),t)return e={type:"tag",tagType:"cue-out"},t[1]?e.data=t[1]:e.data="",void this.trigger("data",e);if(t=/^#EXT-X-CUE-IN:(.*)?$/.exec(r),t)return e={type:"tag",tagType:"cue-in"},t[1]?e.data=t[1]:e.data="",void this.trigger("data",e);if(t=/^#EXT-X-SKIP:(.*)$/.exec(r),t&&t[1])return e={type:"tag",tagType:"skip"},e.attributes=m(t[1]),e.attributes.hasOwnProperty("SKIPPED-SEGMENTS")&&(e.attributes["SKIPPED-SEGMENTS"]=parseInt(e.attributes["SKIPPED-SEGMENTS"],10)),e.attributes.hasOwnProperty("RECENTLY-REMOVED-DATERANGES")&&(e.attributes["RECENTLY-REMOVED-DATERANGES"]=e.attributes["RECENTLY-REMOVED-DATERANGES"].split(h)),void this.trigger("data",e);if(t=/^#EXT-X-PART:(.*)$/.exec(r),t&&t[1])return e={type:"tag",tagType:"part"},e.attributes=m(t[1]),["DURATION"].forEach((function(t){e.attributes.hasOwnProperty(t)&&(e.attributes[t]=parseFloat(e.attributes[t]))})),["INDEPENDENT","GAP"].forEach((function(t){e.attributes.hasOwnProperty(t)&&(e.attributes[t]=/YES/.test(e.attributes[t]))})),e.attributes.hasOwnProperty("BYTERANGE")&&(e.attributes.byterange=d(e.attributes.BYTERANGE)),void this.trigger("data",e);if(t=/^#EXT-X-SERVER-CONTROL:(.*)$/.exec(r),t&&t[1])return e={type:"tag",tagType:"server-control"},e.attributes=m(t[1]),["CAN-SKIP-UNTIL","PART-HOLD-BACK","HOLD-BACK"].forEach((function(t){e.attributes.hasOwnProperty(t)&&(e.attributes[t]=parseFloat(e.attributes[t]))})),["CAN-SKIP-DATERANGES","CAN-BLOCK-RELOAD"].forEach((function(t){e.attributes.hasOwnProperty(t)&&(e.attributes[t]=/YES/.test(e.attributes[t]))})),void this.trigger("data",e);if(t=/^#EXT-X-PART-INF:(.*)$/.exec(r),t&&t[1])return e={type:"tag",tagType:"part-inf"},e.attributes=m(t[1]),["PART-TARGET"].forEach((function(t){e.attributes.hasOwnProperty(t)&&(e.attributes[t]=parseFloat(e.attributes[t]))})),void this.trigger("data",e);if(t=/^#EXT-X-PRELOAD-HINT:(.*)$/.exec(r),t&&t[1])return e={type:"tag",tagType:"preload-hint"},e.attributes=m(t[1]),["BYTERANGE-START","BYTERANGE-LENGTH"].forEach((function(t){if(e.attributes.hasOwnProperty(t)){e.attributes[t]=parseInt(e.attributes[t],10);const r="BYTERANGE-LENGTH"===t?"length":"offset";e.attributes.byterange=e.attributes.byterange||{},e.attributes.byterange[r]=e.attributes[t],delete e.attributes[t]}})),void this.trigger("data",e);if(t=/^#EXT-X-RENDITION-REPORT:(.*)$/.exec(r),t&&t[1])return e={type:"tag",tagType:"rendition-report"},e.attributes=m(t[1]),["LAST-MSN","LAST-PART"].forEach((function(t){e.attributes.hasOwnProperty(t)&&(e.attributes[t]=parseInt(e.attributes[t],10))})),void this.trigger("data",e);if(t=/^#EXT-X-DATERANGE:(.*)$/.exec(r),t&&t[1]){e={type:"tag",tagType:"daterange"},e.attributes=m(t[1]),["ID","CLASS"].forEach((function(t){e.attributes.hasOwnProperty(t)&&(e.attributes[t]=String(e.attributes[t]))})),["START-DATE","END-DATE"].forEach((function(t){e.attributes.hasOwnProperty(t)&&(e.attributes[t]=new Date(e.attributes[t]))})),["DURATION","PLANNED-DURATION"].forEach((function(t){e.attributes.hasOwnProperty(t)&&(e.attributes[t]=parseFloat(e.attributes[t]))})),["END-ON-NEXT"].forEach((function(t){e.attributes.hasOwnProperty(t)&&(e.attributes[t]=/YES/i.test(e.attributes[t]))})),["SCTE35-CMD"," SCTE35-OUT","SCTE35-IN"].forEach((function(t){e.attributes.hasOwnProperty(t)&&(e.attributes[t]=e.attributes[t].toString(16))}));const r=/^X-([A-Z]+-)+[A-Z]+$/;for(const t in e.attributes){if(!r.test(t))continue;const n=/[0-9A-Fa-f]{6}/g.test(e.attributes[t]),o=/^\d+(\.\d+)?$/.test(e.attributes[t]);e.attributes[t]=n?e.attributes[t].toString(16):o?parseFloat(e.attributes[t]):String(e.attributes[t])}this.trigger("data",e)}else t=/^#EXT-X-INDEPENDENT-SEGMENTS/.exec(r),t?this.trigger("data",{type:"tag",tagType:"independent-segments"}):this.trigger("data",{type:"tag",data:r.slice(4)})}}}else this.trigger("data",{type:"comment",text:r.slice(1)})}))}addParser({expression:t,customType:e,dataParser:r,segment:n}){"function"!=typeof r&&(r=line=>line),this.customParsers.push((line=>{if(t.exec(line))return this.trigger("data",{type:"custom",data:r(line),customType:e,segment:n}),!0}))}addTagMapper({expression:t,map:map}){this.tagMappers.push((line=>t.test(line)?map(line):line))}}const E=function(t){const e={};return Object.keys(t).forEach((function(r){var n;e[(n=r,n.toLowerCase().replace(/-(\w)/g,(a=>a[1].toUpperCase())))]=t[r]})),e},T=function(t){const{serverControl:e,targetDuration:r,partTargetDuration:n}=t;if(!e)return;const o="#EXT-X-SERVER-CONTROL",c="holdBack",f="partHoldBack",l=r&&3*r,h=n&&2*n;r&&!e.hasOwnProperty(c)&&(e[c]=l,this.trigger("info",{message:`${o} defaulting HOLD-BACK to targetDuration * 3 (${l}).`})),l&&e[c]<l&&(this.trigger("warn",{message:`${o} clamping HOLD-BACK (${e[c]}) to targetDuration * 3 (${l})`}),e[c]=l),n&&!e.hasOwnProperty(f)&&(e[f]=3*n,this.trigger("info",{message:`${o} defaulting PART-HOLD-BACK to partTargetDuration * 3 (${e[f]}).`})),n&&e[f]<h&&(this.trigger("warn",{message:`${o} clamping PART-HOLD-BACK (${e[f]}) to partTargetDuration * 2 (${h}).`}),e[f]=h)};class S extends n{constructor(){super(),this.lineStream=new l,this.parseStream=new y,this.lineStream.pipe(this.parseStream);const t=this,e=[];let r,n,o={},h=!1;const d=function(){},m={AUDIO:{},VIDEO:{},"CLOSED-CAPTIONS":{},SUBTITLES:{}};let S=0;this.manifest={allowCache:!0,discontinuityStarts:[],segments:[]};let v=0,A=0;const w={};this.on("end",(()=>{o.uri||!o.parts&&!o.preloadHints||(!o.map&&r&&(o.map=r),!o.key&&n&&(o.key=n),o.timeline||"number"!=typeof S||(o.timeline=S),this.manifest.preloadSegment=o)})),this.parseStream.on("data",(function(l){let y,R;({tag(){({version(){l.version&&(this.manifest.version=l.version)},"allow-cache"(){this.manifest.allowCache=l.allowed,"allowed"in l||(this.trigger("info",{message:"defaulting allowCache to YES"}),this.manifest.allowCache=!0)},byterange(){const t={};"length"in l&&(o.byterange=t,t.length=l.length,"offset"in l||(l.offset=v)),"offset"in l&&(o.byterange=t,t.offset=l.offset),v=t.offset+t.length},endlist(){this.manifest.endList=!0},inf(){"mediaSequence"in this.manifest||(this.manifest.mediaSequence=0,this.trigger("info",{message:"defaulting media sequence to zero"})),"discontinuitySequence"in this.manifest||(this.manifest.discontinuitySequence=0,this.trigger("info",{message:"defaulting discontinuity sequence to zero"})),l.duration>0&&(o.duration=l.duration),0===l.duration&&(o.duration=.01,this.trigger("info",{message:"updating zero segment duration to a small value"})),this.manifest.segments=e},key(){if(l.attributes)if("NONE"!==l.attributes.METHOD)if(l.attributes.URI){if("com.apple.streamingkeydelivery"===l.attributes.KEYFORMAT)return this.manifest.contentProtection=this.manifest.contentProtection||{},void(this.manifest.contentProtection["com.apple.fps.1_0"]={attributes:l.attributes});if("com.microsoft.playready"===l.attributes.KEYFORMAT)return this.manifest.contentProtection=this.manifest.contentProtection||{},void(this.manifest.contentProtection["com.microsoft.playready"]={uri:l.attributes.URI});if("urn:uuid:edef8ba9-79d6-4ace-a3c8-27dcd51d21ed"===l.attributes.KEYFORMAT){return-1===["SAMPLE-AES","SAMPLE-AES-CTR","SAMPLE-AES-CENC"].indexOf(l.attributes.METHOD)?void this.trigger("warn",{message:"invalid key method provided for Widevine"}):("SAMPLE-AES-CENC"===l.attributes.METHOD&&this.trigger("warn",{message:"SAMPLE-AES-CENC is deprecated, please use SAMPLE-AES-CTR instead"}),"data:text/plain;base64,"!==l.attributes.URI.substring(0,23)?void this.trigger("warn",{message:"invalid key URI provided for Widevine"}):l.attributes.KEYID&&"0x"===l.attributes.KEYID.substring(0,2)?(this.manifest.contentProtection=this.manifest.contentProtection||{},void(this.manifest.contentProtection["com.widevine.alpha"]={attributes:{schemeIdUri:l.attributes.KEYFORMAT,keyId:l.attributes.KEYID.substring(2)},pssh:Object(f.a)(l.attributes.URI.split(",")[1])})):void this.trigger("warn",{message:"invalid key ID provided for Widevine"}))}l.attributes.METHOD||this.trigger("warn",{message:"defaulting key method to AES-128"}),n={method:l.attributes.METHOD||"AES-128",uri:l.attributes.URI},void 0!==l.attributes.IV&&(n.iv=l.attributes.IV)}else this.trigger("warn",{message:"ignoring key declaration without URI"});else n=null;else this.trigger("warn",{message:"ignoring key declaration without attribute list"})},"media-sequence"(){isFinite(l.number)?this.manifest.mediaSequence=l.number:this.trigger("warn",{message:"ignoring invalid media sequence: "+l.number})},"discontinuity-sequence"(){isFinite(l.number)?(this.manifest.discontinuitySequence=l.number,S=l.number):this.trigger("warn",{message:"ignoring invalid discontinuity sequence: "+l.number})},"playlist-type"(){/VOD|EVENT/.test(l.playlistType)?this.manifest.playlistType=l.playlistType:this.trigger("warn",{message:"ignoring unknown playlist type: "+l.playlist})},map(){r={},l.uri&&(r.uri=l.uri),l.byterange&&(r.byterange=l.byterange),n&&(r.key=n)},"stream-inf"(){this.manifest.playlists=e,this.manifest.mediaGroups=this.manifest.mediaGroups||m,l.attributes?(o.attributes||(o.attributes={}),c()(o.attributes,l.attributes)):this.trigger("warn",{message:"ignoring empty stream-inf attributes"})},media(){if(this.manifest.mediaGroups=this.manifest.mediaGroups||m,!(l.attributes&&l.attributes.TYPE&&l.attributes["GROUP-ID"]&&l.attributes.NAME))return void this.trigger("warn",{message:"ignoring incomplete or missing media group"});const t=this.manifest.mediaGroups[l.attributes.TYPE];t[l.attributes["GROUP-ID"]]=t[l.attributes["GROUP-ID"]]||{},y=t[l.attributes["GROUP-ID"]],R={default:/yes/i.test(l.attributes.DEFAULT)},R.default?R.autoselect=!0:R.autoselect=/yes/i.test(l.attributes.AUTOSELECT),l.attributes.LANGUAGE&&(R.language=l.attributes.LANGUAGE),l.attributes.URI&&(R.uri=l.attributes.URI),l.attributes["INSTREAM-ID"]&&(R.instreamId=l.attributes["INSTREAM-ID"]),l.attributes.CHARACTERISTICS&&(R.characteristics=l.attributes.CHARACTERISTICS),l.attributes.FORCED&&(R.forced=/yes/i.test(l.attributes.FORCED)),y[l.attributes.NAME]=R},discontinuity(){S+=1,o.discontinuity=!0,this.manifest.discontinuityStarts.push(e.length)},"program-date-time"(){void 0===this.manifest.dateTimeString&&(this.manifest.dateTimeString=l.dateTimeString,this.manifest.dateTimeObject=l.dateTimeObject),o.dateTimeString=l.dateTimeString,o.dateTimeObject=l.dateTimeObject},targetduration(){!isFinite(l.duration)||l.duration<0?this.trigger("warn",{message:"ignoring invalid target duration: "+l.duration}):(this.manifest.targetDuration=l.duration,T.call(this,this.manifest))},start(){l.attributes&&!isNaN(l.attributes["TIME-OFFSET"])?this.manifest.start={timeOffset:l.attributes["TIME-OFFSET"],precise:l.attributes.PRECISE}:this.trigger("warn",{message:"ignoring start declaration without appropriate attribute list"})},"cue-out"(){o.cueOut=l.data},"cue-out-cont"(){o.cueOutCont=l.data},"cue-in"(){o.cueIn=l.data},skip(){this.manifest.skip=E(l.attributes),this.warnOnMissingAttributes_("#EXT-X-SKIP",l.attributes,["SKIPPED-SEGMENTS"])},part(){h=!0;const t=this.manifest.segments.length,e=E(l.attributes);o.parts=o.parts||[],o.parts.push(e),e.byterange&&(e.byterange.hasOwnProperty("offset")||(e.byterange.offset=A),A=e.byterange.offset+e.byterange.length);const r=o.parts.length-1;this.warnOnMissingAttributes_(`#EXT-X-PART #${r} for segment #${t}`,l.attributes,["URI","DURATION"]),this.manifest.renditionReports&&this.manifest.renditionReports.forEach(((t,i)=>{t.hasOwnProperty("lastPart")||this.trigger("warn",{message:`#EXT-X-RENDITION-REPORT #${i} lacks required attribute(s): LAST-PART`})}))},"server-control"(){const t=this.manifest.serverControl=E(l.attributes);t.hasOwnProperty("canBlockReload")||(t.canBlockReload=!1,this.trigger("info",{message:"#EXT-X-SERVER-CONTROL defaulting CAN-BLOCK-RELOAD to false"})),T.call(this,this.manifest),t.canSkipDateranges&&!t.hasOwnProperty("canSkipUntil")&&this.trigger("warn",{message:"#EXT-X-SERVER-CONTROL lacks required attribute CAN-SKIP-UNTIL which is required when CAN-SKIP-DATERANGES is set"})},"preload-hint"(){const t=this.manifest.segments.length,e=E(l.attributes),r=e.type&&"PART"===e.type;o.preloadHints=o.preloadHints||[],o.preloadHints.push(e),e.byterange&&(e.byterange.hasOwnProperty("offset")||(e.byterange.offset=r?A:0,r&&(A=e.byterange.offset+e.byterange.length)));const n=o.preloadHints.length-1;if(this.warnOnMissingAttributes_(`#EXT-X-PRELOAD-HINT #${n} for segment #${t}`,l.attributes,["TYPE","URI"]),e.type)for(let i=0;i<o.preloadHints.length-1;i++){const r=o.preloadHints[i];r.type&&(r.type===e.type&&this.trigger("warn",{message:`#EXT-X-PRELOAD-HINT #${n} for segment #${t} has the same TYPE ${e.type} as preload hint #${i}`}))}},"rendition-report"(){const t=E(l.attributes);this.manifest.renditionReports=this.manifest.renditionReports||[],this.manifest.renditionReports.push(t);const e=this.manifest.renditionReports.length-1,r=["LAST-MSN","URI"];h&&r.push("LAST-PART"),this.warnOnMissingAttributes_(`#EXT-X-RENDITION-REPORT #${e}`,l.attributes,r)},"part-inf"(){this.manifest.partInf=E(l.attributes),this.warnOnMissingAttributes_("#EXT-X-PART-INF",l.attributes,["PART-TARGET"]),this.manifest.partInf.partTarget&&(this.manifest.partTargetDuration=this.manifest.partInf.partTarget),T.call(this,this.manifest)},daterange(){this.manifest.daterange=this.manifest.daterange||[],this.manifest.daterange.push(E(l.attributes));const t=this.manifest.daterange.length-1;this.warnOnMissingAttributes_(`#EXT-X-DATERANGE #${t}`,l.attributes,["ID","START-DATE"]);const e=this.manifest.daterange[t];e.endDate&&e.startDate&&new Date(e.endDate)<new Date(e.startDate)&&this.trigger("warn",{message:"EXT-X-DATERANGE END-DATE must be equal to or later than the value of the START-DATE"}),e.duration&&e.duration<0&&this.trigger("warn",{message:"EXT-X-DATERANGE DURATION must not be negative"}),e.plannedDuration&&e.plannedDuration<0&&this.trigger("warn",{message:"EXT-X-DATERANGE PLANNED-DURATION must not be negative"});const r=!!e.endOnNext;if(r&&!e.class&&this.trigger("warn",{message:"EXT-X-DATERANGE with an END-ON-NEXT=YES attribute must have a CLASS attribute"}),r&&(e.duration||e.endDate)&&this.trigger("warn",{message:"EXT-X-DATERANGE with an END-ON-NEXT=YES attribute must not contain DURATION or END-DATE attributes"}),e.duration&&e.endDate){const r=e.startDate,n=r.setSeconds(r.getSeconds()+e.duration);this.manifest.daterange[t].endDate=new Date(n)}if(e&&!this.manifest.dateTimeString&&this.trigger("warn",{message:"A playlist with EXT-X-DATERANGE tag must contain atleast one EXT-X-PROGRAM-DATE-TIME tag"}),w[e.id]){for(const t in w[e.id])if(w[e.id][t]!==e[t]){this.trigger("warn",{message:"EXT-X-DATERANGE tags with the same ID in a playlist must have the same attributes and same attribute values"});break}}else w[e.id]=e},"independent-segments"(){this.manifest.independentSegments=!0}}[l.tagType]||d).call(t)},uri(){o.uri=l.uri,e.push(o),this.manifest.targetDuration&&!("duration"in o)&&(this.trigger("warn",{message:"defaulting segment duration to the target duration"}),o.duration=this.manifest.targetDuration),n&&(o.key=n),o.timeline=S,r&&(o.map=r),A=0,o={}},comment(){},custom(){l.segment?(o.custom=o.custom||{},o.custom[l.customType]=l.data):(this.manifest.custom=this.manifest.custom||{},this.manifest.custom[l.customType]=l.data)}})[l.type].call(t)}))}warnOnMissingAttributes_(t,e,r){const n=[];r.forEach((function(t){e.hasOwnProperty(t)||n.push(t)})),n.length&&this.trigger("warn",{message:`${t} lacks required attribute(s): ${n.join(", ")}`})}push(t){this.lineStream.push(t)}end(){this.lineStream.push("\n"),this.trigger("end")}addParser(t){this.parseStream.addParser(t)}addTagMapper(t){this.parseStream.addTagMapper(t)}}},513:function(t,e,r){"use strict";r.d(e,"a",(function(){return c}));var n=Number.isNaN||function(t){return"number"==typeof t&&t!=t};function o(t,e){if(t.length!==e.length)return!1;for(var i=0;i<t.length;i++)if(r=t[i],o=e[i],!(r===o||n(r)&&n(o)))return!1;var r,o;return!0}function c(t,e){void 0===e&&(e=o);var r=null;function n(){for(var n=[],o=0;o<arguments.length;o++)n[o]=arguments[o];if(r&&r.lastThis===this&&e(n,r.lastArgs))return r.lastResult;var c=t.apply(this,n);return r={lastResult:c,lastArgs:n,lastThis:this},c}return n.clear=function(){r=null},n}},813:function(t,e,r){var n=r(1108),o=/[\/\+\.]/;t.exports=function(t,pattern){function e(pattern){var e=n(pattern,t,o);return e&&e.length>=2}return pattern?e(pattern.split(";")[0]):e}},834:function(t,e,r){"use strict";(function(t){r.d(e,"a",(function(){return c}));var n=r(3),o=r.n(n);function c(e){for(var s,r=(s=e,o.a.atob?o.a.atob(s):t.from(s,"base64").toString("binary")),n=new Uint8Array(r.length),i=0;i<r.length;i++)n[i]=r.charCodeAt(i);return n}}).call(this,r(264).Buffer)},835:function(t,e,r){"use strict";(function(t){r.d(e,"a",(function(){return c}));var n=r(3),o=r.n(n);function c(e){for(var s,r=(s=e,o.a.atob?o.a.atob(s):t.from(s,"base64").toString("binary")),n=new Uint8Array(r.length),i=0;i<r.length;i++)n[i]=r.charCodeAt(i);return n}}).call(this,r(264).Buffer)},837:function(t,e,r){var n=r(1175).getUint64;t.exports=function(data){var view=new DataView(data.buffer,data.byteOffset,data.byteLength),t={version:data[0],flags:new Uint8Array(data.subarray(1,4)),references:[],referenceId:view.getUint32(4),timescale:view.getUint32(8)},i=12;0===t.version?(t.earliestPresentationTime=view.getUint32(i),t.firstOffset=view.getUint32(i+4),i+=8):(t.earliestPresentationTime=n(data.subarray(i)),t.firstOffset=n(data.subarray(i+8)),i+=16),i+=2;var e=view.getUint16(i);for(i+=2;e>0;i+=12,e--)t.references.push({referenceType:(128&data[i])>>>7,referencedSize:2147483647&view.getUint32(i),subsegmentDuration:view.getUint32(i+4),startsWithSap:!!(128&data[i+8]),sapType:(112&data[i+8])>>>4,sapDeltaTime:268435455&view.getUint32(i+8)});return t}},852:function(t,e,r){"use strict";var n=Object.getOwnPropertySymbols,o=Object.prototype.hasOwnProperty,c=Object.prototype.propertyIsEnumerable;function f(t){if(null==t)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(t)}t.exports=function(){try{if(!Object.assign)return!1;var t=new String("abc");if(t[5]="de","5"===Object.getOwnPropertyNames(t)[0])return!1;for(var e={},i=0;i<10;i++)e["_"+String.fromCharCode(i)]=i;if("0123456789"!==Object.getOwnPropertyNames(e).map((function(t){return e[t]})).join(""))return!1;var r={};return"abcdefghijklmnopqrst".split("").forEach((function(t){r[t]=t})),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},r)).join("")}catch(t){return!1}}()?Object.assign:function(t,source){for(var e,r,l=f(t),s=1;s<arguments.length;s++){for(var h in e=Object(arguments[s]))o.call(e,h)&&(l[h]=e[h]);if(n){r=n(e);for(var i=0;i<r.length;i++)c.call(e,r[i])&&(l[r[i]]=e[r[i]])}}return l}}}]);