(window.webpackJsonp=window.webpackJsonp||[]).push([[62],{1832:function(e,t,r){"use strict";r(17),r(26),r(27);var o=r(4),n=r(5),d=(r(29),r(31),r(122),r(13),r(20),r(21),r(30),r(53),r(60),r(50),r(255),r(15)),l=r(197),c=r(52),m=r(11),f=r.n(m),v=r(100),h=r.n(v),_=r(18),y=r(807),w={name:"EditableField",props:{value:{type:String,required:!0},isEditing:{type:Boolean,required:!0},error:{type:Boolean,default:!1}},watch:{isEditing:function(e){var t=this;e&&this.$nextTick((function(){var input=t.$el.querySelector("input");input&&input.focus()}))}},computed:{editValue:{get:function(){return this.value},set:function(e){this.$emit("input",e)}}},methods:{onEdit:function(){this.$emit("edit")},onBlur:function(){this.$emit("blur",this.editValue)}}},x=r(0),component=Object(x.a)(w,(function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[e.isEditing?r("div",[e._t("default",(function(){return[r("KInput",{attrs:{error:e.error,required:""},on:{onBlur:e.onBlur},model:{value:e.editValue,callback:function(t){e.editValue=t},expression:"editValue"}})]}))],2):r("div",{staticClass:"flex items-center group cursor-pointer",on:{click:e.onEdit}},[r("span",{staticClass:"group-hover:underline min-w-[20px]"},[e._v("\n      "+e._s(e.value||"â€”--")+"\n    ")]),e._v(" "),r("div",{staticClass:"ml-2 -mt-1 invisible group-hover:visible"},[r("HeroIcon",{staticClass:"inline-block text-gray-500 leading-none",staticStyle:{height:"18px",width:"18px"},attrs:{name:"PencilIcon"}})],1)])])}),[],!1,null,null,null),C=component.exports;installComponents(component,{HeroIcon:r(32).default,KInput:r(57).default});r(35),r(38),r(93),r(61),r(92),r(103),r(63),r(65),r(114);var k=r(84),D=r(406);r(129);function $(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=function(e,t){if(!e)return;if("string"==typeof e)return S(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return S(e,t)}(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var i=0,o=function(){};return{s:o,n:function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var n,d=!0,l=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return d=e.done,e},e:function(e){l=!0,n=e},f:function(){try{d||null==r.return||r.return()}finally{if(l)throw n}}}}function S(e,t){(null==t||t>e.length)&&(t=e.length);for(var i=0,r=new Array(t);i<t;i++)r[i]=e[i];return r}var L={props:{value:{type:Boolean},orderId:{type:String},customerName:{type:String},customerCPF:{type:String},customerCNPJ:{type:String},amountRefund:{type:[String,Number]},isLoading:{type:Boolean},paymentGateway:{type:String},forceRefund:{type:Boolean}},computed:{banks:function(){return D},payment_gateway:function(){return!!this.paymentGateway&&this.paymentGateway.startsWith("kw")?"kiwipay":"pagarme"}},directives:{mask:k.mask},components:{TheMask:k.TheMask},validations:{refundBoleto:{bank_code:{required:_.required},account:{required:_.required},agency:{required:_.required}}},watch:{value:function(){this.$v.refundBoleto.$reset(),this.refundBoleto={bank_code:"",account:"",account_dv:"",agency:"",type_account:"conta_corrente"}}},data:function(){return{form:{pixKey:""},pixFrontendError:!1,pixErrorCPF:null,pixError:null,isLoadingPix:null,refundBoleto:{bank_code:"",account:"",account_dv:"",agency:"",agency_dv:"",type_account:"conta_corrente"},hexTokens:{F:{pattern:/[xX\d]/}}}},methods:{onOk:function(){if("kiwipay"===this.payment_gateway)this.refundPixKey();else if(this.$v.refundBoleto.$touch(),this.$v.refundBoleto.$error){var e,t=!1,r=this.refundBoleto.agency,o=this.refundBoleto.agency_dv,n=$(this.refundBoleto.agency);try{for(n.s();!(e=n.n()).done;){"0"!==e.value&&(t=!0)}}catch(e){n.e(e)}finally{n.f()}t||"1"!=this.refundBoleto.agency_dv||(r+=o,o=null),null!=this.refundBoleto.account_dv&&""!=this.refundBoleto.account_dv||(this.refundBoleto.account_dv=this.refundBoleto.account.charAt(this.refundBoleto.account.length-1),this.refundBoleto.account=this.refundBoleto.account.slice(0,-1)),this.refundBoleto.agency=r,this.refundBoleto.agency_dv=o,this.$notification({text:this.$t("sales.notifications.refund.boleto.error"),color:"red"})}else this.$emit("onOk",this.refundBoleto)},refundPixKey:function(){var e=this;return Object(o.a)(regeneratorRuntime.mark((function t(){var r;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,e.$refs.pixInput.onBlur(),e.pixFrontendError){t.next=10;break}return e.isLoadingPix=!0,r=null,r=e.forceRefund?"/admin/orders/".concat(e.orderId,"/refund"):"/orders/".concat(e.orderId,"/refund"),t.next=8,e.$axios.post(r,{pix_key:e.$refs.pixInput.isPhone()?"+55"+e.form.pixKey:e.form.pixKey});case 8:t.sent.data.body.transfer_completed&&e.$emit("onPixRefunded");case 10:t.next=16;break;case 12:t.prev=12,t.t0=t.catch(0),t.t0.response.data.error&&("PIX_INVALID"===t.t0.response.data.error.error?e.pixError="invalid":"PIX_DONT_MATCH"===t.t0.response.data.error.error&&(e.pixError="cpfNotMatched",e.pixErrorCPF=t.t0.response.data.error.pix_cpf)),"BoletoRefundError"===t.t0.response.data.errorResponse&&e.$notification({text:e.$t("sales.notifications.refund.boletoRefundError"),color:"red"});case 16:return t.prev=16,e.isLoadingPix=!1,t.finish(16);case 19:case"end":return t.stop()}}),t,null,[[0,12,16,19]])})))()},cpfFormat:function(e){return this.$root.$options.filters.formatCPF(e)},onCancel:function(){this.$emit("onCancel")}}},V=Object(x.a)(L,(function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("transition",{attrs:{mode:"out-in","enter-active-class":"ease-out duration-300","enter-class":"opacity-0 translate-y-4 sm:translate-y-0 sm:scale-95","enter-to-class":"opacity-100 translate-y-0 sm:scale-100","leave-active-class":"ease-in duration-200","leave-class":"opacity-100 translate-y-0 sm:scale-100","leave-to-class":"opacity-0 translate-y-4 sm:translate-y-0 sm:scale-95"}},[r("div",{directives:[{name:"show",rawName:"v-show",value:e.value,expression:"value"}],staticClass:"fixed h-full md:h-auto bottom-0 z-500 inset-x-0 sm:inset-0 sm:flex sm:items-center sm:justify-center"},[r("div",{staticClass:"fixed inset-0 transition-opacity",on:{click:e.onCancel}},[r("div",{staticClass:"absolute inset-0 bg-gray-500 opacity-75"})]),e._v(" "),r("div",{staticClass:"bg-white h-full overflow-x-auto md:rounded-lg sm:h-auto md:shadow-xl transform transition-all sm:w-full",class:"kiwipay"===e.payment_gateway?"sm:max-w-lg":"sm:max-w-3xl",attrs:{role:"dialog","aria-modal":"true","aria-labelledby":"modal-headline"}},[r("div",{staticClass:"px-4 pt-5 pb-4 sm:p-6"},[r("div",{staticClass:"mt-3 sm:mt-0 sm:ml-4 sm:text-left"},[r("div",{staticClass:"flex justify-between"},[r("div",[r("h3",{staticClass:"text-lg leading-6 font-medium text-gray-900",attrs:{id:"modal-headline"}},[e._v("\n                  "+e._s("kiwipay"===e.payment_gateway?e.$t("sales.modals.refund.boletov2.title"):e.$t("sales.modals.refund.boleto.title"))+"\n                ")]),e._v(" "),r("div",{staticClass:"mt-2"},[r("p",{staticClass:"text-sm leading-5 text-gray-500",domProps:{innerHTML:e._s("kiwipay"===e.payment_gateway?e.$t("sales.modals.refund.boletov2.description"):e.$t("sales.modals.refund.boleto.description"))}})])]),e._v(" "),r("div",{staticClass:"h-7 flex items-center"},[r("button",{staticClass:"cursor-pointer text-gray-400 hover:text-gray-500 transition ease-in-out duration-150",on:{click:function(t){return e.onCancel()}}},[r("svg",{staticClass:"h-6 w-6",attrs:{fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"}},[r("path",{attrs:{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"}})])])])]),e._v(" "),"kiwipay"!==e.payment_gateway?r("div",{staticClass:"mt-2"},[r("div",[r("div",{staticClass:"sm:grid sm:grid-cols-3 sm:gap-4 sm:items-start py-2"},[r("label",{staticClass:"block text-sm font-medium leading-5 text-gray-700 sm:mt-px sm:pt-2"},[e._v(e._s(e.$t("sales.modals.refund.boleto.form.name")))]),e._v(" "),r("div",{staticClass:"mt-1 sm:mt-0 col-span-2"},[r("div",{staticClass:"block text-sm leading-5 text-gray-700 sm:mt-px sm:pt-2"},[e._v("\n                      "+e._s(e.customerName)+"\n                    ")])])]),e._v(" "),r("div",{staticClass:"sm:grid sm:grid-cols-3 sm:gap-4 sm:items-start py-2"},[r("label",{staticClass:"block text-sm font-medium leading-5 text-gray-700 sm:mt-px sm:pt-2"},[e._v("CPF")]),e._v(" "),r("div",{staticClass:"mt-1 sm:mt-0 col-span-2"},[r("div",{staticClass:"block text-sm leading-5 text-gray-700 sm:mt-px sm:pt-2"},[e._v("\n                      "+e._s(e._f("formatCPF")(e.customerCPF))+"\n                    ")])])]),e._v(" "),r("div",{staticClass:"sm:grid sm:grid-cols-3 sm:gap-4 sm:items-start py-2"},[r("label",{staticClass:"block text-sm font-medium leading-5 text-gray-700 sm:mt-px sm:pt-2"},[e._v(e._s(e.$t("defaults.components.bankDropdown.label")))]),e._v(" "),r("div",{staticClass:"mt-1 sm:mt-0 col-span-2"},[r("BankDropdown",{model:{value:e.refundBoleto.bank_code,callback:function(t){e.$set(e.refundBoleto,"bank_code",t)},expression:"refundBoleto.bank_code"}})],1)]),e._v(" "),r("div",{staticClass:"sm:grid sm:grid-cols-3 sm:gap-4 sm:items-start py-2"},[r("label",{staticClass:"block text-sm font-medium leading-5 text-gray-700 sm:mt-px sm:pt-2"},[e._v(e._s(e.$t("sales.modals.refund.boleto.form.agency")))]),e._v(" "),r("div",{staticClass:"mt-1 sm:mt-0 col-span-2"},[r("input",{directives:[{name:"mask",rawName:"v-mask",value:"######",expression:"'######'"},{name:"model",rawName:"v-model.lazy",value:e.refundBoleto.agency,expression:"refundBoleto.agency",modifiers:{lazy:!0}}],staticClass:"form-input block w-full max-w-xxs py-2 px-3 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:shadow-outline-blue focus:border-blue-300 transition duration-150 ease-in-out sm:text-sm sm:leading-5",class:{"border-red-500":e.$v.refundBoleto.agency.$error},attrs:{autocomplete:"off"},domProps:{value:e.refundBoleto.agency},on:{blur:function(t){return e.$v.refundBoleto.agency.$touch()},change:function(t){return e.$set(e.refundBoleto,"agency",t.target.value)}}}),e._v(" "),e.$v.refundBoleto.agency.$error?r("div",{staticClass:"text-red-500 text-xs"},[e._v("\n                      Agency must be filled\n                    ")]):e._e()])]),e._v(" "),r("div",{staticClass:"sm:grid sm:grid-cols-3 sm:gap-4 sm:items-start py-2"},[r("label",{staticClass:"block text-sm font-medium leading-5 text-gray-700 sm:mt-px sm:pt-2"},[e._v(e._s(e.$t("sales.modals.refund.boleto.form.agencyDigit")))]),e._v(" "),r("div",{staticClass:"mt-1 sm:mt-0 col-span-2"},[r("the-mask",{staticClass:"form-input block w-16 py-2 px-3 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:shadow-outline-blue focus:border-blue-300 transition duration-150 ease-in-out sm:text-sm sm:leading-5",attrs:{mask:"F",tokens:e.hexTokens},model:{value:e.refundBoleto.agency_dv,callback:function(t){e.$set(e.refundBoleto,"agency_dv",t)},expression:"refundBoleto.agency_dv"}})],1)]),e._v(" "),r("div",{staticClass:"sm:grid sm:grid-cols-3 sm:gap-4 sm:items-start py-2"},[r("label",{staticClass:"block text-sm font-medium leading-5 text-gray-700 sm:mt-px sm:pt-2"},[e._v(e._s(e.$t("sales.modals.refund.boleto.form.accountNumber")))]),e._v(" "),r("div",{staticClass:"mt-1 sm:mt-0 col-span-2"},[r("input",{directives:[{name:"mask",rawName:"v-mask",value:"############",expression:"'############'"},{name:"model",rawName:"v-model.lazy",value:e.refundBoleto.account,expression:"refundBoleto.account",modifiers:{lazy:!0}}],staticClass:"form-input block w-full max-w-xxs py-2 px-3 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:shadow-outline-blue focus:border-blue-300 transition duration-150 ease-in-out sm:text-sm sm:leading-5",class:{"border-red-500":e.$v.refundBoleto.account.$error},attrs:{autocomplete:"off"},domProps:{value:e.refundBoleto.account},on:{blur:function(t){return e.$v.refundBoleto.account.$touch()},change:function(t){return e.$set(e.refundBoleto,"account",t.target.value)}}}),e._v(" "),e.$v.refundBoleto.account.$error?r("div",{staticClass:"text-red-500 text-xs"},[e._v("\n                      Account must be filled\n                    ")]):e._e()])]),e._v(" "),r("div",{staticClass:"sm:grid sm:grid-cols-3 sm:gap-4 sm:items-start py-2"},[r("label",{staticClass:"block text-sm font-medium leading-5 text-gray-700 sm:mt-px sm:pt-2"},[e._v(e._s(e.$t("sales.modals.refund.boleto.form.accountDigit")))]),e._v(" "),r("div",{staticClass:"mt-1 sm:mt-0 col-span-2"},[r("the-mask",{staticClass:"form-input block w-16 py-2 px-3 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:shadow-outline-blue focus:border-blue-300 transition duration-150 ease-in-out sm:text-sm sm:leading-5",attrs:{mask:"F",tokens:e.hexTokens},model:{value:e.refundBoleto.account_dv,callback:function(t){e.$set(e.refundBoleto,"account_dv",t)},expression:"refundBoleto.account_dv"}})],1)]),e._v(" "),r("div",{staticClass:"sm:grid sm:grid-cols-3 sm:gap-4 sm:items-start py-2"},[r("label",{staticClass:"block text-sm font-medium leading-5 text-gray-700 sm:mt-px sm:pt-2"},[e._v(e._s(e.$t("sales.modals.refund.boleto.form.accountType.label")))]),e._v(" "),r("div",{staticClass:"mt-1 sm:mt-0 col-span-2"},[r("select",{directives:[{name:"model",rawName:"v-model",value:e.refundBoleto.type_account,expression:"refundBoleto.type_account"}],staticClass:"mt-1 form-select block max-w-xxs w-full pl-3 pr-10 py-2 text-base leading-6 border-gray-300 focus:outline-none focus:shadow-outline-blue focus:border-blue-300 sm:text-sm sm:leading-5",on:{change:function(t){var r=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){return"_value"in e?e._value:e.value}));e.$set(e.refundBoleto,"type_account",t.target.multiple?r:r[0])}}},e._l(e.$t("sales.modals.refund.boleto.form.accountType.list"),(function(option,t){return r("option",{key:t,domProps:{value:option.key}},[e._v(e._s(option.value))])})),0)])])])]):r("div",{staticClass:"mt-2"},[r("div",[r("label",{staticClass:"block text-sm font-medium leading-5 text-gray-700 sm:mt-px sm:pt-2"},[e._v(e._s(e.$t("sales.modals.refund.boletov2.form.name")))]),e._v(" "),r("div",{staticClass:"mt-1"},[r("div",{staticClass:"block text-sm leading-5 text-gray-700"},[e._v("\n                    "+e._s(e.customerName)+"\n                  ")])])]),e._v(" "),r("div",{staticClass:"mt-2"},[r("label",{staticClass:"block text-sm font-medium leading-5 text-gray-700 sm:mt-px sm:pt-2"},[e._v(e._s(e.customerCPF?"CPF":"CNPJ"))]),e._v(" "),r("div",{staticClass:"mt-1"},[r("div",{staticClass:"block text-sm leading-5 text-gray-700"},[e.customerCPF?r("span",[e._v("\n                      "+e._s(e._f("formatCPF")(e.customerCPF))+"\n                    ")]):r("span",[e._v("\n                      "+e._s(e._f("formatCNPJ")(e.customerCNPJ))+"\n                    ")])])])]),e._v(" "),r("div",{staticClass:"mt-4"},[r("PixInput",{ref:"pixInput",attrs:{label:e.$t("sales.modals.refund.boletov2.form.pixKey"),serverError:e.pixError,customValidation:e.$t("sales.modals.refund.boletov2.form.pixKeyError",{cpfBuyer:e.cpfFormat(e.customerCPF),cpfPix:this.pixErrorCPF}),width:"w-64"},on:{errorDetails:function(t){e.pixFrontendError=t}},model:{value:e.form.pixKey,callback:function(t){e.$set(e.form,"pixKey",t)},expression:"form.pixKey"}}),e._v(" "),r("div",{staticClass:"mt-4"},[r("AlertBar",{staticStyle:{"margin-bottom":"0px!important"},attrs:{color:"yellow"}},[e._v("\n                    "+e._s(e.$t("sales.modals.refund.boletov2.form.pixKeyDescription",{cpf:e.cpfFormat(e.customerCPF)}))+"\n                  ")])],1)],1)])])]),e._v(" "),r("div",{staticClass:"bg-gray-50 px-4 py-3 sm:px-6 sm:flex sm:flex-row-reverse"},[r("span",{staticClass:"flex w-full rounded-md shadow-sm sm:ml-3 sm:w-auto"},[r("KButton",{attrs:{color:"indigo",isLoading:e.isLoading||e.isLoadingPix},on:{onClick:e.onOk}},[e._v("\n              "+e._s(e.$t("sales.modals.refund.boleto.primaryButtonText"))+" ("+e._s(e._f("formatCurrency")(e.amountRefund,0))+")\n            ")])],1),e._v(" "),r("span",{staticClass:"mt-3 flex w-full rounded-md shadow-sm sm:mt-0 sm:w-auto"},[r("KButton",{attrs:{color:"white"},on:{onClick:e.onCancel}},[e._v("\n              "+e._s(e.$t("sales.modals.refund.boleto.cancelButtonText"))+"\n            ")])],1)])])])])],1)}),[],!1,null,null,null),T=V.exports;installComponents(V,{BankDropdown:r(947).default,Select:r(231).default,PixInput:r(936).default,AlertBar:r(252).default,KButton:r(102).default});var O=r(808),R=r(208);function I(object,e){var t=Object.keys(object);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(object);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(object,e).enumerable}))),t.push.apply(t,r)}return t}function P(e){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?I(Object(source),!0).forEach((function(t){Object(n.a)(e,t,source[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(source)):I(Object(source)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(source,t))}))}return e}var B={validations:function(){return{orderView:{form:{address:{street:{required:_.required},number:{required:_.required},neighborhood:{required:_.required},city:{required:_.required},state:{required:_.required},zipcode:{required:_.required,minLength:Object(_.minLength)(9),maxLength:Object(_.maxLength)(9)}}}}}},props:{value:{type:Boolean},orderId:{type:String,required:!0},version:{type:String,default:"v1"}},directives:{ClickOutside:h.a},components:{ModalOrderRefundBoleto:T,SalesNavigationTabs:R.a,OrderOneClickPaymentBrand:O.a,SmartInstallmentsChargesTab:y.a,EditableDetailField:C},watch:{value:function(){this.value&&(this.superAdminLog(null,"view_sale",this.orderId),this.orderView.selectedTab=this.$t("sales.slideovers.orderView.navigationTabs[0]").id,this.fetchOrder())}},data:function(){return{order:{fetchedData:{Commissions:{my_commission:"0"},Invoice:{},Product:{},Customer:{},TrackingParameters:{},participants:[]}},modalStates:{refundOrder:{credit_card:!1,boleto:!1,subscription:!1},cancelSubscription:!1,chargeSmartInstallment:!1},loadingStates:{refundOrder:!1,smartInstallmentDetails:!1,chargeSmartInstallment:!1},isDropdownOpen:!1,isLoading:!1,orderView:{selectedTab:this.$t("sales.slideovers.orderView.navigationTabs[0]").id,enabled:!1,email:"example@gmail.com",isEditingEmail:!1,isEditingAddress:{street:!1,number:!1,complement:!1,neighborhood:!1,city:!1,state:!1,zipcode:!1},form:{address:{street:"",number:"",neighborhood:"",city:"",state:"",zipcode:"",complement:""}}},forceRefund:!1,payments:[{created_at:new Date,status:"paid",total:4e3},{created_at:new Date,status:"refused",total:4e3,refusal_reason:"No balance in Card"}],smartInstallmentDetails:{id:"",installment_amount:0,payments:[]}}},mounted:function(){this.value&&(this.superAdminLog(null,"view_sale",this.orderId),this.forceRefund=!1,this.orderView.selectedTab=this.$t("sales.slideovers.orderView.navigationTabs[0]").id,this.fetchOrder())},computed:{address:function(){var e,t,r;return null===(e=this.order)||void 0===e||null===(t=e.fetchedData)||void 0===t||null===(r=t.Customer)||void 0===r?void 0:r.address},refundModalProperties:function(){var e=this.order.fetchedData.participants&&this.order.fetchedData.participants.length,t="pix"===this.order.fetchedData.payment_method,r="sales.modals.refund.".concat(e?"event_":"").concat(t?"pix":"credit_card");return{title:this.$t("".concat(r,".title")),description:this.$t("".concat(r,".description")),primaryButtonText:this.$t("".concat(r,".primaryButtonText")),cancelButtonText:this.$t("".concat(r,".cancelButtonText"))}},isSuperAdminAccess:function(){return this.$store.state.isSuperAdminAccess},hasTrackingParams:function(){return!!this.order.fetchedData.TrackingParameters},activeTeam:function(){return this.$store.state.activeTeam},currency:function(){var e=(this.order.fetchedData||{}).settlement_currency;return String(e||"BRL").toUpperCase()},currencyCharged:function(){var e=(this.order.fetchedData||{}).charged_currency;return String(e||"BRL").toUpperCase()},currencyDisplayed:function(){return"BRL"!==this.currency?" ".concat(this.currency):""},affiliate_commission:function(){var e={custom_name:null};if(this.order.fetchedData.Commissions.commissioned_stores){var t=this.order.fetchedData.Commissions.commissioned_stores.find((function(e){return"affiliate"===e.type}))||{};return P(P({},e),t)}return e},computedNavigationTabs:function(){var e=this.$t("sales.slideovers.orderView.navigationTabs");return this.order.fetchedData.Customer||this.hasTrackingParams||(e=e.filter((function(e){return 2!==e.id}))),this.order.fetchedData.participants&&this.order.fetchedData.participants.length||(e=e.filter((function(e){return 4!==e.id}))),this.orderSmartInstallment.id||(e=e.filter((function(e){return 6!==e.id}))),e},computedDropdown:function(){var e,t="producer"===this.order.fetchedData.sale_type,r=[];this.activeTeam.permissions.RefundSales&&("paid"===this.order.fetchedData.order_status&&"coproducer"!==this.order.fetchedData.sale_type&&"affiliate"!==this.order.fetchedData.sale_type&&(this.order.fetchedData.Subscription?"canceled"===this.order.fetchedData.Subscription.status?r.push(this.$t("sales.slideovers.orderView.dropdown[0]")):r.push(this.$t("sales.slideovers.orderView.dropdown[2]")):r.push(this.$t("sales.slideovers.orderView.dropdown[0]"))),t&&"refunded"===this.order.fetchedData.order_status&&r.push(this.$t("sales.slideovers.orderView.dropdown[4]")),t&&this.orderSmartInstallment.id&&"unpaid"===(null===(e=this.smartInstallmentDetails)||void 0===e?void 0:e.status)&&r.push(this.$t("sales.slideovers.orderView.dropdown[5]")));return this.order.fetchedData.Subscription&&("canceled"!==this.order.fetchedData.Subscription.status&&"coproducer"!==this.order.fetchedData.sale_type&&r.push(this.$t("sales.slideovers.orderView.dropdown[1]")),r.push(this.$t("sales.slideovers.orderView.dropdown[3]"))),"superAdminFull"===this.activeTeam.role&&this.isSuperAdminAccess&&"paid"===this.order.fetchedData.order_status&&r.push({key:"refundWithoutBalance",value:"Force Refund",icon:"FlagIcon"}),r},superAdminOptions:function(){return this.$store.state.superAdminOptions},coupon:function(){var e=(this.order.fetchedData||{}).Discount||{},t=e.coupon_code,code=void 0===t?"":t,r=e.discount_percentage;return{code:code,percentage:void 0===r?0:r}},orderSmartInstallment:function(){var e=(this.order.fetchedData||{}).SmartInstallment||{};return{id:e.id,current:e.installment_number,quantity:e.installment_quantity}},isInternationalSale:function(){return"BRL"!==this.currency},country:function(){var e,t,r,code=((null===(e=this.order)||void 0===e||null===(t=e.fetchedData)||void 0===t||null===(r=t.Customer)||void 0===r?void 0:r.country)||"").toUpperCase();return{code:code,name:code?Object(l.e)(code,this.$i18n.locale):""}}},methods:{onEditAddress:function(e){var t=this;Object.keys(this.orderView.isEditingAddress).forEach((function(e){t.orderView.isEditingAddress[e]=!1})),this.orderView.isEditingAddress[e]=!0,this.orderView.form.address=P({},this.address)},onZipcodeBlur:function(e){var t=this.orderView.form.address.zipcode.replace("-","");8===t.length&&(this.orderView.form.address.zipcode="".concat(t.slice(0,5),"-").concat(t.slice(5))),this.onSaveAddress("zipcode")},onSaveAddress:function(e){var t=this;return Object(o.a)(regeneratorRuntime.mark((function r(){var o;return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(r.prev=0,t.$v.orderView.form.address.$touch(),"complement"!==e&&t.$v.orderView.form.address[e].$touch(),t.$v.orderView.form.address.$error){r.next=12;break}if(t.orderView.isEditingAddress[e]=!1,JSON.stringify(t.orderView.form.address)===JSON.stringify(t.address)){r.next=12;break}return o=P(P({},t.orderView.form.address),{},{complement:t.orderView.form.address.complement||void 0}),r.next=9,t.$v2.put("/".concat(c.k,"/").concat(t.orderId,"/customer-address"),o);case 9:r.sent,t.order.fetchedData.Customer.address=o,t.$notification({color:"green",text:t.$t("sales.notifications.addressUpdated")});case 12:r.next=18;break;case 14:r.prev=14,r.t0=r.catch(0),console.log(r.t0),t.$notification({color:"red",text:t.$t("sales.notifications.addressUpdateError")});case 18:case"end":return r.stop()}}),r,null,[[0,14]])})))()},findAffiliateProductShortId:function(e){var t=this.$store.state.caching.store.data.myAffiliations.filter((function(t){return t.id===e}));return t.length?t[0].short_id:null},updateValue:function(){this.$emit("input",!1)},onSubscriptionCancelled:function(){var e=this;return Object(o.a)(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,e.isLoading=!0,t.next=4,e.$axios.put("/".concat(c.n,"/").concat(e.order.fetchedData.Subscription.id,"/cancel"));case 4:t.sent,e.$notification({text:e.$t("subscriptions.notifications.subscriptionCancelled"),color:"green"}),e.fetchOrder(),e.modalStates.cancelSubscription=!1,e.isLoading=!1,t.next=14;break;case 11:t.prev=11,t.t0=t.catch(0),"TOKEN_INVALID"===t.t0.response.data.error?e.$notification({text:e.$t("defaults.validations.logoff"),color:"red"}):e.$notification({text:t.t0,color:"red"});case 14:case"end":return t.stop()}}),t,null,[[0,11]])})))()},fetchOrder:function(){var e=this;return Object(o.a)(regeneratorRuntime.mark((function t(){var q,r;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,e.isLoading=!0,e.order.fetchedData={Commissions:{my_commission:""},Product:{},Customer:{},Invoice:{},participants:[],TrackingParameters:{}},q="",e.superAdminOptions.show_customer_details&&(q+="&show_customer_details=true"),t.next=7,"v2"===e.version?e.$v2.get("/".concat(c.k,"/").concat(e.orderId,"?").concat(q)):e.$axios.get("/".concat(c.k,"/").concat(e.orderId,"?").concat(q));case 7:r=t.sent,e.order.fetchedData=r.data,e.isLoading=!1,e.fetchSmartInstallmentDetails(),e.orderView.form.address=P({},e.address),t.next=18;break;case 14:t.prev=14,t.t0=t.catch(0),console.log(t.t0),"TOKEN_INVALID"===t.t0.response.data.error?e.$notification({text:e.$t("defaults.validations.logoff"),color:"red"}):e.$notification({text:t.t0,color:"red"});case 18:case"end":return t.stop()}}),t,null,[[0,14]])})))()},onBoletoRefundedKiwipay:function(){var e=this;setTimeout((function(){e.$notification({text:e.$t("sales.notifications.refund.boleto.pix.title"),description:e.$t("sales.notifications.refund.boleto.pix.description"),color:"green"}),e.fetchOrder(),e.$emit("onOrderRefunded"),e.modalStates.refundOrder.boleto=!1}),500)},onBoletoRefundOrder:function(e){var t=this;return Object(o.a)(regeneratorRuntime.mark((function r(){var o;return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,t.loadingStates.refundOrder=!0,o=null,o=t.forceRefund?"/admin/".concat(c.k,"/").concat(t.orderId,"/refund"):"/".concat(c.k,"/").concat(t.orderId,"/refund"),r.next=6,t.$axios.post(o,e);case 6:r.sent,setTimeout((function(){t.$notification({text:t.$t("sales.notifications.refund.boleto.title"),description:t.$t("sales.notifications.refund.boleto.description"),color:"green"}),t.fetchOrder(),t.$emit("onOrderRefunded"),t.modalStates.refundOrder.boleto=!1}),500),r.next=13;break;case 10:r.prev=10,r.t0=r.catch(0),"BoletoRefundError"===r.t0.response.data.error?t.$notification({text:t.$t("sales.notifications.refund.boletoRefundError"),color:"red"}):"TOKEN_INVALID"===r.t0.response.data.error?t.$notification({text:t.$t("defaults.validations.logoff"),color:"red"}):"FRAUDULENT_TRANSACTION"===r.t0.response.data.error?t.$notification({text:t.$t("sales.notifications.refund.boletoRefundBlock"),color:"red"}):t.$notification({text:r.t0,color:"red"});case 13:return r.prev=13,t.loadingStates.refundOrder=!1,r.finish(13);case 16:case"end":return r.stop()}}),r,null,[[0,10,13,16]])})))()},onCreditCardRefundOrder:function(){var e=this;return Object(o.a)(regeneratorRuntime.mark((function t(){var r,o;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,e.loadingStates.refundOrder=!0,r=null,r=e.forceRefund?"/admin/".concat(c.k,"/").concat(e.orderId,"/refund"):"/".concat(c.k,"/").concat(e.orderId,"/refund"),t.next=6,e.$axios.post(r);case 6:t.sent,o=e,setTimeout((function(){o.order.fetchedData.order_status="refunded",e.order.fetchedData.Subscription&&"canceled"!==e.order.fetchedData.Subscription.status?e.$notification({text:e.$t("sales.notifications.refund.subscription"),color:"green"}):e.$notification({text:e.$t("sales.notifications.refund.credit_card"),color:"green"}),e.$emit("onOrderRefunded",o.orderId),e.modalStates.refundOrder.credit_card=!1,e.modalStates.refundOrder.subscription=!1}),500),t.next=14;break;case 11:t.prev=11,t.t0=t.catch(0),"CardRefundError"===t.t0.response.data.error||"CardRefundError"===t.t0.response.data.errorResponse?e.$notification({text:e.$t("sales.notifications.refund.cardRefundError"),color:"red"}):"PIX_TOO_OLD"===t.t0.response.data.error?e.$notification({text:e.$t("sales.notifications.refund.pixTooOld"),color:"red"}):e.$notification({text:t.t0,color:"red"});case 14:return t.prev=14,e.modalStates.refundOrder.credit_card=!1,e.modalStates.refundOrder.subscription=!1,e.loadingStates.refundOrder=!1,t.finish(14);case 19:case"end":return t.stop()}}),t,null,[[0,11,14,19]])})))()},downloadRefundCertificate:function(){var e=this;return Object(o.a)(regeneratorRuntime.mark((function t(){var r;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,e.$nuxt.$loading.start(),t.next=4,e.$axios.get("/".concat(c.k,"/").concat(e.orderId,"/refund-certificate"),{responseType:"arraybuffer",headers:{Accept:"application/pdf"}});case 4:r=t.sent,e.$amplitude.logEvent("download_refund_certificate"),Object(d.downloadPDF)(r.data,"kiwify_refund_".concat(e.orderId,".pdf")),t.next=13;break;case 9:t.prev=9,t.t0=t.catch(0),console.log(t.t0),"TOKEN_INVALID"===t.t0.response.data.error?e.$notification({text:e.$t("defaults.validations.logoff"),color:"red"}):e.$notification({text:t.t0,color:"red"});case 13:return t.prev=13,e.$nuxt.$loading.finish(),t.finish(13);case 16:case"end":return t.stop()}}),t,null,[[0,9,13,16]])})))()},onChargeSmartInstallment:function(){var e=this;return Object(o.a)(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,e.orderSmartInstallment.id&&!e.loadingStates.chargeSmartInstallment){t.next=3;break}return t.abrupt("return");case 3:return e.loadingStates.chargeSmartInstallment=!0,t.next=6,e.$v2.post("/smart-installments/".concat(e.orderSmartInstallment.id,"/charge"));case 6:e.fetchOrder(),e.fetchSmartInstallmentDetails(!0),e.$notification({color:"green",text:e.$t("sales.modals.charge.smartInstallment.success")}),e.modalStates.chargeSmartInstallment=!1,t.next=15;break;case 12:t.prev=12,t.t0=t.catch(0),e.$notification({color:"red",text:e.$t("sales.modals.charge.smartInstallment.error")});case 15:return t.prev=15,e.loadingStates.chargeSmartInstallment=!1,t.finish(15);case 18:case"end":return t.stop()}}),t,null,[[0,12,15,18]])})))()},onRefundOrder:function(e){!0===e&&(this.forceRefund=!0),"boleto"===this.order.fetchedData.payment_method&&"paid"===this.order.fetchedData.order_status?this.modalStates.refundOrder.boleto=!0:"credit_card"!==this.order.fetchedData.payment_method&&"pix"!==this.order.fetchedData.payment_method||"paid"!==this.order.fetchedData.order_status?this.$notification({text:this.$t("sales.notifications.refund.errorPaid"),color:"red"}):this.modalStates.refundOrder.credit_card=!0},onDropdownAction:function(e){1===e.key?this.onRefundOrder():2===e.key?this.modalStates.cancelSubscription=!0:3===e.key?"boleto"===this.order.fetchedData.payment_method?this.modalStates.refundOrder.boleto=!0:this.modalStates.refundOrder.subscription=!0:4===e.key?window.open("https://subscription.kiwify.com/subscription/manage/"+this.order.fetchedData.Subscription.token,"_blank")||window.location.replace("https://subscription.kiwify.com/subscription/manage/"+this.order.fetchedData.Subscription.token):5===e.key?this.downloadRefundCertificate():6===e.key?this.modalStates.chargeSmartInstallment=!0:"refundWithoutBalance"===e.key&&this.onRefundOrder(!0)},onSmartInstallmentChargeItemClick:function(e){e&&e.id&&window.open("/sales?id=".concat(e.id),"_kiwify-sale__".concat(e.id))},fetchSmartInstallmentDetails:function(e){var t=this;return Object(o.a)(regeneratorRuntime.mark((function r(){var o,data,n,d,l,c,m,v;return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(r.prev=0,!t.loadingStates.smartInstallmentDetails&&t.orderSmartInstallment.id&&(t.orderSmartInstallment.id!==t.smartInstallmentDetails.id||e)){r.next=3;break}return r.abrupt("return");case 3:return t.loadingStates.smartInstallmentDetails=!0,t.smartInstallmentDetails={id:"",installment_amount:0,payments:[]},r.next=7,t.$v2.get("/smart-installments/".concat(t.orderSmartInstallment.id));case 7:o=r.sent,data=o.data,d=(n=data||{}).amount_total,l=n.installment_quantity,c=n.payments,m=Math.round(d/(l||1))||0,v=(c||[]).sort((function(e,t){var r=e.date,o=t.date;return r&&o&&f()(o).isBefore(r)?1:-1})),t.smartInstallmentDetails=P(P(P({},t.smartInstallmentDetails||{}),{},{id:t.orderSmartInstallment.id},data||{}),{},{installment_amount:m,payments:v}),r.next=18;break;case 15:r.prev=15,r.t0=r.catch(0),console.error("Error trying to fetch the Order's Smart Installment details.\n","Order ID: ",t.orderId,"\n","Smart Installment ID: ",t.orderSmartInstallment.id,"\n","Error details:\n",(null===r.t0||void 0===r.t0?void 0:r.t0.message)||JSON.stringify(r.t0||"unknown"));case 18:return r.prev=18,t.loadingStates.smartInstallmentDetails=!1,r.finish(18);case 21:case"end":return r.stop()}}),r,null,[[0,15,18,21]])})))()}}},z=Object(x.a)(B,(function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",[o("Modal",{attrs:{title:e.refundModalProperties.title,description:e.refundModalProperties.description,modalTypeStyles:"bg-indigo-600 hover:bg-indigo-500 focus:shadow-outline-indigo",isLoading:e.loadingStates.refundOrder,primaryButtonText:e.refundModalProperties.primaryButtonText,cancelButtonText:e.refundModalProperties.cancelButtonText},on:{onOk:e.onCreditCardRefundOrder,onCancel:function(t){e.modalStates.refundOrder.credit_card=!1}},model:{value:e.modalStates.refundOrder.credit_card,callback:function(t){e.$set(e.modalStates.refundOrder,"credit_card",t)},expression:"modalStates.refundOrder.credit_card"}}),e._v(" "),o("Modal",{attrs:{title:e.$t("sales.modals.refund.subscription.title"),description:e.$t("sales.modals.refund.subscription.description"),modalTypeStyles:"bg-indigo-600 hover:bg-indigo-500 focus:shadow-outline-indigo",isLoading:e.loadingStates.refundOrder,primaryButtonText:e.$t("sales.modals.refund.subscription.primaryButtonText"),cancelButtonText:e.$t("sales.modals.refund.subscription.cancelButtonText")},on:{onOk:e.onCreditCardRefundOrder,onCancel:function(t){e.modalStates.refundOrder.subscription=!1}},model:{value:e.modalStates.refundOrder.subscription,callback:function(t){e.$set(e.modalStates.refundOrder,"subscription",t)},expression:"modalStates.refundOrder.subscription"}}),e._v(" "),o("Modal",{attrs:{title:e.$t("subscriptions.modals.cancelSubscription.title"),description:e.$t("subscriptions.modals.cancelSubscription.description"),modalTypeStyles:"bg-red-600 hover:bg-red-500 focus:shadow-outline-red",isLoading:e.isLoading,primaryButtonText:e.$t("subscriptions.modals.cancelSubscription.primaryButtonText"),cancelButtonText:e.$t("subscriptions.modals.cancelSubscription.cancelButtonText")},on:{onOk:e.onSubscriptionCancelled,onCancel:function(t){e.modalStates.cancelSubscription=!1}},model:{value:e.modalStates.cancelSubscription,callback:function(t){e.$set(e.modalStates,"cancelSubscription",t)},expression:"modalStates.cancelSubscription"}}),e._v(" "),e.order.fetchedData.Customer?o("ModalOrderRefundBoleto",{attrs:{forceRefund:e.forceRefund,isLoading:e.loadingStates.refundOrder,customerName:e.order.fetchedData.Customer.full_name,customerCPF:e.order.fetchedData.Customer.CPF,customerCNPJ:e.order.fetchedData.Customer.cnpj,amountRefund:e.order.fetchedData.Commissions.charge_amount,paymentGateway:e.order.fetchedData.payment_merchant,orderId:e.orderId},on:{onOk:e.onBoletoRefundOrder,onPixRefunded:e.onBoletoRefundedKiwipay,onCancel:function(t){e.modalStates.refundOrder.boleto=!1}},model:{value:e.modalStates.refundOrder.boleto,callback:function(t){e.$set(e.modalStates.refundOrder,"boleto",t)},expression:"modalStates.refundOrder.boleto"}}):e._e(),e._v(" "),o("Modal",{attrs:{title:e.$t("sales.modals.charge.smartInstallment.title"),description:e.$t("sales.modals.charge.smartInstallment.description"),modalTypeStyles:"bg-indigo-600 hover:bg-indigo-500 focus:shadow-outline-indigo",isLoading:e.loadingStates.chargeSmartInstallment,primaryButtonText:e.$t("sales.modals.charge.smartInstallment.primaryButtonText"),cancelButtonText:e.$t("defaults.dictionary.cancel")},on:{onOk:e.onChargeSmartInstallment,onCancel:function(t){e.modalStates.chargeSmartInstallment=!1}},model:{value:e.modalStates.chargeSmartInstallment,callback:function(t){e.$set(e.modalStates,"chargeSmartInstallment",t)},expression:"modalStates.chargeSmartInstallment"}}),e._v(" "),o("Slideover",{on:{onCancel:function(t){return e.updateValue()}},scopedSlots:e._u([{key:"content",fn:function(){return[o("header",{staticClass:"p-6"},[o("div",{staticClass:"flex items-start justify-between space-x-3"},[o("h2",{staticClass:"text-lg leading-7 font-medium text-gray-900"},[e._v(e._s(e.$t("sales.slideovers.orderView.title")))]),e._v(" "),o("div",{staticClass:"h-7 flex items-center"},[o("button",{staticClass:"cursor-pointer text-gray-400 hover:text-gray-500 transition ease-in-out duration-150",on:{click:function(t){return e.updateValue()}}},[o("svg",{staticClass:"h-6 w-6",attrs:{fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"}},[o("path",{attrs:{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"}})])])])])]),e._v(" "),o("div",{staticClass:"border-b border-gray-200"},[o("div",{staticClass:"px-6 flex justify-between"},[e.value?o("SalesNavigationTabs",{attrs:{options:e.computedNavigationTabs},model:{value:e.orderView.selectedTab,callback:function(t){e.$set(e.orderView,"selectedTab",t)},expression:"orderView.selectedTab"}}):e._e(),e._v(" "),e.order.fetchedData.Customer?o("DropdownBoilerPlate",{staticClass:"flex justify-center mr-2",attrs:{dataList:e.computedDropdown,width:"w-56",triggerStyles:"focus:outline-none"},on:{onOptionSelected:e.onDropdownAction}},[o("svg",{staticClass:"h-5 w-5",attrs:{slot:"trigger",fill:"currentColor",viewBox:"0 0 20 20"},slot:"trigger"},[o("path",{attrs:{d:"M10 6a2 2 0 110-4 2 2 0 010 4zM10 12a2 2 0 110-4 2 2 0 010 4zM10 18a2 2 0 110-4 2 2 0 010 4z"}})])]):e._e()],1)]),e._v(" "),o("div",{directives:[{name:"show",rawName:"v-show",value:1===e.orderView.selectedTab,expression:"orderView.selectedTab === 1"}],staticClass:"divide-y divide-gray-200"},[o("HorizontalGridRow",{attrs:{isLoading:e.isLoading,skeletonWidth:"120",label:e.$t("sales.slideovers.orderView.sales.orderId")}},[o("div",{staticClass:"uppercase"},[e._v(e._s(e.order.fetchedData.order_ref))])]),e._v(" "),e.isSuperAdminAccess?o("HorizontalGridRow",{attrs:{isLoading:e.isLoading,skeletonWidth:"120",label:"Payment Merchant"}},[o("div",{staticClass:"uppercase"},[e._v(e._s("pagarme"===e.order.fetchedData.payment_merchant?"v1":"v2"))])]):e._e(),e._v(" "),o("HorizontalGridRow",{attrs:{isLoading:e.isLoading,skeletonWidth:"70",label:e.$t("sales.slideovers.orderView.sales.status")}},[o("KTag",{attrs:{status:e.order.fetchedData.order_status}})],1),e._v(" "),"refused"===e.order.fetchedData.order_status&&"credit_card"===e.order.fetchedData.payment_method?o("HorizontalGridRow",{attrs:{isLoading:e.isLoading,label:e.$t("sales.slideovers.orderView.sales.card_rejection")}},[e._v("\n          "+e._s(e.$t("sales.slideovers.orderView.sales.rejection")[e.order.fetchedData.card_rejection_reason])+"\n        ")]):e._e(),e._v(" "),o("HorizontalGridRow",{attrs:{isLoading:e.isLoading,skeletonWidth:"120",label:e.$t("sales.slideovers.orderView.sales.type")}},["producer"==e.order.fetchedData.sale_type?o("div",[e._v(e._s(e.$t("sales.slideovers.filters.type.list[1]").value))]):e._e(),e._v(" "),"coproducer"===e.order.fetchedData.sale_type?o("div",[e._v(e._s(e.$t("sales.slideovers.filters.type.list[2]").value))]):e._e(),e._v(" "),"affiliate"===e.order.fetchedData.sale_type?o("div",[e._v(e._s(e.$t("sales.slideovers.filters.type.list[3]").value))]):e._e()]),e._v(" "),o("HorizontalGridRow",{attrs:{isLoading:e.isLoading,skeletonWidth:"90",label:e.$t("sales.slideovers.orderView.sales.commision")}},[e._v("\n          "+e._s(e._f("formatCurrency")(e.order.fetchedData.Commissions.my_commission,0,e.currency))+"\n          "+e._s(e.currencyDisplayed)+"\n        ")]),e._v(" "),"affiliate"!==e.order.fetchedData.sale_type&&e.affiliate_commission.custom_name?o("HorizontalGridRow",{attrs:{isLoading:e.isLoading,skeletonWidth:"70",label:e.$t("sales.slideovers.orderView.sales.affiliate")}},[o("b",[e._v(e._s(e.affiliate_commission.custom_name))]),e._v(":\n          "+e._s(e._f("formatCurrency")(e.affiliate_commission.value,0,e.currency))+"\n          "+e._s(e.currencyDisplayed)+"\n        ")]):e._e(),e._v(" "),o("HorizontalGridRow",{attrs:{isLoading:e.isLoading,skeletonWidth:"120",label:e.$t("sales.slideovers.orderView.sales.product")}},[e._v("\n          "+e._s(e.order.fetchedData.Product.product_name)+"\n          "),"affiliate"===e.order.fetchedData.sale_type&&e.findAffiliateProductShortId(e.order.fetchedData.Product.product_id)?o("a",{staticClass:"text-indigo-600 underline font-medium",attrs:{href:"/products/affiliate/"+e.findAffiliateProductShortId(e.order.fetchedData.Product.product_id),target:"_blank"}},[e._v("("+e._s(e.$t("sales.slideovers.orderView.sales.viewDetailofProduct"))+")")]):e._e()]),e._v(" "),e.order.fetchedData.Subscription?o("HorizontalGridRow",{attrs:{isLoading:e.isLoading,label:e.$t("sales.slideovers.orderView.sales.plan.label")}},[o("span",[e._v(e._s(e.order.fetchedData.Subscription.plan.name))]),e._v(" "),o("a",{staticClass:"text-sm text-indigo-600 underline font-medium",attrs:{href:"/subscriptions?id="+e.order.fetchedData.Subscription.id,target:"_blank"}},[e._v("("+e._s(e.$t("sales.slideovers.orderView.sales.plan.link"))+")")])]):e._e(),e._v(" "),e.order.fetchedData.Product.product_offer_name?o("HorizontalGridRow",{attrs:{isLoading:e.isLoading,label:e.$t("sales.slideovers.orderView.sales.offer")}},[e._v("\n          "+e._s(e.order.fetchedData.Product.product_offer_name)+"\n        ")]):e._e(),e._v(" "),e.order.fetchedData.batch?o("HorizontalGridRow",{attrs:{isLoading:e.isLoading,label:e.$t("sales.slideovers.orderView.sales.batch")}},[e._v("\n          "+e._s(e.order.fetchedData.batch.name)+"\n        ")]):e._e(),e._v(" "),o("HorizontalGridRow",{attrs:{isLoading:e.isLoading,skeletonWidth:"100",label:e.$t("sales.slideovers.orderView.sales.paymentMethod")}},[o("div",{staticClass:"flex items-center"},["boleto"===e.order.fetchedData.payment_method?o("span",[e._v("\n              "+e._s(e.$t("defaults.dictionary."+e.order.fetchedData.payment_method))+"\n              "),o("a",{staticClass:"text-indigo-600 underline font-medium",attrs:{href:e.order.fetchedData.boleto_URL,target:"_blank"}},[e._v("("+e._s(e.$t("defaults.dictionary.view"))+" "+e._s(e.$t("defaults.dictionary."+e.order.fetchedData.payment_method))+")")])]):e._e(),e._v(" "),"credit_card"===e.order.fetchedData.payment_method?o("div",[e.order.fetchedData.multiple_cards?o("div",e._l(e.order.fetchedData.payments,(function(t,r){return o("div",{key:r},[o("span",{staticClass:"capitalize"},[e._v(e._s(e._f("formatCardBrand")(t.card.brand)))]),e._v(" - "+e._s(t.card.last_digits)+" - "+e._s(t.installments)+"x\n                ")])})),0):o("div",[o("span",{staticClass:"capitalize"},[e._v(e._s(e._f("formatCardBrand")(e.order.fetchedData.card_type)))]),e._v(" - "+e._s(e.order.fetchedData.card_last4digits)+" ")])]):e._e(),e._v(" "),"pix"===e.order.fetchedData.payment_method?o("span",[e._v("Pix")]):e._e(),e._v(" "),o("OrderOneClickPaymentBrand",{staticClass:"ml-2",attrs:{order:e.order.fetchedData}})],1)]),e._v(" "),null===e.order.fetchedData.installments||e.order.fetchedData.multiple_cards?e._e():o("HorizontalGridRow",{attrs:{isLoading:e.isLoading,skeletonWidth:40,label:e.$t("sales.slideovers.orderView.sales."+(e.orderSmartInstallment.current?"payments":"installments"))}},[e.orderSmartInstallment.current?[e._v("\n            "+e._s(e.orderSmartInstallment.current)+"\n            "),e.orderSmartInstallment.quantity?[e._v("\n              "+e._s(e.$t("defaults.dictionary.of"))+"\n              "+e._s(e.orderSmartInstallment.quantity)+"\n            ")]:e._e()]:[e._v("\n            "+e._s(e.order.fetchedData.installments)+"\n          ")]],2),e._v(" "),o("HorizontalGridRow",{attrs:{isLoading:e.isLoading,skeletonWidth:"100",label:e.$t("sales.slideovers.orderView.sales.creationDate")}},[e._v("\n          "+e._s(e._f("formatDT")(e.order.fetchedData.created_at))+"\n        ")]),e._v(" "),"credit_card"===e.order.fetchedData.payment_method||"paid"!==e.order.fetchedData.order_status&&"refunded"!==e.order.fetchedData.order_status?e._e():o("HorizontalGridRow",{attrs:{isLoading:e.isLoading,label:e.$t("sales.slideovers.orderView.sales.approvedAt")}},[e._v("\n          "+e._s(e._f("formatDT")(e.order.fetchedData.approved_date))+"\n        ")]),e._v(" "),"refunded"===e.order.fetchedData.order_status||"chargedback"===e.order.fetchedData.order_status?o("HorizontalGridRow",{attrs:{isLoading:e.isLoading,label:e.$t("sales.slideovers.orderView.sales.refundedAt")}},[e._v("\n          "+e._s(e._f("formatDT")(e.order.fetchedData.refunded_at?e.order.fetchedData.refunded_at:e.order.fetchedData.updated_at))+"\n        ")]):e._e(),e._v(" "),e.orderSmartInstallment.id?o("div",[o("AlertBar",{attrs:{icon:"InformationCircleIcon",color:"yellow",m:"m-6"}},[e._v("\n            "+e._s(e.$t("sales.slideovers.orderView.sales.alertSmartInstallment"))+"\n          ")])],1):e._e()],1),e._v(" "),2===e.orderView.selectedTab?o("div",{staticClass:"divide-y divide-gray-200"},[e.order.fetchedData.Customer?[o("HorizontalGridRow",{attrs:{skeletonWidth:"100",isLoading:e.isLoading,label:e.$t("sales.slideovers.orderView.customer.name")}},[e._v("\n            "+e._s(e.order.fetchedData.Customer.full_name?e.order.fetchedData.Customer.full_name:"----")+"\n          ")]),e._v(" "),o("HorizontalGridRow",{attrs:{isLoading:e.isLoading,skeletonWidth:"150",label:e.$t("sales.slideovers.orderView.customer.email")}},[o("div",{staticClass:"break-words"},[e._v("\n              "+e._s(e.order.fetchedData.Customer.email)+"\n            ")])]),e._v(" "),o("HorizontalGridRow",{attrs:{isLoading:e.isLoading,skeletonWidth:"120",label:e.$t("sales.slideovers.orderView.customer.mobile")}},[o("div",{staticClass:"flex items-center"},[o("div",[e._v("\n                "+e._s(e.order.fetchedData.Customer.mobile?e.order.fetchedData.Customer.mobile:"-----")+"\n              ")]),e._v(" "),e.order.fetchedData.Customer.mobile?o("div",[o("a",{attrs:{target:"_blank",href:"https://wa.me/"+e.order.fetchedData.Customer.mobile.substring(1)}},[o("img",{staticClass:"w-6 ml-4",attrs:{src:r(442),alt:""}})])]):e._e()])]),e._v(" "),e.order.fetchedData.Customer.CPF||e.order.fetchedData.Customer.cnpj?o("HorizontalGridRow",{attrs:{isLoading:e.isLoading,skeletonWidth:120,label:e.order.fetchedData.Customer.CPF?"CPF":"CNPJ"}},[e.order.fetchedData.Customer.CPF?o("div",[e._v("\n              "+e._s(e._f("formatCPF")(e.order.fetchedData.Customer.CPF))+"\n            ")]):o("div",[e._v("\n              "+e._s(e._f("formatCNPJ")(e.order.fetchedData.Customer.cnpj))+"\n            ")])]):e._e(),e._v(" "),e.isInternationalSale&&e.order.fetchedData.order_international_country?o("HorizontalGridRow",{attrs:{isLoading:e.isLoading,skeletonWidth:80,label:e.$t("sales.slideovers.orderView.customer.country")}},[o("div",{staticClass:"flex items-center justify-start gap-4"},[o("span",[e._v("\n                "+e._s(e.order.fetchedData.order_international_country)+"\n              ")])])]):e._e(),e._v(" "),e.isInternationalSale&&e.order.fetchedData.order_international_state?o("HorizontalGridRow",{attrs:{isLoading:e.isLoading,skeletonWidth:80,label:e.$t("sales.slideovers.orderView.customer.state")}},[o("div",{staticClass:"flex items-center justify-start gap-4"},[o("span",[e._v("\n                "+e._s(e.order.fetchedData.order_international_state)+"\n              ")])])]):e._e(),e._v(" "),e.isInternationalSale&&e.order.fetchedData.order_international_zipcode?o("HorizontalGridRow",{attrs:{isLoading:e.isLoading,skeletonWidth:100,label:e.$t("sales.slideovers.orderView.customer.zipCode")}},[o("div",{staticClass:"truncate"},[e._v("\n              "+e._s(e.order.fetchedData.order_international_zipcode)+"\n            ")])]):e._e(),e._v(" "),o("HorizontalGridRow",{attrs:{isLoading:e.isLoading,skeletonWidth:"150",label:e.$t("sales.slideovers.orderView.customer.ip")}},[o("div",{staticClass:"truncate"},[e._v("\n              "+e._s(e.order.fetchedData.Customer.ip_address?e.order.fetchedData.Customer.ip_address:"-----")+"\n            ")])]),e._v(" "),e.order.fetchedData.Customer.instagram?o("HorizontalGridRow",{attrs:{isLoading:e.isLoading,skeletonWidth:"150",label:e.$t("sales.slideovers.orderView.customer.instagram")}},[o("div",{staticClass:"flex items-center"},[o("div",[e._v("\n                "+e._s(e.order.fetchedData.Customer.instagram?e.order.fetchedData.Customer.instagram:"-----")+"\n              ")]),e._v(" "),e.order.fetchedData.Customer.instagram?o("div",{staticClass:"ml-1 -mt-1"},[o("a",{attrs:{target:"_blank",href:"https://www.instagram.com/"+e.order.fetchedData.Customer.instagram}},[o("HeroIcon",{staticClass:"inline-block text-gray-500 underline leading-none",staticStyle:{height:"18px",width:"18px"},attrs:{name:"ExternalLinkIcon"}})],1)]):e._e()])]):e._e(),e._v(" "),e.order.fetchedData.Customer.address&&e.order.fetchedData.Customer.address.street?o("div",{staticClass:"divide-y divide-gray-200"},[o("HorizontalGridRow",{attrs:{isLoading:e.isLoading,skeletonWidth:"120",bold:!0,label:e.$t("sales.slideovers.orderView.customer.address")}}),e._v(" "),o("HorizontalGridRow",{attrs:{isLoading:e.isLoading,skeletonWidth:"80",label:e.$t("sales.slideovers.orderView.customer.addressValues.street")}},[o("EditableDetailField",{attrs:{isEditing:e.orderView.isEditingAddress.street,error:e.$v.orderView.form.address.street.$error},on:{edit:function(t){return e.onEditAddress("street")},blur:function(t){return e.onSaveAddress("street")}},model:{value:e.orderView.form.address.street,callback:function(t){e.$set(e.orderView.form.address,"street",t)},expression:"orderView.form.address.street"}})],1),e._v(" "),o("HorizontalGridRow",{attrs:{isLoading:e.isLoading,skeletonWidth:"80",label:e.$t("sales.slideovers.orderView.customer.addressValues.complement")}},[o("EditableDetailField",{attrs:{isEditing:e.orderView.isEditingAddress.complement},on:{edit:function(t){return e.onEditAddress("complement")},blur:function(t){return e.onSaveAddress("complement")}},model:{value:e.orderView.form.address.complement,callback:function(t){e.$set(e.orderView.form.address,"complement",t)},expression:"orderView.form.address.complement"}})],1),e._v(" "),o("HorizontalGridRow",{attrs:{isLoading:e.isLoading,skeletonWidth:"80",label:e.$t("sales.slideovers.orderView.customer.addressValues.number")}},[o("EditableDetailField",{attrs:{isEditing:e.orderView.isEditingAddress.number,error:e.$v.orderView.form.address.number.$error},on:{edit:function(t){return e.onEditAddress("number")},blur:function(t){return e.onSaveAddress("number")}},model:{value:e.orderView.form.address.number,callback:function(t){e.$set(e.orderView.form.address,"number",t)},expression:"orderView.form.address.number"}})],1),e._v(" "),o("HorizontalGridRow",{attrs:{isLoading:e.isLoading,skeletonWidth:"80",label:e.$t("sales.slideovers.orderView.customer.addressValues.neighborhood")}},[o("EditableDetailField",{attrs:{isEditing:e.orderView.isEditingAddress.neighborhood,error:e.$v.orderView.form.address.neighborhood.$error},on:{edit:function(t){return e.onEditAddress("neighborhood")},blur:function(t){return e.onSaveAddress("neighborhood")}},model:{value:e.orderView.form.address.neighborhood,callback:function(t){e.$set(e.orderView.form.address,"neighborhood",t)},expression:"orderView.form.address.neighborhood"}})],1),e._v(" "),o("HorizontalGridRow",{attrs:{isLoading:e.isLoading,skeletonWidth:"80",label:e.$t("sales.slideovers.orderView.customer.addressValues.city")}},[o("EditableDetailField",{attrs:{isEditing:e.orderView.isEditingAddress.city,error:e.$v.orderView.form.address.city.$error},on:{edit:function(t){return e.onEditAddress("city")},blur:function(t){return e.onSaveAddress("city")}},model:{value:e.orderView.form.address.city,callback:function(t){e.$set(e.orderView.form.address,"city",t)},expression:"orderView.form.address.city"}})],1),e._v(" "),o("HorizontalGridRow",{attrs:{isLoading:e.isLoading,skeletonWidth:"80",label:e.$t("sales.slideovers.orderView.customer.addressValues.state")}},[o("EditableDetailField",{attrs:{isEditing:e.orderView.isEditingAddress.state,error:e.$v.orderView.form.address.state.$error},on:{edit:function(t){return e.onEditAddress("state")},blur:function(t){return e.onSaveAddress("state")}},model:{value:e.orderView.form.address.state,callback:function(t){e.$set(e.orderView.form.address,"state",t)},expression:"orderView.form.address.state"}})],1),e._v(" "),o("HorizontalGridRow",{attrs:{isLoading:e.isLoading,skeletonWidth:"80",label:e.$t("sales.slideovers.orderView.customer.addressValues.zipCode")}},[o("EditableDetailField",{attrs:{isEditing:e.orderView.isEditingAddress.zipcode},on:{edit:function(t){return e.onEditAddress("zipcode")}},model:{value:e.orderView.form.address.zipcode,callback:function(t){e.$set(e.orderView.form.address,"zipcode",t)},expression:"orderView.form.address.zipcode"}},[o("MaskInput",{attrs:{mask:"#####-###",error:e.$v.orderView.form.address.zipcode.$error},on:{onBlur:e.onZipcodeBlur},model:{value:e.orderView.form.address.zipcode,callback:function(t){e.$set(e.orderView.form.address,"zipcode",t)},expression:"orderView.form.address.zipcode"}})],1)],1),e._v(" "),o("HorizontalGridRow",{attrs:{isLoading:e.isLoading,skeletonWidth:"80",label:e.$t("sales.slideovers.orderView.customer.addressValues.country")}},[o("div",{staticClass:"flex items-center"},[e._v("\n                "+e._s(e.country.name)+"\n              ")])])],1):e._e()]:e._e(),e._v(" "),[e.order.fetchedData.TrackingParameters&&e.order.fetchedData.TrackingParameters.src?o("HorizontalGridRow",{attrs:{isLoading:e.isLoading,label:"src"}},[e._v("\n            "+e._s(e.order.fetchedData.TrackingParameters&&e.order.fetchedData.TrackingParameters.src?e.order.fetchedData.TrackingParameters.src:"-----")+"\n          ")]):e._e(),e._v(" "),e.order.fetchedData.TrackingParameters&&e.order.fetchedData.TrackingParameters.sck?o("HorizontalGridRow",{attrs:{isLoading:e.isLoading,label:"sck"}},[e._v("\n            "+e._s(e.order.fetchedData.TrackingParameters&&e.order.fetchedData.TrackingParameters.sck?e.order.fetchedData.TrackingParameters.sck:"-----")+"\n          ")]):e._e(),e._v(" "),e.order.fetchedData.TrackingParameters&&e.order.fetchedData.TrackingParameters.utm_source?o("HorizontalGridRow",{attrs:{isLoading:e.isLoading,label:"utm_source"}},[e._v("\n            "+e._s(e.order.fetchedData.TrackingParameters&&e.order.fetchedData.TrackingParameters.utm_source?e.order.fetchedData.TrackingParameters.utm_source:"-----")+"\n          ")]):e._e(),e._v(" "),e.order.fetchedData.TrackingParameters&&e.order.fetchedData.TrackingParameters.utm_medium?o("HorizontalGridRow",{attrs:{isLoading:e.isLoading,label:"utm_medium"}},[e._v("\n            "+e._s(e.order.fetchedData.TrackingParameters&&e.order.fetchedData.TrackingParameters.utm_medium?e.order.fetchedData.TrackingParameters.utm_medium:"-----")+"\n          ")]):e._e(),e._v(" "),e.order.fetchedData.TrackingParameters&&e.order.fetchedData.TrackingParameters.utm_campaign?o("HorizontalGridRow",{attrs:{isLoading:e.isLoading,label:"utm_campaign"}},[e._v("\n            "+e._s(e.order.fetchedData.TrackingParameters&&e.order.fetchedData.TrackingParameters.utm_campaign?e.order.fetchedData.TrackingParameters.utm_campaign:"-----")+"\n          ")]):e._e(),e._v(" "),e.order.fetchedData.TrackingParameters&&e.order.fetchedData.TrackingParameters.utm_term?o("HorizontalGridRow",{attrs:{isLoading:e.isLoading,label:"utm_term"}},[e._v("\n            "+e._s(e.order.fetchedData.TrackingParameters&&e.order.fetchedData.TrackingParameters.utm_term?e.order.fetchedData.TrackingParameters.utm_term:"-----")+"\n          ")]):e._e(),e._v(" "),e.order.fetchedData.TrackingParameters&&e.order.fetchedData.TrackingParameters.utm_content?o("HorizontalGridRow",{attrs:{isLoading:e.isLoading,label:"utm_content"}},[e._v("\n            "+e._s(e.order.fetchedData.TrackingParameters&&e.order.fetchedData.TrackingParameters.utm_content?e.order.fetchedData.TrackingParameters.utm_content:"-----")+"\n          ")]):e._e()]],2):e._e(),e._v(" "),o("div",{directives:[{name:"show",rawName:"v-show",value:3===e.orderView.selectedTab,expression:"orderView.selectedTab === 3"}],staticClass:"divide-y divide-gray-200"},[e.coupon.percentage?o("HorizontalGridRow",{attrs:{isLoading:e.isLoading,label:e.$t("sales.slideovers.orderView.commision.coupon"),skeletonWidth:"100"}},[o("div",{staticClass:"truncate"},[o("span",[e._v("\n              "+e._s(e.coupon.percentage)+"%\n            ")]),e._v(" "),o("span",{staticClass:"text-gray-500",attrs:{title:e.$t("defaults.dictionary.code")}},[e._v("\n              ("+e._s(e.coupon.code)+")\n            ")])])]):e._e(),e._v(" "),o("HorizontalGridRow",{attrs:{isLoading:e.isLoading,label:e.$t("sales.slideovers.orderView.commision.product"+(e.coupon.percentage?"":"Base")+"Price"),skeletonWidth:"100"}},[o("div",[o("span",[e._v("\n              "+e._s(e._f("formatCurrency")(e.order.fetchedData.Commissions.product_base_price,0,e.currencyCharged))+"\n            ")]),e._v(" "),!["BRL","USD"].includes(e.currencyCharged)&&e.order.fetchedData.Commissions.product_base_price_in_usd?o("span",[e._v("\n              ("+e._s(e._f("formatCurrency")(e.order.fetchedData.Commissions.product_base_price_in_usd,0,"USD"))+e._s(e.currencyDisplayed)+")\n            ")]):e._e(),e._v(" "),e.coupon.percentage?o("span",{staticClass:"text-gray-500"},[e._v("\n              ("+e._s(e.$t("sales.slideovers.orderView.commision.couponDiscountApplied"))+")\n            ")]):e._e()])]),e._v(" "),"credit_card"===e.order.fetchedData.payment_method&&e.order.fetchedData.installments>1&&"affiliate"!==e.order.fetchedData.sale_type?o("HorizontalGridRow",{attrs:{isLoading:e.isLoading,skeletonWidth:"100",label:e.$t("sales.slideovers.orderView.commision.totalCharge")}},[o("div",[e._v("\n            "+e._s(e._f("formatCurrency")(e.order.fetchedData.Commissions.charge_amount,0,e.currency))+"\n            "+e._s(e.currencyDisplayed)+"\n          ")])]):e._e(),e._v(" "),e.order.fetchedData.charged_tax>0?o("HorizontalGridRow",{attrs:{isLoading:e.isLoading,skeletonWidth:"150",label:e.$t("sales.slideovers.orderView.commision.salesTax")}},[o("div",[e._v("\n            "+e._s(e._f("formatCurrency")(e.order.fetchedData.charged_tax,0,e.currencyCharged))+"\n          ")])]):e._e(),e._v(" "),e.order.fetchedData.Commissions.kiwify_fee_in_usd||e.order.fetchedData.Commissions.kiwify_fee?o("HorizontalGridRow",{attrs:{isLoading:e.isLoading,skeletonWidth:"150",label:e.$t("sales.slideovers.orderView.commision.kiwifyFee")}},[o("div",[e.order.fetchedData.Commissions.kiwify_fee_in_usd?[e._v("\n              "+e._s(e._f("formatCurrency")(e.order.fetchedData.Commissions.kiwify_fee_in_usd,0,e.currency))+"\n            ")]:[e._v("\n              "+e._s(e._f("formatCurrency")(e.order.fetchedData.Commissions.kiwify_fee,0,e.currency))+"\n            ")],e._v("\n            "+e._s(e.currencyDisplayed)+"\n          ")],2)]):e._e(),e._v(" "),o("HorizontalGridRow",{attrs:{isLoading:e.isLoading,skeletonWidth:"140",label:e.$t("sales.slideovers.orderView.commision.split")}},e._l(e.order.fetchedData.Commissions.commissioned_stores,(function(t,r){return o("div",{key:r},[o("div",[o("b",[e._v(e._s(String(t.custom_name||"").trim()))]),e._v(":\n              "),o("span",[e._v("\n                "+e._s(e._f("formatCurrency")(t.value,2,e.currency))+"\n                "+e._s(e.currencyDisplayed)+"\n              ")])])])})),0)],1),e._v(" "),o("div",{directives:[{name:"show",rawName:"v-show",value:3===e.orderView.selectedTab,expression:"orderView.selectedTab === 3"}],staticClass:"divide-y divide-gray-200"},[o("HorizontalGridRow",{attrs:{isLoading:e.isLoading,skeletonWidth:"120",bold:!0,label:e.$t("sales.slideovers.orderView.commision.yourCommision.title")}}),e._v(" "),"paid"===e.order.fetchedData.order_status?o("HorizontalGridRow",{attrs:{isLoading:e.isLoading,skeletonWidth:"80",label:e.$t("sales.slideovers.orderView.commision.yourCommision.status")}},[o("KTag",{attrs:{status:e.order.fetchedData.Commissions.funds_status}})],1):e._e(),e._v(" "),o("HorizontalGridRow",{attrs:{isLoading:e.isLoading,skeletonWidth:"80",label:e.$t("sales.slideovers.orderView.commision.yourCommision.amount")}},[e._v("\n          "+e._s(e._f("formatCurrency")(e.order.fetchedData.Commissions.my_commission,0,e.currency))+"\n          "+e._s(e.currencyDisplayed)+"\n        ")]),e._v(" "),"paid"===e.order.fetchedData.order_status?o("HorizontalGridRow",{attrs:{isLoading:e.isLoading,skeletonWidth:"80",label:e.$t("sales.slideovers.orderView.commision.yourCommision.estimated")}},[e._v("\n          "+e._s(e._f("formatDate")(e.order.fetchedData.Commissions.estimated_deposit_date))+"\n        ")]):e._e()],1),e._v(" "),"issued"===e.order.fetchedData.Invoice.status?o("div",{directives:[{name:"show",rawName:"v-show",value:3===e.orderView.selectedTab,expression:"orderView.selectedTab === 3"}],staticClass:"divide-y divide-gray-200"},[o("HorizontalGridRow",{attrs:{isLoading:e.isLoading,skeletonWidth:"120",label:e.$t("sales.slideovers.orderView.commision.invoice.title")}}),e._v(" "),"paid"===e.order.fetchedData.order_status?o("HorizontalGridRow",{attrs:{isLoading:e.isLoading,skeletonWidth:"80",label:e.$t("sales.slideovers.orderView.commision.invoice.status")}},[o("div",{staticClass:"flex items-center"},[o("KTag",{attrs:{status:"issued"}}),e._v(" Â \n            "),e.order.fetchedData.Invoice.store_id===e.activeTeam.id&&e.order.fetchedData.Invoice.external_id.includes("-")?o("a",{staticClass:"-mt-1",attrs:{href:"https://app.enotas.com.br/venda#c=edit&a="+e.order.fetchedData.Invoice.external_id}},[o("HeroIcon",{staticClass:"inline-block text-gray-500 underline leading-none",staticStyle:{height:"18px",width:"18px"},attrs:{name:"ExternalLinkIcon"}})],1):e._e()],1)]):e._e(),e._v(" "),o("HorizontalGridRow",{attrs:{isLoading:e.isLoading,skeletonWidth:"80",label:e.$t("sales.slideovers.orderView.commision.invoice.issuedBy")}},[e._v("\n          "+e._s(e.order.fetchedData.Invoice.company_name)+"\n        ")])],1):e._e(),e._v(" "),o("div",{directives:[{name:"show",rawName:"v-show",value:5===e.orderView.selectedTab,expression:"orderView.selectedTab === 5"}],staticClass:"divide-y divide-gray-200"},[o("TableContainer",{attrs:{headers:e.$t("sales.slideovers.orderView.payments.headers"),isLoading:e.isLoading},scopedSlots:e._u([{key:"content",fn:function(){return[e._l(e.order.fetchedData.orders,(function(t,r){return o("tr",{key:r,class:r%2==0?"bg-white":"bg-gray-50"},[o("td",{staticStyle:{width:"35%"}},[o("div",{staticClass:"text-sm leading-5 text-gray-500"},[e._v(e._s(e._f("formatDT")(t.created_at)))])]),e._v(" "),o("td",{staticStyle:{width:"50%"}},[o("div",{staticClass:"flex items-center"},[o("KTag",{attrs:{status:t.order_status}}),e._v(" "),"refused"===t.order_status?o("Tooltip",{attrs:{message:e.$t("sales.slideovers.orderView.sales.rejection")[t.card_rejection_reason]+" <br /> <span class='capitalize'>"+t.card_type+"</span> - "+t.card_last4digits}},[o("HeroIcon",{staticClass:"text-gray-300 w-5 ml-1",attrs:{name:"QuestionMarkCircleIcon"}})],1):e._e()],1)]),e._v(" "),o("td",[o("div",{staticClass:"text-sm leading-5 text-gray-500"},[e._v(e._s(e._f("formatCurrency")(e.order.fetchedData.Commissions.my_commission,0)))])])])}))]},proxy:!0}])})],1),e._v(" "),o("div",{directives:[{name:"show",rawName:"v-show",value:4===e.orderView.selectedTab,expression:"orderView.selectedTab === 4"}],staticClass:"divide-y divide-gray-200"},[o("TableContainer",{attrs:{headers:e.$t("sales.slideovers.orderView.participants.headers"),isLoading:e.isLoading},scopedSlots:e._u([{key:"content",fn:function(){return[e._l(e.order.fetchedData.participants,(function(t,r){return o("tr",{key:r,class:r%2==0?"bg-white":"bg-gray-50"},[o("td",[o("div",{staticClass:"text-gray-900 text-sm font-medium leading-5"},[e._v("\n                    "+e._s(t.name)+"\n                  ")]),e._v(" "),o("div",{staticClass:"text-gray-500 text-sm leading-5"},[o("HeroIcon",{staticClass:"text-gray-400 inline-block w-4",attrs:{name:"MailIcon"}}),e._v("\n                    "+e._s(t.email)+"\n                  ")],1)]),e._v(" "),o("td",[o("div",{staticClass:"text-sm leading-5 text-gray-500"},[e._v(e._s(e._f("formatCPF")(t.cpf)))])])])}))]},proxy:!0}])})],1),e._v(" "),o("div",{directives:[{name:"show",rawName:"v-show",value:6===e.orderView.selectedTab,expression:"orderView.selectedTab === 6"}]},[o("SmartInstallmentsChargesTab",{attrs:{data:e.smartInstallmentDetails,isLoading:!!e.loadingStates.smartInstallmentDetails},on:{itemClick:e.onSmartInstallmentChargeItemClick}})],1)]},proxy:!0}]),model:{value:e.value,callback:function(t){e.value=t},expression:"value"}})],1)}),[],!1,null,null,null);t.a=z.exports;installComponents(z,{Modal:r(132).default,DropdownBoilerPlate:r(230).default,HorizontalGridRow:r(299).default,KTag:r(169).default,AlertBar:r(252).default,HeroIcon:r(32).default,MaskInput:r(345).default,Tooltip:r(113).default,TableContainer:r(168).default,Slideover:r(206).default})},1854:function(e,t,r){"use strict";r(50);var o={props:{},data:function(){return{show:!0}},computed:{newOrders:function(){return this.$store.state.newOrders}},methods:{hide:function(){var e=this;this.show=!1,this.$store.commit("SET_NEW_ORDERS",[]),setTimeout((function(){e.show=!0}),2e3)}}},n=r(0),component=Object(n.a)(o,(function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("div",{staticClass:"absolute inset-0 flex mt-14 z-50 items-end justify-center px-4 py-6 pointer-events-none sm:p-6"},[r("transition",{attrs:{mode:"out-in","enter-active-class":"transform ease-out duration-300 transition","enter-class":"translate-y-2 opacity-0 sm:translate-y-0 sm:translate-x-2","enter-to-class":"translate-y-0 opacity-100 sm:translate-x-0","leave-active-class":"transition ease-in duration-100","leave-class":"opacity-100","leave-to-class":"opacity-0"}},[e.newOrders.length&&e.show?r("div",{staticClass:"max-w-xs w-full bg-gray-800 fixed z-40 bottom-0 mb-10 shadow-lg rounded-lg pointer-events-auto"},[r("div",{staticClass:"rounded-lg shadow-xs overflow-hidden"},[r("div",{staticClass:"p-4"},[r("div",{staticClass:"flex items-center"},[r("div",{staticClass:"w-0 flex-1 flex justify-between"},[r("p",{staticClass:"w-0 flex-1 text-sm leading-5 font-medium text-gray-200"},[e._v("\n                "+e._s(1===e.newOrders.length?e.$t("sales.notifications.newOrders.textSingular",{order:e.newOrders.length}):e.$t("sales.notifications.newOrders.textPlural",{orders:e.newOrders.length}))+"\n              ")]),e._v(" "),r("button",{staticClass:"ml-3 flex-shrink-0 text-sm leading-5 font-medium text-white underline hover:text-gray-200 focus:outline-none focus:underline transition ease-in-out duration-150",on:{click:function(t){return e.$emit("refresh")}}},[e._v("\n                "+e._s(e.$t("sales.notifications.newOrders.refresh"))+"\n              ")])]),e._v(" "),r("div",{staticClass:"ml-4 flex-shrink-0 flex"},[r("button",{staticClass:"inline-flex text-gray-400 focus:outline-none focus:text-gray-500 transition ease-in-out duration-150",on:{click:function(t){return e.hide()}}},[r("svg",{staticClass:"h-5 w-5",attrs:{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor"}},[r("path",{attrs:{"fill-rule":"evenodd",d:"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z","clip-rule":"evenodd"}})])])])])])])]):e._e()])],1)])}),[],!1,null,null,null);t.a=component.exports},1855:function(e,t,r){"use strict";var o=r(4),n=(r(29),r(13),r(30),r(53),r(31),r(52)),d=r(100),l=r.n(d),c=r(208),m={props:{value:{type:Boolean},subscriptionId:{type:String,required:!0},canceledMode:{type:Boolean}},directives:{ClickOutside:l.a},components:{SalesNavigationTabs:c.a},watch:{value:function(){this.value&&(this.orderView.selectedTab=this.$t("sales.slideovers.orderView.navigationTabs[0]").id,this.fetchOrder())}},data:function(){return{subscription:{fetchedData:{product:{},plan:{},payment_method:{},customer:{},customer_access:{},payments:{}}},modalStates:{cancelSubscription:!1},isDropdownOpen:!1,isLoading:!1,orderView:{selectedTab:this.$t("sales.slideovers.orderView.navigationTabs[0]").id,enabled:!1,email:"example@gmail.com",isEditingEmail:!1}}},computed:{activeTeam:function(){return this.$store.state.activeTeam},computedDropdown:function(){var e=this.$t("subscriptions.slideovers.detailView.dropdown");return"producer"===this.subscription.fetchedData.sale_type?e:[]},computedNavigationTabs:function(){var e=this.$t("subscriptions.slideovers.detailView.navigationTabs");return this.subscription.fetchedData.customer||(e=e.filter((function(e){return 2!==e.id}))),e},subscriptionFrequencyTranslation:function(){return{weekly:this.$t("products.editProduct.modals.addSubscriptionPlan.form.frequency.options[0].value"),monthly:this.$t("products.editProduct.modals.addSubscriptionPlan.form.frequency.options[1].value"),bimonthly:this.$t("products.editProduct.modals.addSubscriptionPlan.form.frequency.options[2].value"),quarterly:this.$t("products.editProduct.modals.addSubscriptionPlan.form.frequency.options[3].value"),"semi-annually":this.$t("products.editProduct.modals.addSubscriptionPlan.form.frequency.options[4].value"),annually:this.$t("products.editProduct.modals.addSubscriptionPlan.form.frequency.options[5].value")}},superAdminOptions:function(){return this.$store.state.superAdminOptions}},mounted:function(){this.value&&(this.orderView.selectedTab=this.$t("sales.slideovers.orderView.navigationTabs[0]").id,this.fetchOrder())},methods:{onPaymentView:function(e){window.open("/sales?id=".concat(e.id),"_blank")||window.location.replace("/sales?id=".concat(e.id))},updateValue:function(){this.$emit("input",!1),this.$router.replace({query:{id:void 0}})},onSubscriptionCancelled:function(){var e=this;return Object(o.a)(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,e.isLoading=!0,t.next=4,e.$axios.put("/".concat(n.n,"/").concat(e.subscriptionId,"/cancel"));case 4:t.sent,e.$notification({text:e.$t("subscriptions.notifications.subscriptionCancelled"),color:"green"}),e.fetchOrder(),e.$emit("onCancelSubscription"),e.modalStates.cancelSubscription=!1,e.isLoading=!1,t.next=15;break;case 12:t.prev=12,t.t0=t.catch(0),"TOKEN_INVALID"===t.t0.response.data.error?e.$notification({text:e.$t("defaults.validations.logoff"),color:"red"}):e.$notification({text:t.t0,color:"red"});case 15:case"end":return t.stop()}}),t,null,[[0,12]])})))()},fetchOrder:function(){var e=this;return Object(o.a)(regeneratorRuntime.mark((function t(){var q,r;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,e.isLoading=!0,e.subscription.fetchedData={product:{},plan:{},payment_method:{},payments:{},customer:{},customer_access:{}},q="",e.superAdminOptions.show_customer_details&&(q+="&show_customer_details=true"),t.next=7,e.$axios.get("/".concat(n.n,"/").concat(e.subscriptionId,"?").concat(q));case 7:r=t.sent,e.subscription.fetchedData=r.data,e.isLoading=!1,t.next=15;break;case 12:t.prev=12,t.t0=t.catch(0),"TOKEN_INVALID"===t.t0.response.data.error?e.$notification({text:e.$t("defaults.validations.logoff"),color:"red"}):e.$notification({text:t.t0,color:"red"});case 15:case"end":return t.stop()}}),t,null,[[0,12]])})))()},onDropdownAction:function(e){1===e.key?this.modalStates.cancelSubscription=!0:4===e.key&&(window.open("https://subscription.kiwify.com/subscription/manage/"+this.subscription.fetchedData.token,"_blank")||window.location.replace("https://subscription.kiwify.com/subscription/manage/"+this.subscription.fetchedData.token))}}},f=r(0),component=Object(f.a)(m,(function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",[o("Modal",{attrs:{title:e.$t("subscriptions.modals.cancelSubscription.title"),description:e.$t("subscriptions.modals.cancelSubscription.description"),modalTypeStyles:"bg-red-600 hover:bg-red-500 focus:shadow-outline-red",isLoading:e.isLoading,primaryButtonText:e.$t("subscriptions.modals.cancelSubscription.primaryButtonText"),cancelButtonText:e.$t("subscriptions.modals.cancelSubscription.cancelButtonText")},on:{onOk:e.onSubscriptionCancelled,onCancel:function(t){e.modalStates.cancelSubscription=!1}},model:{value:e.modalStates.cancelSubscription,callback:function(t){e.$set(e.modalStates,"cancelSubscription",t)},expression:"modalStates.cancelSubscription"}}),e._v(" "),o("Slideover",{on:{onCancel:function(t){return e.updateValue()}},scopedSlots:e._u([e.value?{key:"content",fn:function(){return[o("header",{staticClass:"p-6"},[o("div",{staticClass:"flex items-start justify-between space-x-3"},[o("h2",{staticClass:"text-lg leading-7 font-medium text-gray-900"},[e._v(e._s(e.$t("sales.slideovers.orderView.title")))]),e._v(" "),o("div",{staticClass:"h-7 flex items-center"},[o("button",{staticClass:"cursor-pointer text-gray-400 hover:text-gray-500 transition ease-in-out duration-150",on:{click:function(t){return e.updateValue()}}},[o("svg",{staticClass:"h-6 w-6",attrs:{fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"}},[o("path",{attrs:{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"}})])])])])]),e._v(" "),o("div",{staticClass:"border-b border-gray-200"},[o("div",{staticClass:"px-6 flex justify-between"},[e.value?o("SalesNavigationTabs",{attrs:{options:e.computedNavigationTabs},model:{value:e.orderView.selectedTab,callback:function(t){e.$set(e.orderView,"selectedTab",t)},expression:"orderView.selectedTab"}}):e._e(),e._v(" "),"active"===e.subscription.fetchedData.status?o("DropdownBoilerPlate",{staticClass:"flex justify-center mr-2",attrs:{dataList:e.computedDropdown,width:"w-56",triggerStyles:"focus:outline-none"},on:{onOptionSelected:e.onDropdownAction}},[o("svg",{staticClass:"h-5 w-5",attrs:{slot:"trigger",fill:"currentColor",viewBox:"0 0 20 20"},slot:"trigger"},[o("path",{attrs:{d:"M10 6a2 2 0 110-4 2 2 0 010 4zM10 12a2 2 0 110-4 2 2 0 010 4zM10 18a2 2 0 110-4 2 2 0 010 4z"}})])]):e._e()],1)]),e._v(" "),o("div",{directives:[{name:"show",rawName:"v-show",value:1===e.orderView.selectedTab,expression:"orderView.selectedTab === 1"}],staticClass:"divide-y divide-gray-200"},[e.canceledMode||e.subscription.fetchedData.canceled_by?o("HorizontalGridRow",{attrs:{isLoading:e.isLoading,skeletonWidth:120,label:e.$t("subscriptions.dictionary.cancelReason")}},[e._v("\n          "+e._s(e.$t("subscriptions.canceled_by")[e.subscription.fetchedData.canceled_by]||e.subscription.fetchedData.canceled_by)+"\n        ")]):e._e(),e._v(" "),o("HorizontalGridRow",{attrs:{isLoading:e.isLoading,skeletonWidth:"120",label:e.$t("subscriptions.slideovers.detailView.subscription.startDate")}},[e._v("\n          "+e._s(e._f("formatDT")(e.subscription.fetchedData.started_at))+"\n        ")]),e._v(" "),o("HorizontalGridRow",{attrs:{isLoading:e.isLoading,skeletonWidth:"80",label:e.$t("subscriptions.slideovers.detailView.subscription.status")}},[o("KTag",{attrs:{status:e.subscription.fetchedData.status,inline:!0}}),e._v(" "),"canceled"==e.subscription.fetchedData.status&&e.subscription.fetchedData.customer_access.active_period?o("span",{staticClass:"px-2 inline-flex text-xs leading-5 font-semibold rounded-full bg-green-100 text-green-800"},[e._v(e._s(e.$t("subscriptions.slideovers.detailView.subscription.stillHaveAccess")))]):e._e()],1),e._v(" "),o("HorizontalGridRow",{attrs:{isLoading:e.isLoading,skeletonWidth:"80",label:e.subscription.fetchedData.customer_access.has_access?e.$t("subscriptions.slideovers.detailView.subscription.currentPeriodEnd"):e.$t("subscriptions.slideovers.detailView.subscription.currentPeridoEnded")}},[o("div",{staticClass:"flex"},[o("span",{staticClass:"inline"},[e._v(e._s(e._f("formatDT")(e.subscription.fetchedData.customer_access.access_until)))]),e._v(" "),e.subscription.fetchedData.customer_access.has_access&&"canceled"==e.subscription.fetchedData.status?o("div",[o("Tooltip",{attrs:{message:e.$t("subscriptions.slideovers.detailView.subscription.accessDetails")}},[o("HeroIcon",{staticClass:"text-gray-400 ml-1 w-5",attrs:{name:"QuestionMarkCircleIcon"}})],1)],1):e._e()])]),e._v(" "),o("HorizontalGridRow",{attrs:{isLoading:e.isLoading,skeletonWidth:"120",label:e.$t("sales.slideovers.orderView.sales.type")}},["producer"==e.subscription.fetchedData.sale_type?o("div",[e._v(e._s(e.$t("sales.slideovers.filters.type.list[1]").value))]):e._e(),e._v(" "),"coproducer"===e.subscription.fetchedData.sale_type?o("div",[e._v(e._s(e.$t("sales.slideovers.filters.type.list[2]").value))]):e._e(),e._v(" "),"affiliate"===e.subscription.fetchedData.sale_type?o("div",[e._v(e._s(e.$t("sales.slideovers.filters.type.list[3]").value))]):e._e()]),e._v(" "),o("HorizontalGridRow",{attrs:{isLoading:e.isLoading,skeletonWidth:"120",label:e.$t("subscriptions.slideovers.detailView.subscription.product")}},[e._v("\n          "+e._s(e.subscription.fetchedData.product.name)+"\n        ")]),e._v(" "),o("HorizontalGridRow",{attrs:{isLoading:e.isLoading,skeletonWidth:"100",label:e.$t("subscriptions.slideovers.detailView.subscription.plan")}},[e._v("\n          "+e._s(e.subscription.fetchedData.plan.name)+"\n        ")]),e._v(" "),o("HorizontalGridRow",{attrs:{isLoading:e.isLoading,skeletonWidth:"80",label:e.$t("subscriptions.slideovers.detailView.subscription.amount")}},[e._v("\n          "+e._s(e._f("formatCurrency")(e.subscription.fetchedData.price,0))+"\n        ")]),e._v(" "),o("HorizontalGridRow",{attrs:{isLoading:e.isLoading,skeletonWidth:"40",label:e.$t("subscriptions.slideovers.detailView.subscription.installments")}},[e._v("\n          "+e._s(e.subscription.fetchedData.plan.installments)+"\n        ")]),e._v(" "),o("HorizontalGridRow",{attrs:{isLoading:e.isLoading,skeletonWidth:"100",label:e.$t("subscriptions.slideovers.detailView.subscription.frequency")}},[e._v("\n          "+e._s(e.subscriptionFrequencyTranslation[e.subscription.fetchedData.plan.interval])+"\n        ")]),e._v(" "),o("HorizontalGridRow",{attrs:{isLoading:e.isLoading,skeletonWidth:"40",label:e.$t("subscriptions.slideovers.detailView.subscription.charges")}},[e._v("\n          "+e._s(e.subscription.fetchedData.succesful_charges)+"\n        ")]),e._v(" "),o("HorizontalGridRow",{attrs:{isLoading:e.isLoading,skeletonWidth:"120",label:e.$t("subscriptions.slideovers.detailView.subscription.paymentMethod")}},["credit_card"===e.subscription.fetchedData.payment_method.type?o("div",[o("span",{staticClass:"capitalize"},[e._v(e._s(e.subscription.fetchedData.payment_method.card_type))]),e._v(" - "+e._s(e.subscription.fetchedData.payment_method.card_last_digits)+"\n          ")]):"boleto"===e.subscription.fetchedData.payment_method.type?o("div",[e._v("Boleto")]):"pix"===e.subscription.fetchedData.payment_method.type?o("div",[e._v("Pix")]):e._e()]),e._v(" "),"canceled"!==e.subscription.fetchedData.status?o("HorizontalGridRow",{attrs:{isLoading:e.isLoading,skeletonWidth:"120",label:e.$t("subscriptions.slideovers.detailView.subscription.nextChargeDate")}},[e._v("\n          "+e._s(e._f("formatDT")(e.subscription.fetchedData.current_period_end))+"\n        ")]):o("HorizontalGridRow",{attrs:{isLoading:e.isLoading,skeletonWidth:"120",label:e.$t("subscriptions.slideovers.detailView.subscription.canceledAt")}},[e._v("\n          "+e._s(e._f("formatDT")(e.subscription.fetchedData.canceled_at))+"\n        ")])],1),e._v(" "),2===e.orderView.selectedTab&&e.subscription.fetchedData.customer?o("div",{staticClass:"divide-y divide-gray-200"},[o("HorizontalGridRow",{attrs:{isLoading:e.isLoading,skeletonWidth:"100",label:e.$t("subscriptions.slideovers.detailView.customer.name")}},[e._v("\n          "+e._s(e.subscription.fetchedData.customer.full_name)+"\n        ")]),e._v(" "),o("HorizontalGridRow",{attrs:{isLoading:e.isLoading,skeletonWidth:"150",label:e.$t("subscriptions.slideovers.detailView.customer.email")}},[e._v("\n          "+e._s(e.subscription.fetchedData.customer.email)+"\n        ")]),e._v(" "),o("HorizontalGridRow",{attrs:{isLoading:e.isLoading,skeletonWidth:"120",label:e.$t("subscriptions.slideovers.detailView.customer.phone")}},[o("div",{staticClass:"flex items-center"},[o("div",[e._v("\n              "+e._s(e.subscription.fetchedData.customer.phone?e.subscription.fetchedData.customer.phone:"-----")+"\n            ")]),e._v(" "),e.subscription.fetchedData.customer.phone?o("div",[o("a",{attrs:{target:"_blank",href:"https://wa.me/"+e.subscription.fetchedData.customer.phone.substring(1)}},[o("img",{staticClass:"w-6 ml-4",attrs:{src:r(442),alt:""}})])]):e._e()])]),e._v(" "),e.subscription.fetchedData.customer.cpf?o("HorizontalGridRow",{attrs:{isLoading:e.isLoading,skeletonWidth:"120",label:"CPF"}},[e._v("\n          "+e._s(e.subscription.fetchedData.customer.cpf?e.subscription.fetchedData.customer.cpf:"-----")+"\n        ")]):e._e(),e._v(" "),e.subscription.fetchedData.customer.cnpj?o("HorizontalGridRow",{attrs:{isLoading:e.isLoading,skeletonWidth:"120",label:"CNPJ"}},[e._v("\n          "+e._s(e.subscription.fetchedData.customer.cnpj?e.subscription.fetchedData.customer.cnpj:"-----")+"\n        ")]):e._e(),e._v(" "),o("HorizontalGridRow",{attrs:{isLoading:e.isLoading,skeletonWidth:"150",label:e.$t("sales.slideovers.orderView.customer.ip")}},[o("div",{staticClass:"truncate"},[e._v("\n            "+e._s(e.subscription.fetchedData.customer.ip_address?e.subscription.fetchedData.customer.ip_address:"-----")+"\n          ")])])],1):e._e(),e._v(" "),o("div",{directives:[{name:"show",rawName:"v-show",value:3===e.orderView.selectedTab,expression:"orderView.selectedTab === 3"}],staticClass:"divide-y divide-gray-200"},[o("TableContainer",{attrs:{headers:e.$t("subscriptions.slideovers.detailView.payments.header"),isLoading:e.isLoading},scopedSlots:e._u([{key:"content",fn:function(){return[e._l(e.subscription.fetchedData.payments,(function(t,r){return o("tr",{key:r,staticClass:"hover:bg-indigo-50 cursor-pointer",class:r%2==0?"bg-white":"bg-gray-50",on:{click:function(r){return e.onPaymentView(t)}}},[o("td",[o("div",{staticClass:"text-sm leading-5 text-gray-500"},[e._v(e._s(e._f("formatDT")(t.created_at)))])]),e._v(" "),o("td",[o("div",[o("KTag",{attrs:{status:t.status}})],1)]),e._v(" "),o("td",[o("div",{staticClass:"text-sm leading-5 text-gray-500"},[e._v(e._s(e._f("formatCurrency")(t.total,0)))])])])}))]},proxy:!0}],null,!1,3208875441)})],1)]},proxy:!0}:null],null,!0),model:{value:e.value,callback:function(t){e.value=t},expression:"value"}})],1)}),[],!1,null,null,null);t.a=component.exports;installComponents(component,{Modal:r(132).default,DropdownBoilerPlate:r(230).default,HorizontalGridRow:r(299).default,KTag:r(169).default,HeroIcon:r(32).default,Tooltip:r(113).default,TableContainer:r(168).default,Slideover:r(206).default})},208:function(e,t,r){"use strict";r(170),r(50);var o={props:{value:{},options:{type:Array},disabled:{type:Boolean}},data:function(){return{localValue:this.value,selectedWidth:0,selectedOffset:0}},computed:{selectedNav:function(){var e=this,t=this.options.findIndex((function(t){return t.id===e.localValue}));return-1!==t?t:"not-found"}},mounted:function(){this.setWidth()},watch:{value:function(){this.localValue=this.value,this.setWidth()},options:{handler:function(){this.setWidth()}}},methods:{updateValue:function(e){this.setWidth(),this.$emit("input",e)},setWidth:function(){var e=this;setTimeout((function(){e.$refs.nav&&"not-found"!==e.selectedNav&&(e.selectedWidth=e.$refs.nav[e.selectedNav].getBoundingClientRect().width,e.selectedOffset=e.$refs.nav[e.selectedNav].offsetLeft)}),0)}}},n=r(0),component=Object(n.a)(o,(function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("nav",{staticClass:"-mb-px flex items-center space-x-6 relative"},[e._l(e.options,(function(option,t){return r("div",{key:t,ref:"nav",refInFor:!0,staticClass:"cursor-pointer whitespace-no-wrap pb-3 px-1 border-b-2 border-transparent font-medium text-sm leading-5",class:[e.value===option.id?"text-indigo-500 hover:text-indigo-700 hover:border-indigo-300 focus:outline-none border-b-2 focus:text-indigo-700 focus:border-indigo-300":"text-gray-500 hover:text-gray-700 hover:border-gray-300 focus:outline-none focus:text-gray-700 focus:border-gray-300",{"cursor-not-allowed":e.disabled}],on:{click:function(t){!e.disabled&&e.updateValue(option.id)}}},[e._v(e._s(option.title))])})),e._v(" "),r("span",{directives:[{name:"show",rawName:"v-show",value:"not-found"!==e.selectedNav,expression:"selectedNav !== 'not-found'"}],staticClass:"absolute bottom-0 z-0 border-b-2 border-indigo-500 ease-out transition-transform transition-medium",staticStyle:{height:"1px"},style:{transform:"translateX("+(e.selectedOffset-22)+"px)",width:e.selectedWidth+"px"}})],2)}),[],!1,null,null,null);t.a=component.exports},807:function(e,t,r){"use strict";var o={props:{data:{type:Object},isLoading:{type:Boolean,required:!0}},data:function(){return{emptyPlaceholder:"----"}}},n=r(0),component=Object(n.a)(o,(function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("article",[r("TableContainer",{attrs:{isEmpty:!(e.isLoading||e.data&&e.data.payments&&e.data.payments.length),headers:[e.$t("defaults.dictionary.date"),"Status",e.$t("defaults.dictionary.value")]}},[e.data&&e.data.payments&&e.data.payments.length?r("template",{slot:"content"},e._l(e.data.payments,(function(t,o){return r("tr",{key:"smart-installments_payment-item_"+t.date+"-"+o,class:[o%2==1&&"bg-gray-50",t.id&&e.$listeners.itemClick&&"hover:bg-indigo-50 cursor-pointer"]},[r("td",{staticStyle:{"padding-right":"0"},on:{click:function(r){return e.$emit("itemClick",t)}}},[r("div",{staticClass:"leading-4 text-sm text-gray-500"},[["paid","refused"].includes(t.status)?[e._v("\n              "+e._s(e._f("formatDT")(t.date))+"\n            ")]:[e._v("\n              "+e._s(e._f("formatDate")(t.date))+"\n            ")]],2)]),e._v(" "),r("td",{staticStyle:{"padding-right":"0"},on:{click:function(r){return e.$emit("itemClick",t)}}},[r("div",[r("KTag",{staticStyle:{"line-height":"0"},attrs:{status:t.status,display:"inline-block max-w-full w-auto truncate"}})],1)]),e._v(" "),r("td",{staticStyle:{"padding-right":"0"},on:{click:function(r){return e.$emit("itemClick",t)}}},[r("div",{staticClass:"leading-4 text-sm text-gray-500"},[e._v("\n            "+e._s(e._f("formatCurrency")(e.data.installment_amount,0))+"\n          ")])])])})),0):e._e()],2)],1)}),[],!1,null,null,null);t.a=component.exports;installComponents(component,{KTag:r(169).default,TableContainer:r(168).default})},808:function(e,t,r){"use strict";r(38),r(30),r(53);var o={apple_pay:{name:"Apple Pay"},google_pay:{name:"Google Pay"},kiwify_network:{name:"Kiwify",href:"https://ajuda.kiwify.com.br/pt-br/article/como-funcionam-as-vendas-1-click-da-rede-kiwify-yw13fy/"}},n={props:{order:{type:Object,default:function(){return{}}}},computed:{slug:function(){return this.order.card_wallet?String(this.order.card_wallet).toLowerCase():String(this.order.one_click_provider||(this.order.is_one_click?"kiwify_network":"")).toLowerCase()},provider:function(){return o[this.slug]},name:function(){return this.slug?(this.provider||{}).name||this.slug.replace(/_/g," "):""}}},d=r(0),component=Object(d.a)(n,(function(){var e=this,t=e.$createElement,o=e._self._c||t;return e.provider?o(e.provider.href?"a":"figure",{tag:"component",staticClass:"inline-block",staticStyle:{"line-height":"0"},attrs:{href:e.provider.href,target:e.provider.href,title:"1-click "+e.name}},[o("img",{staticClass:"inline-block h-5",attrs:{alt:e.name,src:r(1415)("./"+e.slug+".svg")}})]):e.slug?o("span",[e._v("\n  -\n  "),o("span",{staticClass:"capitalize"},[e._v("\n    "+e._s(e.name)+"\n  ")])]):e._e()}),[],!1,null,null,null);t.a=component.exports}}]);