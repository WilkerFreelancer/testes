(window.webpackJsonp=window.webpackJsonp||[]).push([[66],{1540:function(e,t,o){"use strict";o(755)},1541:function(e,t,o){var n=o(23)((function(i){return i[1]}));n.push([e.i,"#resizer{\n  max-width:100%;\n  min-width:10%;\n  box-sizing:content-box!important\n}\n.drag-resize-handlers{\n  position:absolute;\n  margin-right:-4px;\n  margin-bottom:-4px;\n  bottom:0;\n  right:0;\n  pointer-events:none\n}",""]),n.locals={},e.exports=n},1781:function(e,t,o){"use strict";o.r(t);var n={props:{name:{type:String},isActive:{type:Boolean}}},r=o(0),component=Object(r.a)(n,(function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{staticClass:"cursor-pointer flex flex-col items-center justify-center bg-white text-center p-2 text-sm border transition duration-500",on:{click:function(t){return t.target!==t.currentTarget?null:e.$emit("onClick")}}},[o("div",{staticClass:"flex flex-col items-center justify-center",on:{click:function(t){return e.$emit("onClick")}}},[o("div",[e._t("default")],2),e._v(" "),o("div",{staticClass:"mt-2"},[e._v("\n      "+e._s(e.name)+"\n    ")])]),e._v(" "),o("div",{staticClass:"mt-4"},[o("SimpleToggle",{attrs:{value:e.isActive},on:{input:function(t){return e.$emit("onToggle",t)}}})],1)])}),[],!1,null,null,null);t.default=component.exports;installComponents(component,{SimpleToggle:o(82).default})},1793:function(e,t,o){"use strict";o.r(t);var n={props:{size:{type:String,default:"sm"}},data:function(){return{dataList:[{key:"xls",value:"XLS"},{key:"csv",value:"CSV"}]}}},r=o(0),component=Object(r.a)(n,(function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("DropdownBoilerPlate",{attrs:{triggerStyles:"focus:outline-none",dataList:e.dataList},on:{onOptionSelected:function(t){return e.$emit("onExport",t)}}},[o("span",{staticClass:"inline-flex rounded-md shadow-sm",attrs:{slot:"trigger"},slot:"trigger"},[o("KButton",{attrs:{color:"white",icon:"DocumentDownloadIcon",size:e.size}},[e._v("\n      "+e._s(e.$t("sales.list.buttonText"))+"\n    ")])],1)])}),[],!1,null,null,null);t.default=component.exports;installComponents(component,{KButton:o(102).default,DropdownBoilerPlate:o(230).default})},1796:function(e,t,o){"use strict";o.r(t);var n={props:{disabled:{type:Boolean},type:{type:String,default:"button"},as:{type:String},isLoading:{type:Boolean,default:!1},href:{type:String},target:{type:String},to:{type:String},color:{default:"text-indigo-600"},spacing:{default:"py-0.5 px-1 -my-0.5 -mx-1"}},computed:{computedTag:function(){return this.to?"NuxtLink":this.href?"a":this.as||"button"}}},r=o(0),component=Object(r.a)(n,(function(){var e=this,t=e.$createElement;return(e._self._c||t)(e.computedTag,e._g(e._b({tag:"component",class:[e.color,e.spacing,"rounded-md","outline-none focus:outline-none focus:shadow-outline-indigo","transition-all ease-in-out duration-300",e.disabled?["opacity-50","cursor-not-allowed"]:["opacity-100","cursor-pointer"]],attrs:{href:e.href||e.to,target:e.target,to:e.to,type:"button"===e.computedTag?e.type:void 0,disabled:!(!e.disabled&&!e.isLoading)}},"component",e.$props,!1),e.$listeners),[e._t("default")],2)}),[],!1,null,null,null);t.default=component.exports},1840:function(e,t,o){"use strict";o.r(t);var n={props:{isLoading:{type:Boolean}}},r=o(0),component=Object(r.a)(n,(function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("span",{staticClass:"inline-flex rounded-md shadow-sm mr-3"},[o("button",{staticClass:"inline-flex items-center px-4 py-2 border border-gray-300 text-base leading-6 font-medium rounded-md text-gray-700 bg-white hover:text-gray-500 focus:outline-none focus:border-blue-300 focus:shadow-outline-blue active:text-gray-800 active:bg-gray-50 transition ease-in-out duration-150",on:{click:function(t){return e.$emit("onRefresh")}}},[o("HeroIcon",{staticClass:"-ml-1 mr-3 h-5 w-5 text-black",class:{"animate-spin":e.isLoading},attrs:{name:"RefreshIcon"}}),e._v("\n    "+e._s(e.$t("defaults.dictionary.refresh"))+"\n  ")],1)])}),[],!1,null,null,null);t.default=component.exports;installComponents(component,{HeroIcon:o(32).default})},1842:function(e,t,o){"use strict";o.r(t);o(21),o(17),o(13),o(26),o(20),o(27);var n=o(4),r=o(5),l=(o(29),o(30),o(67),o(35),o(61),o(63),o(134),o(40),o(41)),c=o(58),d=o(68);o(118);function f(object,e){var t=Object.keys(object);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(object);e&&(o=o.filter((function(e){return Object.getOwnPropertyDescriptor(object,e).enumerable}))),t.push.apply(t,o)}return t}function m(e){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?f(Object(source),!0).forEach((function(t){Object(r.a)(e,t,source[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(source)):f(Object(source)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(source,t))}))}return e}var h={name:"FilePicker",props:{accept:{type:String,default:"image/jpeg,image/jpg,image/png"},allowMultiple:{type:Boolean,default:!0},images:{type:Array},cropTypes:{},full:{type:Boolean},uploadToServer:{type:Boolean},meta:{type:Object},customCrop:{type:Object},sm:{type:Boolean}},data:function(){return{isActive:!1,id:null,modalStates:{imgCrop:!1},loadingStates:{server:!1},selectedImage:{},uppy:null}},computed:{computedLocale:function(){return{en:void 0,pt:o(118),es:o(164)}[this.$i18n.locale]},localCropTypes:function(){return this.cropTypes?this.cropTypes:this.$t("checkoutBuilder.defaults.imgUpload.cropTypes")},requiresTypeCheck:function(){return"*/*"!==this.accept},acceptedTypes:function(){return this.accept.split(",")},signature:function(){return this.$store.state.signatures.file},isSuperAdminAccess:function(){return this.$store.state.isSuperAdminAccess},templateId:function(){return"ee92473720604cbc8b21aae32ffe1ad3"}},watch:{signature:function(){this.uppy||this.setupUppy()}},created:function(){this.id=Object(l.v4)()},mounted:function(){this.signature&&this.setupUppy()},beforeDestroy:function(){},methods:{cancelHandlers:function(e){e.preventDefault(),e.stopPropagation()},setActive:function(e){this.isActive=!0,this.cancelHandlers(e)},cancelActive:function(e){this.isActive=!1,this.cancelHandlers(e)},uploadAndCrop:function(e){for(var t=[],o=null,i=0;i<e.length;i++)o={id:Object(l.v4)(),url:URL.createObjectURL(e[i]),status:"uploading"},this.uploadFileToServer(o),t.push(o);this.$emit("imagesUpdated",t)},fileAdded:function(e){this.isActive=!1,this.cancelHandlers(e);var t=e.dataTransfer,o=t?e.dataTransfer.files:e.target.files;if(o.length>5||this.images.length+o.length>5)alert("Limit is 5");else if(t&&this.requiresTypeCheck)for(var i=0;i<o.length;i++)-1===this.acceptedTypes.indexOf(o[i].type)?alert("File Type not allowed"):this.uploadAndCrop(o);else this.uploadAndCrop(o)},onCrop:function(e){this.selectedImage=e,this.modalStates.imgCrop=!0},onCropped:function(e){var t=m(m({},this.selectedImage),{},{url:e,status:"uploading"});this.$emit("imageUpdated",t),this.uploadFileToServer(t),this.selectedImage={}},setupUppy:function(){var e=this;this.uppy=new c.b({id:"headlessImgUpload",locale:this.computedLocale,metaFields:[],hidePauseResumeButton:!0,restrictions:{minNumberOfFiles:1,allowedFileTypes:this.acceptedTypes}}).use(d.a,{params:{auth:{key:"d01071d4a07644a29745671fc07b18e2",expires:this.signature.expires},template_id:this.templateId,steps:{export:{path:this.signature.store+"/${file.url_basename}_${file.id}.${file.ext}"}}},waitForEncoding:!0,signature:this.signature.signature}),this.uppy.on("complete",(function(data){e.$emit("uploadingToServer",!1),data.successful.length&&e.images.map(function(){var t=Object(n.a)(regeneratorRuntime.mark((function t(o){var n,r;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(data.successful[0].meta.data.id!==o.id){t.next=13;break}if(t.prev=1,e.isSuperAdminAccess||e.isModerationWhitelisted){t.next=7;break}return t.next=5,e.$axios.post("/uploads/moderate-image",{fileURL:e.addCdn(data.transloadit[0].uploads[0].ssl_url)});case 5:n=t.sent,n.data;case 7:e.$emit("imageUpdated",m(m({},data.successful[0].meta.data),{},{url:data.transloadit[0].uploads[0].ssl_url,status:"uploaded"})),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(1),t.t0.response&&t.t0.response.data&&!t.t0.response.data.success&&"ModerationFailed"===t.t0.response.data.error&&(r=e.$t("defaults.components.uppy.errorModeration"),alert(r),e.$emit("imagesUpdated","empty"));case 13:case"end":return t.stop()}}),t,null,[[1,10]])})));return function(e){return t.apply(this,arguments)}}()),data.failed.length&&(e.$emit("imagesUpdated","empty"),"Erro: Uma das imagens contém conteúdo sexual explícito ou violento."==data.failed[0].error?alert(e.$t("defaults.components.uppy.errorModeration")):alert(data.failed[0].error))}))},uploadFileToServer:function(e){var t=this;return Object(n.a)(regeneratorRuntime.mark((function o(){var n;return regeneratorRuntime.wrap((function(o){for(;;)switch(o.prev=o.next){case 0:if(!e){o.next=7;break}return o.next=3,fetch(e.url).then((function(e){return e.blob()}));case 3:n=o.sent,t.uppy.addFile({name:"course_thumbnails_".concat(Object(l.v4)()),type:"image/png",data:n,meta:{data:e}}),t.$emit("uploadingToServer",!0),t.uppy.upload();case 7:case"end":return o.stop()}}),o)})))()}}},v=o(0),component=Object(v.a)(h,(function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",[o("ImageCropper",{attrs:{url:e.selectedImage.url,customCrop:e.customCrop,cropTypes:e.localCropTypes},on:{onOk:e.onCropped,close:function(t){e.modalStates.imgCrop=!1,e.selectedImage={}}},model:{value:e.modalStates.imgCrop,callback:function(t){e.$set(e.modalStates,"imgCrop",t)},expression:"modalStates.imgCrop"}}),e._v(" "),o("label",{staticClass:"hover:bg-gray-50 cursor-pointer flex justify-center border-2 border-gray-300 transition duration-300 border-dashed rounded-md items-center h-48",class:{"bg-gray-200":e.isActive,"max-w-lg":!e.full,"p-2 h-auto":e.sm,"px-6 pt-5 pb-6":!e.sm},attrs:{for:"file-"+e.id,id:"file"+e.id},on:{dragover:e.setActive,dragleave:e.cancelActive,drop:e.fileAdded}},[o("div",{staticClass:"space-y-1 text-center",class:{"flex items-center justify-between":e.sm}},[o("svg",{staticClass:"mx-auto h-12 w-12 text-gray-400",attrs:{stroke:"currentColor",fill:"none",viewBox:"0 0 48 48","aria-hidden":"true"}},[o("path",{attrs:{d:"M28 8H12a4 4 0 00-4 4v20m32-12v8m0 0v8a4 4 0 01-4 4H12a4 4 0 01-4-4v-4m32-4l-3.172-3.172a4 4 0 00-5.656 0L28 28M8 32l9.172-9.172a4 4 0 015.656 0L28 28m0 0l4 4m4-24h8m-4-4v8m-12 4h.02","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"}})]),e._v(" "),o("div",{class:{"ml-4":e.sm}},[o("div",{staticClass:"flex flex-col text-sm text-gray-600"},[o("div",{staticClass:"relative cursor-pointe rounded-md font-medium text-indigo-600 hover:text-indigo-500 focus-within:outline-none focus-within:ring-2 focus-within:ring-offset-2 focus-within:ring-indigo-500"},[o("span",[e._v(e._s(e.$t("checkoutBuilder.defaults.imgUpload.link")))]),e._v(" "),o("input",{staticClass:"sr-only",attrs:{id:"file-"+e.id,accept:e.accept,multiple:e.allowMultiple,name:"file"+e.id,type:"file"},on:{change:e.fileAdded}})]),e._v(" "),o("p",{staticClass:"pl-1",class:{"text-sm":e.sm}},[e._v(e._s(e.$t("checkoutBuilder.defaults.imgUpload.dragdrop")))])]),e._v(" "),o("p",{staticClass:"text-xs text-gray-500"},[e._v("\n          "+e._s(e.$t("checkoutBuilder.defaults.imgUpload.fileInfo"))+" "),o("br"),e._v("\n          "+e._s(e.$t("checkoutBuilder.defaults.imgUpload.fileTypes.images"))+"\n        ")])])])]),e._v(" "),o("div",{staticClass:"grid grid-cols-2 gap-2 mt-2"},e._l(e.images,(function(img,t){return o("div",{key:t,staticClass:"relative flex-col items-center h-24 w-full rounded overflow-hidden justify-center flex"},[o("div",{staticClass:"absolute z-50 bg-black bg-opacity-50 cursor-pointer w-full h-full transition flex flex-col justify-center items-center"},["uploaded"===img.status?o("div",{staticClass:"flex"},[o("div",{staticClass:"p-2 bg-black bg-opacity-50 rounded-full cursor-pointer hover:bg-opacity-100",on:{click:function(t){return e.onCrop(img)}}},[o("svg",{staticClass:"w-7",attrs:{viewBox:"0 0 24 24",fill:"#fff",xmlns:"http://www.w3.org/2000/svg"}},[o("path",{attrs:{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M7.93164 9.00891V16H15V20.0089H17V16H20.9316V14H17V7.00891H9.93164V3H7.93164V7.00891H4V9.00891H7.93164ZM9.93164 9.00891V14H15V9.00891H9.93164Z",fill:"#fff"}})])]),e._v(" "),o("div",{staticClass:"ml-4 p-2 bg-black bg-opacity-50 rounded-full cursor-pointer hover:bg-opacity-100",on:{click:function(t){return e.$emit("imageDeleted",img)}}},[o("HeroIcon",{staticClass:"text-white inline-block h-5",attrs:{name:"TrashIcon"}})],1)]):o("div",{staticClass:"flex items-center text-white text-sm"},[o("LoadingSpinner"),e._v("\n          "+e._s(e.$t("defaults.dictionary.uploadingImage"))+"\n        ")],1)]),e._v(" "),o("img",{staticClass:"block absolute",style:e.full?"width:100%;":"width:200px;",attrs:{src:e.addCdn(img.url)}})])})),0)],1)}),[],!1,null,null,null);t.default=component.exports;installComponents(component,{ImageCropper:o(388).default,HeroIcon:o(32).default,LoadingSpinner:o(141).default})},1847:function(e,t,o){"use strict";o.r(t);o(35),o(61),o(63),o(134);var n={components:{ColorPicker:o(85).default},data:function(){return{localConfig:this.config,fontFamilies:[{key:"Open Sans",value:"Open Sans"},{key:"Roboto",value:"Roboto"}]}},mounted:function(){this.localConfig=this.$lodashCloneDeep(this.config)},watch:{config:{handler:function(){this.localConfig=this.$lodashCloneDeep(this.config)},deep:!0}},computed:{config:function(){return"desktop"===this.selectedLayout?this.$store.state.checkoutBuilder.checkout.desktop.data.configuration:this.$store.state.checkoutBuilder.checkout.mobile.data.configuration},selectedLayout:function(){return this.$store.state.checkoutBuilder.selectedLayout},backgroundTypeOptions:function(){return this.$t("checkoutBuilder.config.backgroundTypeOptions")}},methods:{updateConfig:function(){this.$store.commit("checkoutBuilder/SET_CONFIG",this.localConfig)},loadImage:function(e){return URL.createObjectURL(e[0])}}},r=o(0),component=Object(r.a)(n,(function(){var e=this,t=e.$createElement,o=e._self._c||t;return e.localConfig?o("div",{staticClass:"h-full w-full px-4 pt-4 pb-20 overflow-y-auto"},[o("div",{staticClass:"w-40"},[o("SimpleSelect",{attrs:{label:e.$t("checkoutBuilder.config.fontFamily"),options:e.fontFamilies},on:{input:e.updateConfig},model:{value:e.localConfig.font_type,callback:function(t){e.$set(e.localConfig,"font_type",t)},expression:"localConfig.font_type"}})],1),e._v(" "),o("div",{staticClass:"mt-6"},[o("div",{staticClass:"flex items-center"},[o("div",[o("label",{staticClass:"label mb-1"},[e._v(e._s(e.$t("checkoutBuilder.config.backgroundColor")))]),e._v(" "),o("ColorPicker",{on:{input:e.updateConfig},model:{value:e.localConfig.background.color,callback:function(t){e.$set(e.localConfig.background,"color",t)},expression:"localConfig.background.color"}})],1)])]),e._v(" "),o("div",{staticClass:"mt-6"},[o("label",{staticClass:"label mb-1"},[e._v(e._s(e.$t("checkoutBuilder.config.backgroundImage")))]),e._v(" "),o("ImageUploadDropArea",{attrs:{url:e.localConfig.background.image},on:{delete:function(t){e.localConfig.background.image=null,e.updateConfig()},crop:function(t){e.localConfig.background.image=t,e.updateConfig()},upload:function(t){e.localConfig.background.image=e.loadImage(t),e.updateConfig()}}})],1),e._v(" "),o("div",{staticClass:"mt-6"},e._l(e.backgroundTypeOptions,(function(t,n){return o("label",{key:n,staticClass:"flex items-center mt-4"},[o("input",{directives:[{name:"model",rawName:"v-model",value:e.localConfig.background[t.key],expression:"localConfig.background[bg_type.key]"}],staticClass:"form-checkbox h-4 w-4 text-indigo-600 transition duration-150 ease-in-out",attrs:{type:"checkbox"},domProps:{checked:Array.isArray(e.localConfig.background[t.key])?e._i(e.localConfig.background[t.key],null)>-1:e.localConfig.background[t.key]},on:{change:[function(o){var n=e.localConfig.background[t.key],r=o.target,l=!!r.checked;if(Array.isArray(n)){var c=e._i(n,null);r.checked?c<0&&e.$set(e.localConfig.background,t.key,n.concat([null])):c>-1&&e.$set(e.localConfig.background,t.key,n.slice(0,c).concat(n.slice(c+1)))}else e.$set(e.localConfig.background,t.key,l)},e.updateConfig]}}),e._v(" "),o("span",{staticClass:"block font-medium leading-5 text-gray-700 ml-2 cursor-pointer"},[e._v(e._s(t.value))])])})),0)]):e._e()}),[],!1,null,null,null);t.default=component.exports;installComponents(component,{SimpleSelect:o(81).default,ColorPicker:o(85).default,ImageUploadDropArea:o(300).default})},1914:function(e,t,o){"use strict";o.r(t);var n={mixins:[o(217).a],data:function(){return{slideoverStates:{exitPopup:!1,notifications:!1,chat:!1}}},methods:{openSlideover:function(e){this.findComponent(e).active?(this.slideoverStates[e]=!0,this.$emit("reset")):(this.setComponent(!0,e),this.slideoverStates[e]=!0,this.$emit("reset"))},resetStates:function(){this.slideoverStates.exitPopup=!1,this.slideoverStates.notifications=!1,this.slideoverStates.chat=!1}}},r=o(0),component=Object(r.a)(n,(function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",[o("div",[o("ExitPopupManager",{on:{close:function(t){e.slideoverStates.exitPopup=!1}},model:{value:e.slideoverStates.exitPopup,callback:function(t){e.$set(e.slideoverStates,"exitPopup",t)},expression:"slideoverStates.exitPopup"}}),e._v(" "),o("NotificationsManager",{on:{close:function(t){e.slideoverStates.notifications=!1}},model:{value:e.slideoverStates.notifications,callback:function(t){e.$set(e.slideoverStates,"notifications",t)},expression:"slideoverStates.notifications"}}),e._v(" "),o("ChatManager",{on:{close:function(t){e.slideoverStates.chat=!1}},model:{value:e.slideoverStates.chat,callback:function(t){e.$set(e.slideoverStates,"chat",t)},expression:"slideoverStates.chat"}})],1),e._v(" "),o("div",{staticClass:"grid grid-cols-2 gap-2 mt-4"},["desktop"===e.selectedLayout?o("NonDragComponent",{attrs:{name:e.$t("checkoutBuilder.components.exitPopup.name"),isActive:e.findComponent("exitPopup").active},on:{onClick:function(t){return e.openSlideover("exitPopup")},onToggle:function(t){return e.setComponent(t,"exitPopup")}}},[o("svg",{staticClass:"h-10",attrs:{xmlns:"http://www.w3.org/2000/svg","enable-background":"new 0 0 508 508",viewBox:"0 0 508 508"}},[o("g",[o("path",{attrs:{fill:"#6b7280",d:"m0 318c0-5.51 4.49-10 10-10s10 4.49 10 10-4.49 10-10 10-10-4.49-10-10zm60-222.5c0 5.523-4.477 10-10 10s-10-4.477-10-10 4.477-10 10-10 10 4.477 10 10zm45 0c0 5.523-4.477 10-10 10s-10-4.477-10-10 4.477-10 10-10 10 4.477 10 10zm45 0c0 5.523-4.477 10-10 10s-10-4.477-10-10 4.477-10 10-10 10 4.477 10 10zm358 95v262c0 5.523-4.478 10-10 10h-410c-5.523 0-10-4.477-10-10v-31h-68c-5.613 0-10-4.581-10-10v-48.5c0-5.51 4.49-10 10-10s10 4.49 10 10v38.5h58v-211c0-5.523 4.477-10 10-10h322v-35h-390v127.5c0 5.51-4.49 10-10 10s-10-4.49-10-10v-197.5c0-16.542 13.458-30 30-30h370c16.542 0 30 13.458 30 30v105h68c5.522 0 10 4.477 10 10zm-488-65h390v-50c0-5.514-4.486-10-10-10h-370c-5.514 0-10 4.486-10 10zm468 75h-390v242h390zm-197 72v130c0 11.028-8.972 20-20 20h-100c-11.028 0-20-8.972-20-20v-130c0-5.523 4.477-10 10-10h25v-7c0-19.299 15.701-35 35-35s35 15.701 35 35v7h25c5.522 0 10 4.477 10 10zm-85-10h30v-7c0-8.271-6.729-15-15-15s-15 6.729-15 15zm65 20h-15v18c0 5.523-4.477 10-10 10s-10-4.477-10-10v-18h-30v18c0 5.523-4.477 10-10 10s-10-4.477-10-10v-18h-15v120h100zm50 3h52c5.522 0 10-4.477 10-10s-4.478-10-10-10h-52c-5.522 0-10 4.477-10 10s4.478 10 10 10zm104 28h-104c-5.522 0-10 4.477-10 10s4.478 10 10 10h104c5.522 0 10-4.477 10-10s-4.478-10-10-10zm10 68v20c0 11.028-8.972 20-20 20h-84c-11.028 0-20-8.972-20-20v-20c0-11.028 8.972-20 20-20h84c11.028 0 20 8.972 20 20zm-20 0h-84v20h84zm1.929-143.929 9.929 9.929-9.929 9.929c-3.905 3.905-3.882 10.215 0 14.143 4.329 4.38 10.845 3.477 14.143 0l9.929-9.929 9.929 9.929c3.555 3.477 9.41 4.396 14.143 0 4.046-3.759 3.905-10.237 0-14.143l-9.929-9.929 9.929-9.929c3.905-3.905 3.905-10.237 0-14.143-3.906-3.905-10.236-3.905-14.143 0l-9.93 9.929-9.929-9.929c-3.906-3.905-10.236-3.905-14.143 0-3.905 3.906-3.905 10.238.001 14.143z"}})])])]):e._e(),e._v(" "),o("NonDragComponent",{attrs:{name:e.$t("checkoutBuilder.components.chat.name"),isActive:e.findComponent("chat").active},on:{onClick:function(t){return e.openSlideover("chat")},onToggle:function(t){return e.setComponent(t,"chat")}}},[o("svg",{staticClass:"h-9 text-gray-400",attrs:{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"}},[o("path",{attrs:{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M17 8h2a2 2 0 012 2v6a2 2 0 01-2 2h-2v4l-4-4H9a1.994 1.994 0 01-1.414-.586m0 0L11 14h4a2 2 0 002-2V6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2v4l.586-.586z"}})])])],1)])}),[],!1,null,null,null);t.default=component.exports;installComponents(component,{ExitPopupManager:o(1777).default,NotificationsManager:o(1779).default,ChatManager:o(1780).default,NonDragComponent:o(1781).default})},300:function(e,t,o){"use strict";o.r(t);var n=o(4),r=(o(29),o(30),o(67),o(50),o(36),o(51),o(35),o(41)),l=o(58),c=o(68),d=(o(118),{mixins:[o(287).a],name:"FilePicker",props:{accept:{type:String,default:"image/jpeg,image/jpg,image/png"},allowMultiple:{type:Boolean,default:!1},url:{type:String},cropTypes:{},full:{type:Boolean},uploadToServer:{type:Boolean},meta:{type:Object},customCrop:{type:Object},singleCover:{type:Boolean},rawFiles:{},canCrop:{type:Boolean,default:!0}},data:function(){return{isActive:!1,id:null,modalStates:{imgCrop:!1},loadingStates:{server:!1},uppy:null,blobUrl:null,isRetried:!1}},computed:{computedLocale:function(){return{en:void 0,pt:o(118),es:o(164)}[this.$i18n.locale]},localCropTypes:function(){return this.cropTypes?this.cropTypes:this.$t("checkoutBuilder.defaults.imgUpload.cropTypes")},requiresTypeCheck:function(){return"*/*"!==this.accept},acceptedTypes:function(){return this.accept.split(",")},signature:function(){return this.$store.state.signatures.file},isSuperAdminAccess:function(){return this.$store.state.isSuperAdminAccess},templateId:function(){return"ee92473720604cbc8b21aae32ffe1ad3"}},watch:{signature:function(){this.uppy||this.setupUppy()},rawFiles:{handler:function(){this.rawFiles&&this.rawFiles.length&&this.uploadAndCrop(this.rawFiles)},deep:!0}},created:function(){this.id=Object(r.v4)()},mounted:function(){this.signature&&this.setupUppy()},beforeDestroy:function(){},methods:{crop:function(){this.singleCover&&this.$nextTick((function(){window.scrollTo(0,0)})),this.modalStates.imgCrop=!0},cancelHandlers:function(e){e.preventDefault(),e.stopPropagation()},setActive:function(e){this.isActive=!0,this.cancelHandlers(e)},cancelActive:function(e){this.isActive=!1,this.cancelHandlers(e)},uploadAndCrop:function(e){var t=this;this.$emit("upload",e),setTimeout((function(){t.crop()}),200)},fileAdded:function(e){this.isActive=!1,this.cancelHandlers(e);var t=e.dataTransfer,o=t?e.dataTransfer.files:e.target.files;if(t&&!this.allowMultiple&&o.length>1&&alert("Multiple Files not allowed"),t&&this.requiresTypeCheck)for(var i=0;i<o.length;i++)-1===this.acceptedTypes.indexOf(o[i].type)?alert("File Type not allowed"):this.uploadAndCrop(o);else this.uploadAndCrop(o)},onPreviewLoaded:function(e){this.$emit("previewLoaded",e)},onOk:function(e){this.$emit("crop",e),this.uploadFileToServer(e)},setupUppy:function(){var e=this;this.uppy=new l.b({id:"headlessImgUpload",locale:this.computedLocale,metaFields:[],hidePauseResumeButton:!0,restrictions:{minNumberOfFiles:1,allowedFileTypes:this.acceptedTypes}}).use(c.a,{params:{auth:{key:"d01071d4a07644a29745671fc07b18e2",expires:this.signature.expires},template_id:this.templateId,steps:{export:{path:this.signature.store+"/${file.url_basename}_${file.id}.${file.ext}"}}},waitForEncoding:!0,signature:this.signature.signature}),this.uppy.on("upload",(function(data){e.loadingStates.server=!0,e.$emit("uploadingToServer",!0)})),this.isSuperAdminAccess||this.isModerationWhitelisted||this.uppy.use(this.imageModeration,{moderateImage:this.moderateImage}),this.uppy.on("moderation-fail",(function(data){e.$emit("crop",null)})),this.uppy.on("complete",(function(data){e.loadingStates.server=!1,e.$emit("uploadingToServer",!1),data.successful.length&&(data.transloadit[0].results[":original"][0]?data.transloadit[0].results[":original"][0].ssl_url.includes("transloadit")?e.isRetried?e.$emit("crop",e.addCdn(data.transloadit[0].results[":original"][0].ssl_url)):(e.uploadFileToServer(e.blobUrl),e.isRetried=!0):e.$emit("crop",e.addCdn(data.transloadit[0].results[":original"][0].ssl_url)):e.isRetried||(e.uploadFileToServer(e.blobUrl),e.isRetried=!0)),data.failed.length&&(e.$emit("crop",null),"Erro: Uma das imagens contém conteúdo sexual explícito ou violento."==data.failed[0].error?alert(e.$t("defaults.components.uppy.errorModeration")):alert(data.failed[0].error))}))},uploadFileToServer:function(e){var t=this;return Object(n.a)(regeneratorRuntime.mark((function o(){var n;return regeneratorRuntime.wrap((function(o){for(;;)switch(o.prev=o.next){case 0:if(!t.uploadToServer){o.next=13;break}return o.prev=1,t.blobUrl=e||t.url,o.next=5,fetch(t.blobUrl).then((function(e){return e.blob()}));case 5:n=o.sent,t.uppy.addFile({name:"course_thumbnails_".concat(Object(r.v4)()),type:"image/png",data:n}),t.uppy.upload(),o.next=13;break;case 10:o.prev=10,o.t0=o.catch(1),console.error("Error while trying to upload image",o.t0);case 13:case"end":return o.stop()}}),o,null,[[1,10]])})))()}}}),f=o(0),component=Object(f.a)(d,(function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",[o("ImageCropper",{attrs:{url:e.url,customCrop:e.customCrop,cropTypes:e.localCropTypes,singleCover:e.singleCover},on:{onOk:e.onOk,close:e.uploadFileToServer},model:{value:e.modalStates.imgCrop,callback:function(t){e.$set(e.modalStates,"imgCrop",t)},expression:"modalStates.imgCrop"}}),e._v(" "),e.url?o("div",{staticClass:"relative flex-col items-center h-48 w-full rounded overflow-hidden justify-center flex"},[o("div",{staticClass:"absolute z-50 bg-black bg-opacity-50 cursor-pointer w-full h-full transition flex flex-col justify-center items-center"},[e.loadingStates.server?o("div",{staticClass:"flex items-center text-white text-sm"},[o("LoadingSpinner"),e._v("\n        "+e._s(e.$t("defaults.dictionary.uploadingImage"))+"\n      ")],1):o("div",{staticClass:"flex"},[e.canCrop?o("div",{staticClass:"p-2 bg-black bg-opacity-50 rounded-full cursor-pointer hover:bg-opacity-100",on:{click:e.crop}},[o("svg",{staticClass:"w-7",attrs:{viewBox:"0 0 24 24",fill:"#fff",xmlns:"http://www.w3.org/2000/svg"}},[o("path",{attrs:{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M7.93164 9.00891V16H15V20.0089H17V16H20.9316V14H17V7.00891H9.93164V3H7.93164V7.00891H4V9.00891H7.93164ZM9.93164 9.00891V14H15V9.00891H9.93164Z",fill:"#fff"}})])]):e._e(),e._v(" "),o("div",{staticClass:"ml-4 p-2 bg-black bg-opacity-50 rounded-full cursor-pointer hover:bg-opacity-100",on:{click:function(t){return e.$emit("delete")}}},[o("HeroIcon",{staticClass:"text-white inline-block h-5",attrs:{name:"TrashIcon"}})],1)])]),e._v(" "),o("img",{staticClass:"block absolute",style:e.full?"width:100%;":"width:200px;",attrs:{src:e.addCdn(e.url)},on:{load:e.onPreviewLoaded}})]):o("label",{staticClass:"hover:bg-gray-50 cursor-pointer flex justify-center px-6 pt-5 pb-6 border-2 border-gray-300 transition duration-300 border-dashed rounded-md h-48 items-center",class:{"bg-gray-200":e.isActive,"max-w-lg":!e.full},attrs:{for:"file-"+e.id,id:"file"+e.id},on:{dragover:e.setActive,dragleave:e.cancelActive,drop:e.fileAdded}},[o("div",{staticClass:"space-y-1 text-center"},[o("svg",{staticClass:"mx-auto h-12 w-12 text-gray-400",attrs:{stroke:"currentColor",fill:"none",viewBox:"0 0 48 48","aria-hidden":"true"}},[o("path",{attrs:{d:"M28 8H12a4 4 0 00-4 4v20m32-12v8m0 0v8a4 4 0 01-4 4H12a4 4 0 01-4-4v-4m32-4l-3.172-3.172a4 4 0 00-5.656 0L28 28M8 32l9.172-9.172a4 4 0 015.656 0L28 28m0 0l4 4m4-24h8m-4-4v8m-12 4h.02","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"}})]),e._v(" "),o("div",{staticClass:"flex flex-col text-sm text-gray-600"},[o("div",{staticClass:"relative cursor-pointe rounded-md font-medium text-indigo-600 hover:text-indigo-500 focus-within:outline-none focus-within:ring-2 focus-within:ring-offset-2 focus-within:ring-indigo-500"},[o("span",[e._v(e._s(e.$t("checkoutBuilder.defaults.imgUpload.link")))]),e._v(" "),o("input",{staticClass:"sr-only",attrs:{id:"file-"+e.id,accept:e.accept,multiple:e.allowMultiple,name:"file"+e.id,type:"file"},on:{change:e.fileAdded}})]),e._v(" "),o("p",{staticClass:"pl-1"},[e._v(e._s(e.$t("checkoutBuilder.defaults.imgUpload.dragdrop")))])]),e._v(" "),o("p",{staticClass:"text-xs text-gray-500"},[e._v("\n        "+e._s(e.$t("checkoutBuilder.defaults.imgUpload.fileInfo"))+"\n      ")])])])],1)}),[],!1,null,null,null);t.default=component.exports;installComponents(component,{ImageCropper:o(388).default,HeroIcon:o(32).default,LoadingSpinner:o(141).default})},451:function(e,t,o){"use strict";o.r(t);var n={data:function(){return{origX:0,origY:0,newX:0,newY:0}},props:{showSelector:{type:Boolean},width:{},preview:{type:Boolean}},watch:{showSelector:{handler:function(){var element=this.$el;this.showSelector?element&&!this.preview&&element.addEventListener("mousemove",this.mousemove):(element&&element.removeEventListener("mousemove",this.mousemove),document.onmousedown=null)}}},computed:{styles:function(){return window.getComputedStyle(this.$el)}},mounted:function(){var element=this.$el;this.showSelector?element&&!this.preview&&element.addEventListener("mousemove",this.mousemove):(element&&element.removeEventListener("mousemove",this.mousemove),document.onmousedown=null)},beforeDestroy:function(){var element=this.$el;element&&(element.removeEventListener("mousemove",this.mousemove),document.onmousedown=null)},methods:{resize:function(e){(e=e||window.event).preventDefault(),this.origX=e.clientX,this.origY=e.clientY,e.offsetX>=parseInt(this.styles.width)-15&&e.offsetY>=parseInt(this.styles.height)-15&&(document.onmousemove=this.resizeBr),document.onmouseup=this.stopResize},resizeBr:function(e){(e=e||window.event).preventDefault(),e.stopPropagation(),this.newX=e.clientX-this.origX,this.newY=e.clientY-this.origY,this.origX=e.clientX,this.origY=e.clientY,this.rightRS()},stopResize:function(e){document.onmousemove=null,document.onmousedown=null,document.onmouseup=null},rightRS:function(){this.styles.width&&this.$emit("onResize",parseInt(this.styles.width)+this.newX+"px")},mousemove:function(e){e.offsetX>=parseInt(this.styles.width)-15&&e.offsetY>=parseInt(this.styles.height)-15?(this.$el.style.cursor="nwse-resize",this.$el.querySelector(".iframe")&&this.$el.querySelector(".iframe").classList.add("pointer-events-none"),document.onmousedown=this.resize):document.onmousemove||(this.$el.style.cursor="",this.$el.querySelector(".iframe")&&this.$el.querySelector(".iframe").classList.remove("pointer-events-none"),document.onmousedown=null)}}},r=(o(1540),o(0)),component=Object(r.a)(n,(function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{staticClass:"relative",style:[{width:e.width},{outline:e.showSelector&&!e.preview?"rgb(209, 213, 219) dashed 3px":"none"}],attrs:{id:"resizer"}},[e._t("default"),e._v(" "),o("div",{directives:[{name:"show",rawName:"v-show",value:e.showSelector&&!e.preview,expression:"showSelector && !preview"}],staticClass:"drag-resize-handlers h-4 w-4 bg-blue-200 border border-blue-500 transform z-50 transition duration-500",staticStyle:{cursor:"nwse-resize"}})],2)}),[],!1,null,null,null);t.default=component.exports},755:function(e,t,o){var content=o(1541);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,o(24).default)("4fef96a0",content,!0,{sourceMap:!1})}}]);