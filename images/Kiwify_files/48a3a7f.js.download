/*! For license information please see LICENSES */
(window.webpackJsonp=window.webpackJsonp||[]).push([[49],{154:function(e,t,r){"use strict";r.d(t,"c",(function(){return o})),r.d(t,"b",(function(){return c})),r.d(t,"a",(function(){return f}));var n=r(156);function o(e,...t){return t.reduce(((t,r)=>(e.hasOwnProperty(r)&&(t[r]=e[r]),t)),{})}const h=setTimeout,l=clearTimeout;function c(e,t){t.useNativeTimers?(e.setTimeoutFn=h.bind(n.a),e.clearTimeoutFn=l.bind(n.a)):(e.setTimeoutFn=setTimeout.bind(n.a),e.clearTimeoutFn=clearTimeout.bind(n.a))}function f(e){return"string"==typeof e?function(e){let t=0,r=0;for(let i=0,n=e.length;i<n;i++)t=e.charCodeAt(i),t<128?r+=1:t<2048?r+=2:t<55296||t>=57344?r+=3:(i++,r+=4);return r}(e):Math.ceil(1.33*(e.byteLength||e.size))}},1549:function(e,t,r){e.exports=function(){"use strict";function e(e){if(Array.isArray(e)){for(var i=0,t=Array(e.length);i<e.length;i++)t[i]=e[i];return t}return Array.from(e)}var t=Object.hasOwnProperty,r=Object.setPrototypeOf,n=Object.isFrozen,o=Object.getPrototypeOf,h=Object.getOwnPropertyDescriptor,l=Object.freeze,c=Object.seal,f=Object.create,d="undefined"!=typeof Reflect&&Reflect,m=d.apply,y=d.construct;m||(m=function(e,t,r){return e.apply(t,r)}),l||(l=function(e){return e}),c||(c=function(e){return e}),y||(y=function(t,r){return new(Function.prototype.bind.apply(t,[null].concat(e(r))))});var v=C(Array.prototype.forEach),w=C(Array.prototype.pop),k=C(Array.prototype.push),O=C(String.prototype.toLowerCase),S=C(String.prototype.match),A=C(String.prototype.replace),x=C(String.prototype.indexOf),T=C(String.prototype.trim),L=C(RegExp.prototype.test),E=j(TypeError);function C(e){return function(t){for(var r=arguments.length,n=Array(r>1?r-1:0),o=1;o<r;o++)n[o-1]=arguments[o];return m(e,t,n)}}function j(e){return function(){for(var t=arguments.length,r=Array(t),n=0;n<t;n++)r[n]=arguments[n];return y(e,r)}}function R(e,t){r&&r(e,null);for(var o=t.length;o--;){var element=t[o];if("string"==typeof element){var h=O(element);h!==element&&(n(t)||(t[o]=h),element=h)}e[element]=!0}return e}function U(object){var e=f(null),r=void 0;for(r in object)m(t,object,[r])&&(e[r]=object[r]);return e}function _(object,e){for(;null!==object;){var desc=h(object,e);if(desc){if(desc.get)return C(desc.get);if("function"==typeof desc.value)return C(desc.value)}object=o(object)}function t(element){return console.warn("fallback value for",element),null}return t}var html=l(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","section","select","shadow","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),svg=l(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","filter","font","g","glyph","glyphref","hkern","image","line","lineargradient","marker","mask","metadata","mpath","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),B=l(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),P=l(["animate","color-profile","cursor","discard","fedropshadow","feimage","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),M=l(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover"]),N=l(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),text=l(["#text"]),D=l(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","face","for","headers","height","hidden","high","href","hreflang","id","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","noshade","novalidate","nowrap","open","optimum","pattern","placeholder","playsinline","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","xmlns","slot"]),F=l(["accent-height","accumulate","additive","alignment-baseline","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","targetx","targety","transform","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),I=l(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),z=l(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),V=c(/\{\{[\s\S]*|[\s\S]*\}\}/gm),H=c(/<%[\s\S]*|[\s\S]*%>/gm),W=c(/^data-[\-\w.\u00B7-\uFFFF]/),$=c(/^aria-[\-\w]+$/),G=c(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|cid|xmpp):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),K=c(/^(?:\w+script|data):/i),X=c(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),Y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};function J(e){if(Array.isArray(e)){for(var i=0,t=Array(e.length);i<e.length;i++)t[i]=e[i];return t}return Array.from(e)}var Z=function(){return"undefined"==typeof window?null:window},Q=function(e,t){if("object"!==(void 0===e?"undefined":Y(e))||"function"!=typeof e.createPolicy)return null;var r=null,n="data-tt-policy-suffix";t.currentScript&&t.currentScript.hasAttribute(n)&&(r=t.currentScript.getAttribute(n));var o="dompurify"+(r?"#"+r:"");try{return e.createPolicy(o,{createHTML:function(e){return e}})}catch(e){return console.warn("TrustedTypes policy "+o+" could not be created."),null}};function ee(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Z(),t=function(e){return ee(e)};if(t.version="2.3.0",t.removed=[],!e||!e.document||9!==e.document.nodeType)return t.isSupported=!1,t;var r=e.document,n=e.document,o=e.DocumentFragment,h=e.HTMLTemplateElement,c=e.Node,f=e.Element,d=e.NodeFilter,m=e.NamedNodeMap,y=void 0===m?e.NamedNodeMap||e.MozNamedAttrMap:m,C=e.Text,j=e.Comment,te=e.DOMParser,re=e.trustedTypes,ne=f.prototype,ie=_(ne,"cloneNode"),se=_(ne,"nextSibling"),oe=_(ne,"childNodes"),ae=_(ne,"parentNode");if("function"==typeof h){var template=n.createElement("template");template.content&&template.content.ownerDocument&&(n=template.content.ownerDocument)}var he=Q(re,r),le=he&&ze?he.createHTML(""):"",ue=n,ce=ue.implementation,fe=ue.createNodeIterator,pe=ue.createDocumentFragment,de=ue.getElementsByTagName,ge=r.importNode,me={};try{me=U(n).documentMode?n.documentMode:{}}catch(e){}var ye={};t.isSupported="function"==typeof ae&&ce&&void 0!==ce.createHTMLDocument&&9!==me;var be=V,ve=H,we=W,ke=$,Oe=K,Se=X,Ae=G,xe=null,Te=R({},[].concat(J(html),J(svg),J(B),J(M),J(text))),Le=null,Ee=R({},[].concat(J(D),J(F),J(I),J(z))),Ce=null,je=null,Re=!0,Ue=!0,_e=!1,Be=!1,Pe=!1,Me=!1,Ne=!1,De=!1,Fe=!1,Ie=!0,ze=!1,Ve=!0,He=!0,qe=!1,We={},$e=R({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]),Ge=null,Ke=R({},["audio","video","img","source","image","track"]),Xe=null,Ye=R({},["alt","class","for","id","label","name","pattern","placeholder","summary","title","value","style","xmlns"]),Je="http://www.w3.org/1998/Math/MathML",Ze="http://www.w3.org/2000/svg",Qe="http://www.w3.org/1999/xhtml",et=Qe,tt=!1,nt=null,it=n.createElement("form"),st=function(e){nt&&nt===e||(e&&"object"===(void 0===e?"undefined":Y(e))||(e={}),e=U(e),xe="ALLOWED_TAGS"in e?R({},e.ALLOWED_TAGS):Te,Le="ALLOWED_ATTR"in e?R({},e.ALLOWED_ATTR):Ee,Xe="ADD_URI_SAFE_ATTR"in e?R(U(Ye),e.ADD_URI_SAFE_ATTR):Ye,Ge="ADD_DATA_URI_TAGS"in e?R(U(Ke),e.ADD_DATA_URI_TAGS):Ke,Ce="FORBID_TAGS"in e?R({},e.FORBID_TAGS):{},je="FORBID_ATTR"in e?R({},e.FORBID_ATTR):{},We="USE_PROFILES"in e&&e.USE_PROFILES,Re=!1!==e.ALLOW_ARIA_ATTR,Ue=!1!==e.ALLOW_DATA_ATTR,_e=e.ALLOW_UNKNOWN_PROTOCOLS||!1,Be=e.SAFE_FOR_TEMPLATES||!1,Pe=e.WHOLE_DOCUMENT||!1,De=e.RETURN_DOM||!1,Fe=e.RETURN_DOM_FRAGMENT||!1,Ie=!1!==e.RETURN_DOM_IMPORT,ze=e.RETURN_TRUSTED_TYPE||!1,Ne=e.FORCE_BODY||!1,Ve=!1!==e.SANITIZE_DOM,He=!1!==e.KEEP_CONTENT,qe=e.IN_PLACE||!1,Ae=e.ALLOWED_URI_REGEXP||Ae,et=e.NAMESPACE||Qe,Be&&(Ue=!1),Fe&&(De=!0),We&&(xe=R({},[].concat(J(text))),Le=[],!0===We.html&&(R(xe,html),R(Le,D)),!0===We.svg&&(R(xe,svg),R(Le,F),R(Le,z)),!0===We.svgFilters&&(R(xe,B),R(Le,F),R(Le,z)),!0===We.mathMl&&(R(xe,M),R(Le,I),R(Le,z))),e.ADD_TAGS&&(xe===Te&&(xe=U(xe)),R(xe,e.ADD_TAGS)),e.ADD_ATTR&&(Le===Ee&&(Le=U(Le)),R(Le,e.ADD_ATTR)),e.ADD_URI_SAFE_ATTR&&R(Xe,e.ADD_URI_SAFE_ATTR),He&&(xe["#text"]=!0),Pe&&R(xe,["html","head","body"]),xe.table&&(R(xe,["tbody"]),delete Ce.tbody),l&&l(e),nt=e)},ot=R({},["mi","mo","mn","ms","mtext"]),at=R({},["foreignobject","desc","title","annotation-xml"]),ht=R({},svg);R(ht,B),R(ht,P);var lt=R({},M);R(lt,N);var ut=function(element){var e=ae(element);e&&e.tagName||(e={namespaceURI:Qe,tagName:"template"});var t=O(element.tagName),r=O(e.tagName);if(element.namespaceURI===Ze)return e.namespaceURI===Qe?"svg"===t:e.namespaceURI===Je?"svg"===t&&("annotation-xml"===r||ot[r]):Boolean(ht[t]);if(element.namespaceURI===Je)return e.namespaceURI===Qe?"math"===t:e.namespaceURI===Ze?"math"===t&&at[r]:Boolean(lt[t]);if(element.namespaceURI===Qe){if(e.namespaceURI===Ze&&!at[r])return!1;if(e.namespaceURI===Je&&!ot[r])return!1;var n=R({},["title","style","font","a","script"]);return!lt[t]&&(n[t]||!ht[t])}return!1},ct=function(e){k(t.removed,{element:e});try{e.parentNode.removeChild(e)}catch(t){try{e.outerHTML=le}catch(t){e.remove()}}},ft=function(e,r){try{k(t.removed,{attribute:r.getAttributeNode(e),from:r})}catch(e){k(t.removed,{attribute:null,from:r})}if(r.removeAttribute(e),"is"===e&&!Le[e])if(De||Fe)try{ct(r)}catch(e){}else try{r.setAttribute(e,"")}catch(e){}},pt=function(e){var t=void 0,r=void 0;if(Ne)e="<remove></remove>"+e;else{var o=S(e,/^[\r\n\t ]+/);r=o&&o[0]}var h=he?he.createHTML(e):e;if(et===Qe)try{t=(new te).parseFromString(h,"text/html")}catch(e){}if(!t||!t.documentElement){t=ce.createDocument(et,"template",null);try{t.documentElement.innerHTML=tt?"":h}catch(e){}}var body=t.body||t.documentElement;return e&&r&&body.insertBefore(n.createTextNode(r),body.childNodes[0]||null),et===Qe?de.call(t,Pe?"html":"body")[0]:Pe?t.documentElement:body},gt=function(e){return fe.call(e.ownerDocument||e,e,d.SHOW_ELEMENT|d.SHOW_COMMENT|d.SHOW_TEXT,null,!1)},mt=function(e){return!(e instanceof C||e instanceof j||"string"==typeof e.nodeName&&"string"==typeof e.textContent&&"function"==typeof e.removeChild&&e.attributes instanceof y&&"function"==typeof e.removeAttribute&&"function"==typeof e.setAttribute&&"string"==typeof e.namespaceURI&&"function"==typeof e.insertBefore)},yt=function(object){return"object"===(void 0===c?"undefined":Y(c))?object instanceof c:object&&"object"===(void 0===object?"undefined":Y(object))&&"number"==typeof object.nodeType&&"string"==typeof object.nodeName},bt=function(e,r,data){ye[e]&&v(ye[e],(function(e){e.call(t,r,data,nt)}))},vt=function(e){var content=void 0;if(bt("beforeSanitizeElements",e,null),mt(e))return ct(e),!0;if(S(e.nodeName,/[\u0080-\uFFFF]/))return ct(e),!0;var r=O(e.nodeName);if(bt("uponSanitizeElement",e,{tagName:r,allowedTags:xe}),!yt(e.firstElementChild)&&(!yt(e.content)||!yt(e.content.firstElementChild))&&L(/<[/\w]/g,e.innerHTML)&&L(/<[/\w]/g,e.textContent))return ct(e),!0;if(!xe[r]||Ce[r]){if(He&&!$e[r]){var n=ae(e)||e.parentNode,o=oe(e)||e.childNodes;if(o&&n)for(var i=o.length-1;i>=0;--i)n.insertBefore(ie(o[i],!0),se(e))}return ct(e),!0}return e instanceof f&&!ut(e)?(ct(e),!0):"noscript"!==r&&"noembed"!==r||!L(/<\/no(script|embed)/i,e.innerHTML)?(Be&&3===e.nodeType&&(content=e.textContent,content=A(content,be," "),content=A(content,ve," "),e.textContent!==content&&(k(t.removed,{element:e.cloneNode()}),e.textContent=content)),bt("afterSanitizeElements",e,null),!1):(ct(e),!0)},wt=function(e,t,r){if(Ve&&("id"===t||"name"===t)&&(r in n||r in it))return!1;if(Ue&&!je[t]&&L(we,t));else if(Re&&L(ke,t));else{if(!Le[t]||je[t])return!1;if(Xe[t]);else if(L(Ae,A(r,Se,"")));else if("src"!==t&&"xlink:href"!==t&&"href"!==t||"script"===e||0!==x(r,"data:")||!Ge[e])if(_e&&!L(Oe,A(r,Se,"")));else if(r)return!1}return!0},kt=function(e){var r=void 0,n=void 0,o=void 0,h=void 0;bt("beforeSanitizeAttributes",e,null);var l=e.attributes;if(l){var c={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:Le};for(h=l.length;h--;){var f=r=l[h],d=f.name,m=f.namespaceURI;if(n=T(r.value),o=O(d),c.attrName=o,c.attrValue=n,c.keepAttr=!0,c.forceKeepAttr=void 0,bt("uponSanitizeAttribute",e,c),n=c.attrValue,!c.forceKeepAttr&&(ft(d,e),c.keepAttr))if(L(/\/>/i,n))ft(d,e);else{Be&&(n=A(n,be," "),n=A(n,ve," "));var y=e.nodeName.toLowerCase();if(wt(y,o,n))try{m?e.setAttributeNS(m,d,n):e.setAttribute(d,n),w(t.removed)}catch(e){}}}bt("afterSanitizeAttributes",e,null)}},Ot=function e(t){var r=void 0,n=gt(t);for(bt("beforeSanitizeShadowDOM",t,null);r=n.nextNode();)bt("uponSanitizeShadowNode",r,null),vt(r)||(r.content instanceof o&&e(r.content),kt(r));bt("afterSanitizeShadowDOM",t,null)};return t.sanitize=function(n,h){var body=void 0,l=void 0,f=void 0,d=void 0,m=void 0;if((tt=!n)&&(n="\x3c!--\x3e"),"string"!=typeof n&&!yt(n)){if("function"!=typeof n.toString)throw E("toString is not a function");if("string"!=typeof(n=n.toString()))throw E("dirty is not a string, aborting")}if(!t.isSupported){if("object"===Y(e.toStaticHTML)||"function"==typeof e.toStaticHTML){if("string"==typeof n)return e.toStaticHTML(n);if(yt(n))return e.toStaticHTML(n.outerHTML)}return n}if(Me||st(h),t.removed=[],"string"==typeof n&&(qe=!1),qe);else if(n instanceof c)1===(l=(body=pt("\x3c!----\x3e")).ownerDocument.importNode(n,!0)).nodeType&&"BODY"===l.nodeName||"HTML"===l.nodeName?body=l:body.appendChild(l);else{if(!De&&!Be&&!Pe&&-1===n.indexOf("<"))return he&&ze?he.createHTML(n):n;if(!(body=pt(n)))return De?null:le}body&&Ne&&ct(body.firstChild);for(var y=gt(qe?n:body);f=y.nextNode();)3===f.nodeType&&f===d||vt(f)||(f.content instanceof o&&Ot(f.content),kt(f),d=f);if(d=null,qe)return n;if(De){if(Fe)for(m=pe.call(body.ownerDocument);body.firstChild;)m.appendChild(body.firstChild);else m=body;return Ie&&(m=ge.call(r,m,!0)),m}var v=Pe?body.outerHTML:body.innerHTML;return Be&&(v=A(v,be," "),v=A(v,ve," ")),he&&ze?he.createHTML(v):v},t.setConfig=function(e){st(e),Me=!0},t.clearConfig=function(){nt=null,Me=!1},t.isValidAttribute=function(e,t,r){nt||st({});var n=O(e),o=O(t);return wt(n,o,r)},t.addHook=function(e,t){"function"==typeof t&&(ye[e]=ye[e]||[],k(ye[e],t))},t.removeHook=function(e){ye[e]&&w(ye[e])},t.removeHooks=function(e){ye[e]&&(ye[e]=[])},t.removeAllHooks=function(){ye={}},t}return ee()}()},156:function(e,t,r){"use strict";r.d(t,"a",(function(){return n}));const n="undefined"!=typeof self?self:"undefined"!=typeof window?window:Function("return this")()},184:function(e,t,r){"use strict";r.d(t,"e",(function(){return T})),r.d(t,"c",(function(){return d})),r.d(t,"d",(function(){return A})),r.d(t,"a",(function(){return O})),r.d(t,"b",(function(){return x}));const n=Object.create(null);n.open="0",n.close="1",n.ping="2",n.pong="3",n.message="4",n.upgrade="5",n.noop="6";const o=Object.create(null);Object.keys(n).forEach((e=>{o[n[e]]=e}));const h={type:"error",data:"parser error"},l="function"==typeof Blob||"undefined"!=typeof Blob&&"[object BlobConstructor]"===Object.prototype.toString.call(Blob),c="function"==typeof ArrayBuffer,f=(data,e)=>{const t=new FileReader;return t.onload=function(){const content=t.result.split(",")[1];e("b"+content)},t.readAsDataURL(data)};var d=({type:e,data:data},t,r)=>{return l&&data instanceof Blob?t?r(data):f(data,r):c&&(data instanceof ArrayBuffer||(o=data,"function"==typeof ArrayBuffer.isView?ArrayBuffer.isView(o):o&&o.buffer instanceof ArrayBuffer))?t?r(data):f(new Blob([data]),r):r(n[e]+(data||""));var o};const m="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",y="undefined"==typeof Uint8Array?[]:new Uint8Array(256);for(let i=0;i<m.length;i++)y[m.charCodeAt(i)]=i;const v="function"==typeof ArrayBuffer,w=(data,e)=>{if(v){const t=(e=>{let i,t,r,n,o,h=.75*e.length,l=e.length,p=0;"="===e[e.length-1]&&(h--,"="===e[e.length-2]&&h--);const c=new ArrayBuffer(h),f=new Uint8Array(c);for(i=0;i<l;i+=4)t=y[e.charCodeAt(i)],r=y[e.charCodeAt(i+1)],n=y[e.charCodeAt(i+2)],o=y[e.charCodeAt(i+3)],f[p++]=t<<2|r>>4,f[p++]=(15&r)<<4|n>>2,f[p++]=(3&n)<<6|63&o;return c})(data);return k(t,e)}return{base64:!0,data:data}},k=(data,e)=>{switch(e){case"blob":return data instanceof ArrayBuffer?new Blob([data]):data;case"arraybuffer":default:return data}};var O=(e,t)=>{if("string"!=typeof e)return{type:"message",data:k(e,t)};const r=e.charAt(0);if("b"===r)return{type:"message",data:w(e.substring(1),t)};return o[r]?e.length>1?{type:o[r],data:e.substring(1)}:{type:o[r]}:h};const S=String.fromCharCode(30),A=(e,t)=>{const r=e.length,n=new Array(r);let o=0;e.forEach(((e,i)=>{d(e,!1,(e=>{n[i]=e,++o===r&&t(n.join(S))}))}))},x=(e,t)=>{const r=e.split(S),n=[];for(let i=0;i<r.length;i++){const e=O(r[i],t);if(n.push(e),"error"===e.type)break}return n},T=4},189:function(e,t,r){"use strict";r.d(t,"c",(function(){return o})),r.d(t,"a",(function(){return h})),r.d(t,"d",(function(){return l})),r.d(t,"b",(function(){return c}));var n=r(156);const o="function"==typeof Promise&&"function"==typeof Promise.resolve?e=>Promise.resolve().then(e):(e,t)=>t(e,0),h=n.a.WebSocket||n.a.MozWebSocket,l=!0,c="arraybuffer"},1944:function(e,t,r){"use strict";r.r(t);var n="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ_$",o=/[<>\b\f\n\r\t\0\u2028\u2029]/g,h=/^(?:do|if|in|for|int|let|new|try|var|byte|case|char|else|enum|goto|long|this|void|with|await|break|catch|class|const|final|float|short|super|throw|while|yield|delete|double|export|import|native|return|switch|throws|typeof|boolean|default|extends|finally|package|private|abstract|continue|debugger|function|volatile|interface|protected|transient|implements|instanceof|synchronized)$/,l={"<":"\\u003C",">":"\\u003E","/":"\\u002F","\\":"\\\\","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","\t":"\\t","\0":"\\0","\u2028":"\\u2028","\u2029":"\\u2029"},c=Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function f(e){return Object(e)!==e}function d(e){if("string"==typeof e)return w(e);if(void 0===e)return"void 0";if(0===e&&1/e<0)return"-0";var t=String(e);return"number"==typeof e?t.replace(/^(-)?0\./,"$1."):t}function m(e){return Object.prototype.toString.call(e).slice(8,-1)}function y(e){return l[e]||e}function v(e){return e.replace(o,y)}function w(e){for(var t='"',i=0;i<e.length;i+=1){var r=e.charAt(i),code=r.charCodeAt(0);if('"'===r)t+='\\"';else if(r in l)t+=l[r];else if(code>=55296&&code<=57343){var n=e.charCodeAt(i+1);t+=code<=56319&&n>=56320&&n<=57343?r+e[++i]:"\\u"+code.toString(16).toUpperCase()}else t+=r}return t+='"'}t.default=function(e){var t=new Map;!function e(r){if("function"==typeof r)throw new Error("Cannot stringify a function");if(t.has(r))t.set(r,t.get(r)+1);else if(t.set(r,1),!f(r))switch(m(r)){case"Number":case"String":case"Boolean":case"Date":case"RegExp":return;case"Array":r.forEach(e);break;case"Set":case"Map":Array.from(r).forEach(e);break;default:var n=Object.getPrototypeOf(r);if(n!==Object.prototype&&null!==n&&Object.getOwnPropertyNames(n).sort().join("\0")!==c)throw new Error("Cannot stringify arbitrary non-POJOs");if(Object.getOwnPropertySymbols(r).length>0)throw new Error("Cannot stringify POJOs with symbolic keys");Object.keys(r).forEach((function(t){return e(r[t])}))}}(e);var r=new Map;function o(e){if(r.has(e))return r.get(e);if(f(e))return d(e);var t=m(e);switch(t){case"Number":case"String":case"Boolean":return"Object("+o(e.valueOf())+")";case"RegExp":return"new RegExp("+w(e.source)+', "'+e.flags+'")';case"Date":return"new Date("+e.getTime()+")";case"Array":var n=e.map((function(t,i){return i in e?o(t):""})),h=0===e.length||e.length-1 in e?"":",";return"["+n.join(",")+h+"]";case"Set":case"Map":return"new "+t+"(["+Array.from(e).map(o).join(",")+"])";default:var l="{"+Object.keys(e).map((function(t){return function(e){return/^[_$a-zA-Z][_$a-zA-Z0-9]*$/.test(e)?e:v(JSON.stringify(e))}(t)+":"+o(e[t])})).join(",")+"}";return null===Object.getPrototypeOf(e)?Object.keys(e).length>0?"Object.assign(Object.create(null),"+l+")":"Object.create(null)":l}}Array.from(t).filter((function(e){return e[1]>1})).sort((function(a,b){return b[1]-a[1]})).forEach((function(e,i){r.set(e[0],function(e){var t="";do{t=n[e%n.length]+t,e=~~(e/n.length)-1}while(e>=0);return h.test(t)?t+"_":t}(i))}));var l=o(e);if(r.size){var y=[],k=[],O=[];return r.forEach((function(e,t){if(y.push(e),f(t))O.push(d(t));else switch(m(t)){case"Number":case"String":case"Boolean":O.push("Object("+o(t.valueOf())+")");break;case"RegExp":O.push(t.toString());break;case"Date":O.push("new Date("+t.getTime()+")");break;case"Array":O.push("Array("+t.length+")"),t.forEach((function(t,i){k.push(e+"["+i+"]="+o(t))}));break;case"Set":O.push("new Set"),k.push(e+"."+Array.from(t).map((function(e){return"add("+o(e)+")"})).join("."));break;case"Map":O.push("new Map"),k.push(e+"."+Array.from(t).map((function(e){var t=e[0],r=e[1];return"set("+o(t)+", "+o(r)+")"})).join("."));break;default:O.push(null===Object.getPrototypeOf(t)?"Object.create(null)":"{}"),Object.keys(t).forEach((function(r){k.push(""+e+function(e){return/^[_$a-zA-Z][_$a-zA-Z0-9]*$/.test(e)?"."+e:"["+v(JSON.stringify(e))+"]"}(r)+"="+o(t[r]))}))}})),k.push("return "+l),"(function("+y.join(",")+"){"+k.join(";")+"}("+O.join(",")+"))"}return l}},276:function(e,t,r){"use strict";r.d(t,"a",(function(){return c}));var n=r(184),o=r(153),h=r(154);class l extends Error{constructor(e,t,r){super(e),this.description=t,this.context=r,this.type="TransportError"}}class c extends o.a{constructor(e){super(),this.writable=!1,Object(h.b)(this,e),this.opts=e,this.query=e.query,this.readyState="",this.socket=e.socket}onError(e,t,r){return super.emitReserved("error",new l(e,t,r)),this}open(){return"closed"!==this.readyState&&""!==this.readyState||(this.readyState="opening",this.doOpen()),this}close(){return"opening"!==this.readyState&&"open"!==this.readyState||(this.doClose(),this.onClose()),this}send(e){"open"===this.readyState&&this.write(e)}onOpen(){this.readyState="open",this.writable=!0,super.emitReserved("open")}onData(data){const e=Object(n.a)(data,this.socket.binaryType);this.onPacket(e)}onPacket(e){super.emitReserved("packet",e)}onClose(details){this.readyState="closed",super.emitReserved("close",details)}}},282:function(e,t,r){"use strict";function n(e){let t="";for(let i in e)e.hasOwnProperty(i)&&(t.length&&(t+="&"),t+=encodeURIComponent(i)+"="+encodeURIComponent(e[i]));return t}function o(e){let t={},r=e.split("&");for(let i=0,e=r.length;i<e;i++){let e=r[i].split("=");t[decodeURIComponent(e[0])]=decodeURIComponent(e[1])}return t}r.d(t,"b",(function(){return n})),r.d(t,"a",(function(){return o}))},336:function(e,t,r){"use strict";r.d(t,"a",(function(){return C})),r.d(t,"b",(function(){return v.b})),r.d(t,"c",(function(){return E}));var n=r(276),o=r(401),h=r(282),l=r(184);let c=!1;try{c="undefined"!=typeof XMLHttpRequest&&"withCredentials"in new XMLHttpRequest}catch(e){}const f=c;var d=r(156);function m(e){const t=e.xdomain;try{if("undefined"!=typeof XMLHttpRequest&&(!t||f))return new XMLHttpRequest}catch(e){}if(!t)try{return new(d.a[["Active"].concat("Object").join("X")])("Microsoft.XMLHTTP")}catch(e){}}var y=r(153),v=r(154);function w(){}const k=null!=new m({xdomain:!1}).responseType;class O extends n.a{constructor(e){if(super(e),this.polling=!1,"undefined"!=typeof location){const t="https:"===location.protocol;let r=location.port;r||(r=t?"443":"80"),this.xd="undefined"!=typeof location&&e.hostname!==location.hostname||r!==e.port,this.xs=e.secure!==t}const t=e&&e.forceBase64;this.supportsBinary=k&&!t}get name(){return"polling"}doOpen(){this.poll()}pause(e){this.readyState="pausing";const t=()=>{this.readyState="paused",e()};if(this.polling||!this.writable){let e=0;this.polling&&(e++,this.once("pollComplete",(function(){--e||t()}))),this.writable||(e++,this.once("drain",(function(){--e||t()})))}else t()}poll(){this.polling=!0,this.doPoll(),this.emitReserved("poll")}onData(data){Object(l.b)(data,this.socket.binaryType).forEach((e=>{if("opening"===this.readyState&&"open"===e.type&&this.onOpen(),"close"===e.type)return this.onClose({description:"transport closed by the server"}),!1;this.onPacket(e)})),"closed"!==this.readyState&&(this.polling=!1,this.emitReserved("pollComplete"),"open"===this.readyState&&this.poll())}doClose(){const e=()=>{this.write([{type:"close"}])};"open"===this.readyState?e():this.once("open",e)}write(e){this.writable=!1,Object(l.d)(e,(data=>{this.doWrite(data,(()=>{this.writable=!0,this.emitReserved("drain")}))}))}uri(){let e=this.query||{};const t=this.opts.secure?"https":"http";let r="";!1!==this.opts.timestampRequests&&(e[this.opts.timestampParam]=Object(o.a)()),this.supportsBinary||e.sid||(e.b64=1),this.opts.port&&("https"===t&&443!==Number(this.opts.port)||"http"===t&&80!==Number(this.opts.port))&&(r=":"+this.opts.port);const n=Object(h.b)(e);return t+"://"+(-1!==this.opts.hostname.indexOf(":")?"["+this.opts.hostname+"]":this.opts.hostname)+r+this.opts.path+(n.length?"?"+n:"")}request(e={}){return Object.assign(e,{xd:this.xd,xs:this.xs},this.opts),new S(this.uri(),e)}doWrite(data,e){const t=this.request({method:"POST",data:data});t.on("success",e),t.on("error",((e,t)=>{this.onError("xhr post error",e,t)}))}doPoll(){const e=this.request();e.on("data",this.onData.bind(this)),e.on("error",((e,t)=>{this.onError("xhr poll error",e,t)})),this.pollXhr=e}}class S extends y.a{constructor(e,t){super(),Object(v.b)(this,t),this.opts=t,this.method=t.method||"GET",this.uri=e,this.async=!1!==t.async,this.data=void 0!==t.data?t.data:null,this.create()}create(){const e=Object(v.c)(this.opts,"agent","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","autoUnref");e.xdomain=!!this.opts.xd,e.xscheme=!!this.opts.xs;const t=this.xhr=new m(e);try{t.open(this.method,this.uri,this.async);try{if(this.opts.extraHeaders){t.setDisableHeaderCheck&&t.setDisableHeaderCheck(!0);for(let i in this.opts.extraHeaders)this.opts.extraHeaders.hasOwnProperty(i)&&t.setRequestHeader(i,this.opts.extraHeaders[i])}}catch(e){}if("POST"===this.method)try{t.setRequestHeader("Content-type","text/plain;charset=UTF-8")}catch(e){}try{t.setRequestHeader("Accept","*/*")}catch(e){}"withCredentials"in t&&(t.withCredentials=this.opts.withCredentials),this.opts.requestTimeout&&(t.timeout=this.opts.requestTimeout),t.onreadystatechange=()=>{4===t.readyState&&(200===t.status||1223===t.status?this.onLoad():this.setTimeoutFn((()=>{this.onError("number"==typeof t.status?t.status:0)}),0))},t.send(this.data)}catch(e){return void this.setTimeoutFn((()=>{this.onError(e)}),0)}"undefined"!=typeof document&&(this.index=S.requestsCount++,S.requests[this.index]=this)}onError(e){this.emitReserved("error",e,this.xhr),this.cleanup(!0)}cleanup(e){if(void 0!==this.xhr&&null!==this.xhr){if(this.xhr.onreadystatechange=w,e)try{this.xhr.abort()}catch(e){}"undefined"!=typeof document&&delete S.requests[this.index],this.xhr=null}}onLoad(){const data=this.xhr.responseText;null!==data&&(this.emitReserved("data",data),this.emitReserved("success"),this.cleanup())}abort(){this.cleanup()}}if(S.requestsCount=0,S.requests={},"undefined"!=typeof document)if("function"==typeof attachEvent)attachEvent("onunload",A);else if("function"==typeof addEventListener){const e="onpagehide"in d.a?"pagehide":"unload";addEventListener(e,A,!1)}function A(){for(let i in S.requests)S.requests.hasOwnProperty(i)&&S.requests[i].abort()}const x={websocket:r(821).a,polling:O},T=/^(?:(?![^:@]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,L=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"];function E(e){const t=e,b=e.indexOf("["),r=e.indexOf("]");-1!=b&&-1!=r&&(e=e.substring(0,b)+e.substring(b,r).replace(/:/g,";")+e.substring(r,e.length));let n=T.exec(e||""),o={},i=14;for(;i--;)o[L[i]]=n[i]||"";return-1!=b&&-1!=r&&(o.source=t,o.host=o.host.substring(1,o.host.length-1).replace(/;/g,":"),o.authority=o.authority.replace("[","").replace("]","").replace(/;/g,":"),o.ipv6uri=!0),o.pathNames=function(e,path){const t=/\/{2,9}/g,r=path.replace(t,"/").split("/");"/"!=path.substr(0,1)&&0!==path.length||r.splice(0,1);"/"==path.substr(path.length-1,1)&&r.splice(r.length-1,1);return r}(0,o.path),o.queryKey=function(e,t){const data={};return t.replace(/(?:^|&)([^&=]*)=?([^&]*)/g,(function(e,t,r){t&&(data[t]=r)})),data}(0,o.query),o}class C extends y.a{constructor(e,t={}){super(),e&&"object"==typeof e&&(t=e,e=null),e?(e=E(e),t.hostname=e.host,t.secure="https"===e.protocol||"wss"===e.protocol,t.port=e.port,e.query&&(t.query=e.query)):t.host&&(t.hostname=E(t.host).host),Object(v.b)(this,t),this.secure=null!=t.secure?t.secure:"undefined"!=typeof location&&"https:"===location.protocol,t.hostname&&!t.port&&(t.port=this.secure?"443":"80"),this.hostname=t.hostname||("undefined"!=typeof location?location.hostname:"localhost"),this.port=t.port||("undefined"!=typeof location&&location.port?location.port:this.secure?"443":"80"),this.transports=t.transports||["polling","websocket"],this.readyState="",this.writeBuffer=[],this.prevBufferLen=0,this.opts=Object.assign({path:"/engine.io",agent:!1,withCredentials:!1,upgrade:!0,timestampParam:"t",rememberUpgrade:!1,rejectUnauthorized:!0,perMessageDeflate:{threshold:1024},transportOptions:{},closeOnBeforeunload:!0},t),this.opts.path=this.opts.path.replace(/\/$/,"")+"/","string"==typeof this.opts.query&&(this.opts.query=Object(h.a)(this.opts.query)),this.id=null,this.upgrades=null,this.pingInterval=null,this.pingTimeout=null,this.pingTimeoutTimer=null,"function"==typeof addEventListener&&(this.opts.closeOnBeforeunload&&addEventListener("beforeunload",(()=>{this.transport&&(this.transport.removeAllListeners(),this.transport.close())}),!1),"localhost"!==this.hostname&&(this.offlineEventListener=()=>{this.onClose("transport close",{description:"network connection lost"})},addEventListener("offline",this.offlineEventListener,!1))),this.open()}createTransport(e){const t=Object.assign({},this.opts.query);t.EIO=l.e,t.transport=e,this.id&&(t.sid=this.id);const r=Object.assign({},this.opts.transportOptions[e],this.opts,{query:t,socket:this,hostname:this.hostname,secure:this.secure,port:this.port});return new x[e](r)}open(){let e;if(this.opts.rememberUpgrade&&C.priorWebsocketSuccess&&-1!==this.transports.indexOf("websocket"))e="websocket";else{if(0===this.transports.length)return void this.setTimeoutFn((()=>{this.emitReserved("error","No transports available")}),0);e=this.transports[0]}this.readyState="opening";try{e=this.createTransport(e)}catch(e){return this.transports.shift(),void this.open()}e.open(),this.setTransport(e)}setTransport(e){this.transport&&this.transport.removeAllListeners(),this.transport=e,e.on("drain",this.onDrain.bind(this)).on("packet",this.onPacket.bind(this)).on("error",this.onError.bind(this)).on("close",(e=>this.onClose("transport close",e)))}probe(e){let t=this.createTransport(e),r=!1;C.priorWebsocketSuccess=!1;const n=()=>{r||(t.send([{type:"ping",data:"probe"}]),t.once("packet",(e=>{if(!r)if("pong"===e.type&&"probe"===e.data){if(this.upgrading=!0,this.emitReserved("upgrading",t),!t)return;C.priorWebsocketSuccess="websocket"===t.name,this.transport.pause((()=>{r||"closed"!==this.readyState&&(d(),this.setTransport(t),t.send([{type:"upgrade"}]),this.emitReserved("upgrade",t),t=null,this.upgrading=!1,this.flush())}))}else{const e=new Error("probe error");e.transport=t.name,this.emitReserved("upgradeError",e)}})))};function o(){r||(r=!0,d(),t.close(),t=null)}const h=e=>{const r=new Error("probe error: "+e);r.transport=t.name,o(),this.emitReserved("upgradeError",r)};function l(){h("transport closed")}function c(){h("socket closed")}function f(e){t&&e.name!==t.name&&o()}const d=()=>{t.removeListener("open",n),t.removeListener("error",h),t.removeListener("close",l),this.off("close",c),this.off("upgrading",f)};t.once("open",n),t.once("error",h),t.once("close",l),this.once("close",c),this.once("upgrading",f),t.open()}onOpen(){if(this.readyState="open",C.priorWebsocketSuccess="websocket"===this.transport.name,this.emitReserved("open"),this.flush(),"open"===this.readyState&&this.opts.upgrade&&this.transport.pause){let i=0;const e=this.upgrades.length;for(;i<e;i++)this.probe(this.upgrades[i])}}onPacket(e){if("opening"===this.readyState||"open"===this.readyState||"closing"===this.readyState)switch(this.emitReserved("packet",e),this.emitReserved("heartbeat"),e.type){case"open":this.onHandshake(JSON.parse(e.data));break;case"ping":this.resetPingTimeout(),this.sendPacket("pong"),this.emitReserved("ping"),this.emitReserved("pong");break;case"error":const t=new Error("server error");t.code=e.data,this.onError(t);break;case"message":this.emitReserved("data",e.data),this.emitReserved("message",e.data)}}onHandshake(data){this.emitReserved("handshake",data),this.id=data.sid,this.transport.query.sid=data.sid,this.upgrades=this.filterUpgrades(data.upgrades),this.pingInterval=data.pingInterval,this.pingTimeout=data.pingTimeout,this.maxPayload=data.maxPayload,this.onOpen(),"closed"!==this.readyState&&this.resetPingTimeout()}resetPingTimeout(){this.clearTimeoutFn(this.pingTimeoutTimer),this.pingTimeoutTimer=this.setTimeoutFn((()=>{this.onClose("ping timeout")}),this.pingInterval+this.pingTimeout),this.opts.autoUnref&&this.pingTimeoutTimer.unref()}onDrain(){this.writeBuffer.splice(0,this.prevBufferLen),this.prevBufferLen=0,0===this.writeBuffer.length?this.emitReserved("drain"):this.flush()}flush(){if("closed"!==this.readyState&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length){const e=this.getWritablePackets();this.transport.send(e),this.prevBufferLen=e.length,this.emitReserved("flush")}}getWritablePackets(){if(!(this.maxPayload&&"polling"===this.transport.name&&this.writeBuffer.length>1))return this.writeBuffer;let e=1;for(let i=0;i<this.writeBuffer.length;i++){const data=this.writeBuffer[i].data;if(data&&(e+=Object(v.a)(data)),i>0&&e>this.maxPayload)return this.writeBuffer.slice(0,i);e+=2}return this.writeBuffer}write(e,t,r){return this.sendPacket("message",e,t,r),this}send(e,t,r){return this.sendPacket("message",e,t,r),this}sendPacket(e,data,t,r){if("function"==typeof data&&(r=data,data=void 0),"function"==typeof t&&(r=t,t=null),"closing"===this.readyState||"closed"===this.readyState)return;(t=t||{}).compress=!1!==t.compress;const n={type:e,data:data,options:t};this.emitReserved("packetCreate",n),this.writeBuffer.push(n),r&&this.once("flush",r),this.flush()}close(){const e=()=>{this.onClose("forced close"),this.transport.close()},t=()=>{this.off("upgrade",t),this.off("upgradeError",t),e()},r=()=>{this.once("upgrade",t),this.once("upgradeError",t)};return"opening"!==this.readyState&&"open"!==this.readyState||(this.readyState="closing",this.writeBuffer.length?this.once("drain",(()=>{this.upgrading?r():e()})):this.upgrading?r():e()),this}onError(e){C.priorWebsocketSuccess=!1,this.emitReserved("error",e),this.onClose("transport error",e)}onClose(e,t){"opening"!==this.readyState&&"open"!==this.readyState&&"closing"!==this.readyState||(this.clearTimeoutFn(this.pingTimeoutTimer),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),"function"==typeof removeEventListener&&removeEventListener("offline",this.offlineEventListener,!1),this.readyState="closed",this.id=null,this.emitReserved("close",e,t),this.writeBuffer=[],this.prevBufferLen=0)}filterUpgrades(e){const t=[];let i=0;const r=e.length;for(;i<r;i++)~this.transports.indexOf(e[i])&&t.push(e[i]);return t}}C.protocol=l.e;C.protocol},401:function(e,t,r){"use strict";r.d(t,"a",(function(){return c}));const n="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz-_".split(""),map={};let o,h=0,i=0;function l(e){let t="";do{t=n[e%64]+t,e=Math.floor(e/64)}while(e>0);return t}function c(){const e=l(+new Date);return e!==o?(h=0,o=e):e+"."+l(h++)}for(;i<64;i++)map[n[i]]=i},821:function(e,t,r){"use strict";(function(e){r.d(t,"a",(function(){return m}));var n=r(276),o=r(282),h=r(401),l=r(154),c=r(189),f=r(184);const d="undefined"!=typeof navigator&&"string"==typeof navigator.product&&"reactnative"===navigator.product.toLowerCase();class m extends n.a{constructor(e){super(e),this.supportsBinary=!e.forceBase64}get name(){return"websocket"}doOpen(){if(!this.check())return;const e=this.uri(),t=this.opts.protocols,r=d?{}:Object(l.c)(this.opts,"agent","perMessageDeflate","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","localAddress","protocolVersion","origin","maxPayload","family","checkServerIdentity");this.opts.extraHeaders&&(r.headers=this.opts.extraHeaders);try{this.ws=c.d&&!d?t?new c.a(e,t):new c.a(e):new c.a(e,t,r)}catch(e){return this.emitReserved("error",e)}this.ws.binaryType=this.socket.binaryType||c.b,this.addEventListeners()}addEventListeners(){this.ws.onopen=()=>{this.opts.autoUnref&&this.ws._socket.unref(),this.onOpen()},this.ws.onclose=e=>this.onClose({description:"websocket connection closed",context:e}),this.ws.onmessage=e=>this.onData(e.data),this.ws.onerror=e=>this.onError("websocket error",e)}write(t){this.writable=!1;for(let i=0;i<t.length;i++){const r=t[i],n=i===t.length-1;Object(f.c)(r,this.supportsBinary,(data=>{const t={};if(!c.d&&(r.options&&(t.compress=r.options.compress),this.opts.perMessageDeflate)){("string"==typeof data?e.byteLength(data):data.length)<this.opts.perMessageDeflate.threshold&&(t.compress=!1)}try{c.d?this.ws.send(data):this.ws.send(data,t)}catch(e){}n&&Object(c.c)((()=>{this.writable=!0,this.emitReserved("drain")}),this.setTimeoutFn)}))}}doClose(){void 0!==this.ws&&(this.ws.close(),this.ws=null)}uri(){let e=this.query||{};const t=this.opts.secure?"wss":"ws";let r="";this.opts.port&&("wss"===t&&443!==Number(this.opts.port)||"ws"===t&&80!==Number(this.opts.port))&&(r=":"+this.opts.port),this.opts.timestampRequests&&(e[this.opts.timestampParam]=Object(h.a)()),this.supportsBinary||(e.b64=1);const n=Object(o.b)(e);return t+"://"+(-1!==this.opts.hostname.indexOf(":")?"["+this.opts.hostname+"]":this.opts.hostname)+r+this.opts.path+(n.length?"?"+n:"")}check(){return!!c.a}}}).call(this,r(264).Buffer)},827:function(e,t,r){"use strict";function n(e,t,s){return t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}r.d(t,"a",(function(){return pe}));var o="undefined"!=typeof self?self:global;const s="undefined"!=typeof navigator,i=s&&"undefined"==typeof HTMLImageElement,h=!("undefined"==typeof global||"undefined"==typeof process||!process.versions||!process.versions.node),l=o.Buffer,a=!!l,c=e=>void 0!==e;function f(e){return void 0===e||(e instanceof Map?0===e.size:0===Object.values(e).filter(c).length)}function d(e){let t=new Error(e);throw delete t.stack,t}function m(e){let t=function(e){let t=0;return e.ifd0.enabled&&(t+=1024),e.exif.enabled&&(t+=2048),e.makerNote&&(t+=2048),e.userComment&&(t+=1024),e.gps.enabled&&(t+=512),e.interop.enabled&&(t+=100),e.ifd1.enabled&&(t+=1024),t+2048}(e);return e.jfif.enabled&&(t+=50),e.xmp.enabled&&(t+=2e4),e.iptc.enabled&&(t+=14e3),e.icc.enabled&&(t+=6e3),t}const u=e=>String.fromCharCode.apply(null,e),y="undefined"!=typeof TextDecoder?new TextDecoder("utf-8"):void 0;class v{static from(e,t){return e instanceof this&&e.le===t?e:new v(e,void 0,void 0,t)}constructor(e,t=0,s,i){if("boolean"==typeof i&&(this.le=i),Array.isArray(e)&&(e=new Uint8Array(e)),0===e)this.byteOffset=0,this.byteLength=0;else if(e instanceof ArrayBuffer){void 0===s&&(s=e.byteLength-t);let i=new DataView(e,t,s);this._swapDataView(i)}else if(e instanceof Uint8Array||e instanceof DataView||e instanceof v){void 0===s&&(s=e.byteLength-t),(t+=e.byteOffset)+s>e.byteOffset+e.byteLength&&d("Creating view outside of available memory in ArrayBuffer");let i=new DataView(e.buffer,t,s);this._swapDataView(i)}else if("number"==typeof e){let t=new DataView(new ArrayBuffer(e));this._swapDataView(t)}else d("Invalid input argument for BufferView: "+e)}_swapArrayBuffer(e){this._swapDataView(new DataView(e))}_swapBuffer(e){this._swapDataView(new DataView(e.buffer,e.byteOffset,e.byteLength))}_swapDataView(e){this.dataView=e,this.buffer=e.buffer,this.byteOffset=e.byteOffset,this.byteLength=e.byteLength}_lengthToEnd(e){return this.byteLength-e}set(e,t,s=v){return e instanceof DataView||e instanceof v?e=new Uint8Array(e.buffer,e.byteOffset,e.byteLength):e instanceof ArrayBuffer&&(e=new Uint8Array(e)),e instanceof Uint8Array||d("BufferView.set(): Invalid data argument."),this.toUint8().set(e,t),new s(this,t,e.byteLength)}subarray(e,t){return t=t||this._lengthToEnd(e),new v(this,e,t)}toUint8(){return new Uint8Array(this.buffer,this.byteOffset,this.byteLength)}getUint8Array(e,t){return new Uint8Array(this.buffer,this.byteOffset+e,t)}getString(e=0,t=this.byteLength){return i=this.getUint8Array(e,t),y?y.decode(i):a?Buffer.from(i).toString("utf8"):decodeURIComponent(escape(u(i)));var i}getLatin1String(e=0,t=this.byteLength){let s=this.getUint8Array(e,t);return u(s)}getUnicodeString(e=0,t=this.byteLength){const s=[];for(let i=0;i<t&&e+i<this.byteLength;i+=2)s.push(this.getUint16(e+i));return u(s)}getInt8(e){return this.dataView.getInt8(e)}getUint8(e){return this.dataView.getUint8(e)}getInt16(e,t=this.le){return this.dataView.getInt16(e,t)}getInt32(e,t=this.le){return this.dataView.getInt32(e,t)}getUint16(e,t=this.le){return this.dataView.getUint16(e,t)}getUint32(e,t=this.le){return this.dataView.getUint32(e,t)}getFloat32(e,t=this.le){return this.dataView.getFloat32(e,t)}getFloat64(e,t=this.le){return this.dataView.getFloat64(e,t)}getFloat(e,t=this.le){return this.dataView.getFloat32(e,t)}getDouble(e,t=this.le){return this.dataView.getFloat64(e,t)}getUintBytes(e,t,s){switch(t){case 1:return this.getUint8(e,s);case 2:return this.getUint16(e,s);case 4:return this.getUint32(e,s);case 8:return this.getUint64&&this.getUint64(e,s)}}getUint(e,t,s){switch(t){case 8:return this.getUint8(e,s);case 16:return this.getUint16(e,s);case 32:return this.getUint32(e,s);case 64:return this.getUint64&&this.getUint64(e,s)}}toString(e){return this.dataView.toString(e,this.constructor.name)}ensureChunk(){}}function p(e,t){d(`${e} '${t}' was not loaded, try using full build of exifr.`)}class g extends Map{constructor(e){super(),this.kind=e}get(e,t){return this.has(e)||p(this.kind,e),t&&(e in t||function(e,t){d(`Unknown ${e} '${t}'.`)}(this.kind,e),t[e].enabled||p(this.kind,e)),super.get(e)}keyList(){return Array.from(this.keys())}}var w=new g("file parser"),k=new g("segment parser"),b=new g("file reader");let O=o.fetch;function S(e,t){return(i=e).startsWith("data:")||i.length>1e4?x(e,t,"base64"):h&&e.includes("://")?A(e,t,"url",T):h?x(e,t,"fs"):s?A(e,t,"url",T):void d("Invalid input argument");var i}async function A(e,t,s,i){return b.has(s)?x(e,t,s):i?async function(e,t){let s=await t(e);return new v(s)}(e,i):void d(`Parser ${s} is not loaded`)}async function x(e,t,s){let i=new(b.get(s))(e,t);return await i.read(),i}const T=e=>O(e).then((e=>e.arrayBuffer())),L=e=>new Promise(((t,s)=>{let i=new FileReader;i.onloadend=()=>t(i.result||new ArrayBuffer),i.onerror=s,i.readAsArrayBuffer(e)}));class E extends Map{get tagKeys(){return this.allKeys||(this.allKeys=Array.from(this.keys())),this.allKeys}get tagValues(){return this.allValues||(this.allValues=Array.from(this.values())),this.allValues}}function C(e,t,s){let i=new E;for(let[e,t]of s)i.set(e,t);if(Array.isArray(t))for(let s of t)e.set(s,i);else e.set(t,i);return i}function j(e,t,s){let i,r=e.get(t);for(i of s)r.set(i[0],i[1])}const R=new Map,U=new Map,_=new Map,B=["chunked","firstChunkSize","firstChunkSizeNode","firstChunkSizeBrowser","chunkSize","chunkLimit"],P=["jfif","xmp","icc","iptc","ihdr"],M=["tiff",...P],N=["ifd0","ifd1","exif","gps","interop"],D=[...M,...N],F=["makerNote","userComment"],I=["translateKeys","translateValues","reviveValues","multiSegment"],z=[...I,"sanitize","mergeOutput","silentErrors"];class V{get translate(){return this.translateKeys||this.translateValues||this.reviveValues}}class H extends V{get needed(){return this.enabled||this.deps.size>0}constructor(e,s,i,t){if(super(),n(this,"enabled",!1),n(this,"skip",new Set),n(this,"pick",new Set),n(this,"deps",new Set),n(this,"translateKeys",!1),n(this,"translateValues",!1),n(this,"reviveValues",!1),this.key=e,this.enabled=s,this.parse=this.enabled,this.applyInheritables(t),this.canBeFiltered=N.includes(e),this.canBeFiltered&&(this.dict=R.get(e)),void 0!==i)if(Array.isArray(i))this.parse=this.enabled=!0,this.canBeFiltered&&i.length>0&&this.translateTagSet(i,this.pick);else if("object"==typeof i){if(this.enabled=!0,this.parse=!1!==i.parse,this.canBeFiltered){let{pick:e,skip:t}=i;e&&e.length>0&&this.translateTagSet(e,this.pick),t&&t.length>0&&this.translateTagSet(t,this.skip)}this.applyInheritables(i)}else!0===i||!1===i?this.parse=this.enabled=i:d(`Invalid options argument: ${i}`)}applyInheritables(e){let t,s;for(t of I)s=e[t],void 0!==s&&(this[t]=s)}translateTagSet(e,t){if(this.dict){let s,i,{tagKeys:r,tagValues:n}=this.dict;for(s of e)"string"==typeof s?(i=n.indexOf(s),-1===i&&(i=r.indexOf(Number(s))),-1!==i&&t.add(Number(r[i]))):t.add(s)}else for(let s of e)t.add(s)}finalizeFilters(){!this.enabled&&this.deps.size>0?(this.enabled=!0,Y(this.pick,this.deps)):this.enabled&&this.pick.size>0&&Y(this.pick,this.deps)}}var W={jfif:!1,tiff:!0,xmp:!1,icc:!1,iptc:!1,ifd0:!0,ifd1:!1,exif:!0,gps:!0,interop:!1,ihdr:void 0,makerNote:!1,userComment:!1,multiSegment:!1,skip:[],pick:[],translateKeys:!0,translateValues:!0,reviveValues:!0,sanitize:!0,mergeOutput:!0,silentErrors:!0,chunked:!0,firstChunkSize:void 0,firstChunkSizeNode:512,firstChunkSizeBrowser:65536,chunkSize:65536,chunkLimit:5},$=new Map;class G extends V{static useCached(e){let t=$.get(e);return void 0!==t||(t=new this(e),$.set(e,t)),t}constructor(e){super(),!0===e?this.setupFromTrue():void 0===e?this.setupFromUndefined():Array.isArray(e)?this.setupFromArray(e):"object"==typeof e?this.setupFromObject(e):d(`Invalid options argument ${e}`),void 0===this.firstChunkSize&&(this.firstChunkSize=s?this.firstChunkSizeBrowser:this.firstChunkSizeNode),this.mergeOutput&&(this.ifd1.enabled=!1),this.filterNestedSegmentTags(),this.traverseTiffDependencyTree(),this.checkLoadedPlugins()}setupFromUndefined(){let e;for(e of B)this[e]=W[e];for(e of z)this[e]=W[e];for(e of F)this[e]=W[e];for(e of D)this[e]=new H(e,W[e],void 0,this)}setupFromTrue(){let e;for(e of B)this[e]=W[e];for(e of z)this[e]=W[e];for(e of F)this[e]=!0;for(e of D)this[e]=new H(e,!0,void 0,this)}setupFromArray(e){let t;for(t of B)this[t]=W[t];for(t of z)this[t]=W[t];for(t of F)this[t]=W[t];for(t of D)this[t]=new H(t,!1,void 0,this);this.setupGlobalFilters(e,void 0,N)}setupFromObject(e){let t;for(t of(N.ifd0=N.ifd0||N.image,N.ifd1=N.ifd1||N.thumbnail,Object.assign(this,e),B))this[t]=X(e[t],W[t]);for(t of z)this[t]=X(e[t],W[t]);for(t of F)this[t]=X(e[t],W[t]);for(t of M)this[t]=new H(t,W[t],e[t],this);for(t of N)this[t]=new H(t,W[t],e[t],this.tiff);this.setupGlobalFilters(e.pick,e.skip,N,D),!0===e.tiff?this.batchEnableWithBool(N,!0):!1===e.tiff?this.batchEnableWithUserValue(N,e):Array.isArray(e.tiff)?this.setupGlobalFilters(e.tiff,void 0,N):"object"==typeof e.tiff&&this.setupGlobalFilters(e.tiff.pick,e.tiff.skip,N)}batchEnableWithBool(e,t){for(let s of e)this[s].enabled=t}batchEnableWithUserValue(e,t){for(let s of e){let e=t[s];this[s].enabled=!1!==e&&void 0!==e}}setupGlobalFilters(e,t,s,i=s){if(e&&e.length){for(let e of i)this[e].enabled=!1;let t=K(e,s);for(let[e,s]of t)Y(this[e].pick,s),this[e].enabled=!0}else if(t&&t.length){let e=K(t,s);for(let[t,s]of e)Y(this[t].skip,s)}}filterNestedSegmentTags(){let{ifd0:e,exif:t,xmp:s,iptc:i,icc:r}=this;this.makerNote?t.deps.add(37500):t.skip.add(37500),this.userComment?t.deps.add(37510):t.skip.add(37510),s.enabled||e.skip.add(700),i.enabled||e.skip.add(33723),r.enabled||e.skip.add(34675)}traverseTiffDependencyTree(){let{ifd0:e,exif:t,gps:s,interop:i}=this;i.needed&&(t.deps.add(40965),e.deps.add(40965)),t.needed&&e.deps.add(34665),s.needed&&e.deps.add(34853),this.tiff.enabled=N.some((e=>!0===this[e].enabled))||this.makerNote||this.userComment;for(let e of N)this[e].finalizeFilters()}get onlyTiff(){return!P.map((e=>this[e].enabled)).some((e=>!0===e))&&this.tiff.enabled}checkLoadedPlugins(){for(let e of M)this[e].enabled&&!k.has(e)&&p("segment parser",e)}}function K(e,t){let s,i,r,n,a=[];for(r of t){for(n of(s=R.get(r),i=[],s))(e.includes(n[0])||e.includes(n[1]))&&i.push(n[0]);i.length&&a.push([r,i])}return a}function X(e,t){return void 0!==e?e:void 0!==t?t:void 0}function Y(e,t){for(let s of t)e.add(s)}n(G,"default",W);class J{constructor(e){n(this,"parsers",{}),n(this,"output",{}),n(this,"errors",[]),n(this,"pushToErrors",(e=>this.errors.push(e))),this.options=G.useCached(e)}async read(e){this.file=await function(e,t){return"string"==typeof e?S(e,t):s&&!i&&e instanceof HTMLImageElement?S(e.src,t):e instanceof Uint8Array||e instanceof ArrayBuffer||e instanceof DataView?new v(e):s&&e instanceof Blob?A(e,t,"blob",L):void d("Invalid input argument")}(e,this.options)}setup(){if(this.fileParser)return;let{file:e}=this,t=e.getUint16(0);for(let[s,i]of w)if(i.canHandle(e,t))return this.fileParser=new i(this.options,this.file,this.parsers),e[s]=!0;this.file.close&&this.file.close(),d("Unknown file format")}async parse(){let{output:e,errors:t}=this;return this.setup(),this.options.silentErrors?(await this.executeParsers().catch(this.pushToErrors),t.push(...this.fileParser.errors)):await this.executeParsers(),this.file.close&&this.file.close(),this.options.silentErrors&&t.length>0&&(e.errors=t),f(s=e)?void 0:s;var s}async executeParsers(){let{output:e}=this;await this.fileParser.parse();let t=Object.values(this.parsers).map((async t=>{let s=await t.parse();t.assignToOutput(e,s)}));this.options.silentErrors&&(t=t.map((e=>e.catch(this.pushToErrors)))),await Promise.all(t)}async extractThumbnail(){this.setup();let{options:e,file:t}=this,s=k.get("tiff",e);var i;if(t.tiff?i={start:0,type:"tiff"}:t.jpeg&&(i=await this.fileParser.getOrFindSegment("tiff")),void 0===i)return;let r=await this.fileParser.ensureSegmentChunk(i),n=this.parsers.tiff=new s(r,e,t),a=await n.extractThumbnail();return t.close&&t.close(),a}}async function Z(e,t){let s=new J(t);return await s.read(e),s.parse()}var Q=Object.freeze({__proto__:null,parse:Z,Exifr:J,fileParsers:w,segmentParsers:k,fileReaders:b,tagKeys:R,tagValues:U,tagRevivers:_,createDictionary:C,extendDictionary:j,fetchUrlAsArrayBuffer:T,readBlobAsArrayBuffer:L,chunkedProps:B,otherSegments:P,segments:M,tiffBlocks:N,segmentsAndBlocks:D,tiffExtractables:F,inheritables:I,allFormatters:z,Options:G});class ee{static findPosition(e,t){let s=e.getUint16(t+2)+2,i="function"==typeof this.headerLength?this.headerLength(e,t,s):this.headerLength,r=t+i,n=s-i;return{offset:t,length:s,headerLength:i,start:r,size:n,end:r+n}}static parse(e,t={}){return new this(e,new G({[this.type]:t}),e).parse()}normalizeInput(e){return e instanceof v?e:new v(e)}constructor(e,s={},i){n(this,"errors",[]),n(this,"raw",new Map),n(this,"handleError",(e=>{if(!this.options.silentErrors)throw e;this.errors.push(e.message)})),this.chunk=this.normalizeInput(e),this.file=i,this.type=this.constructor.type,this.globalOptions=this.options=s,this.localOptions=s[this.type],this.canTranslate=this.localOptions&&this.localOptions.translate}translate(){this.canTranslate&&(this.translated=this.translateBlock(this.raw,this.type))}get output(){return this.translated?this.translated:this.raw?Object.fromEntries(this.raw):void 0}translateBlock(e,t){let s=_.get(t),i=U.get(t),r=R.get(t),n=this.options[t],a=n.reviveValues&&!!s,o=n.translateValues&&!!i,h=n.translateKeys&&!!r,l={};for(let[t,n]of e)a&&s.has(t)?n=s.get(t)(n):o&&i.has(t)&&(n=this.translateValue(n,i.get(t))),h&&r.has(t)&&(t=r.get(t)||t),l[t]=n;return l}translateValue(e,t){return t[e]||t.DEFAULT||e}assignToOutput(e,t){this.assignObjectToOutput(e,this.constructor.type,t)}assignObjectToOutput(e,t,s){if(this.globalOptions.mergeOutput)return Object.assign(e,s);e[t]?Object.assign(e[t],s):e[t]=s}}function q(e){return 192===e||194===e||196===e||219===e||221===e||218===e||254===e}function te(e){return e>=224&&e<=239}function re(e,t,s){for(let[i,r]of k)if(r.canHandle(e,t,s))return i}n(ee,"headerLength",4),n(ee,"type",void 0),n(ee,"multiSegment",!1),n(ee,"canHandle",(()=>!1));class ne extends class{constructor(e,s,i){n(this,"errors",[]),n(this,"ensureSegmentChunk",(async e=>{let t=e.start,s=e.size||65536;if(this.file.chunked)if(this.file.available(t,s))e.chunk=this.file.subarray(t,s);else try{e.chunk=await this.file.readChunk(t,s)}catch(t){d(`Couldn't read segment: ${JSON.stringify(e)}. ${t.message}`)}else this.file.byteLength>t+s?e.chunk=this.file.subarray(t,s):void 0===e.size?e.chunk=this.file.subarray(t):d("Segment unreachable: "+JSON.stringify(e));return e.chunk})),this.extendOptions&&this.extendOptions(e),this.options=e,this.file=s,this.parsers=i}injectSegment(e,t){this.options[e].enabled&&this.createParser(e,t)}createParser(e,t){let s=new(k.get(e))(t,this.options,this.file);return this.parsers[e]=s}createParsers(e){for(let t of e){let{type:e,chunk:s}=t,i=this.options[e];if(i&&i.enabled){let t=this.parsers[e];t&&t.append||t||this.createParser(e,s)}}}async readSegments(e){let t=e.map(this.ensureSegmentChunk);await Promise.all(t)}}{constructor(...e){super(...e),n(this,"appSegments",[]),n(this,"jpegSegments",[]),n(this,"unknownSegments",[])}static canHandle(e,t){return 65496===t}async parse(){await this.findAppSegments(),await this.readSegments(this.appSegments),this.mergeMultiSegments(),this.createParsers(this.mergedAppSegments||this.appSegments)}setupSegmentFinderArgs(e){!0===e?(this.findAll=!0,this.wanted=new Set(k.keyList())):(e=void 0===e?k.keyList().filter((e=>this.options[e].enabled)):e.filter((e=>this.options[e].enabled&&k.has(e))),this.findAll=!1,this.remaining=new Set(e),this.wanted=new Set(e)),this.unfinishedMultiSegment=!1}async findAppSegments(e=0,t){this.setupSegmentFinderArgs(t);let{file:s,findAll:i,wanted:r,remaining:n}=this;if(!i&&this.file.chunked&&(i=Array.from(r).some((e=>{let t=k.get(e),s=this.options[e];return t.multiSegment&&s.multiSegment})),i&&await this.file.readWhole()),e=this.findAppSegmentsInRange(e,s.byteLength),!this.options.onlyTiff&&s.chunked){let t=!1;for(;n.size>0&&!t&&(s.canReadNextChunk||this.unfinishedMultiSegment);){let{nextChunkOffset:i}=s,r=this.appSegments.some((e=>!this.file.available(e.offset||e.start,e.length||e.size)));if(t=e>i&&!r?!await s.readNextChunk(e):!await s.readNextChunk(i),void 0===(e=this.findAppSegmentsInRange(e,s.byteLength)))return}}}findAppSegmentsInRange(e,t){t-=2;let s,i,r,n,a,o,{file:h,findAll:l,wanted:c,remaining:u,options:f}=this;for(;e<t;e++)if(255===h.getUint8(e))if(s=h.getUint8(e+1),te(s)){if(i=h.getUint16(e+2),r=re(h,e,i),r&&c.has(r)&&(n=k.get(r),a=n.findPosition(h,e),o=f[r],a.type=r,this.appSegments.push(a),!l&&(n.multiSegment&&o.multiSegment?(this.unfinishedMultiSegment=a.chunkNumber<a.chunkCount,this.unfinishedMultiSegment||u.delete(r)):u.delete(r),0===u.size)))break;f.recordUnknownSegments&&(a=ee.findPosition(h,e),a.marker=s,this.unknownSegments.push(a)),e+=i+1}else if(q(s)){if(i=h.getUint16(e+2),218===s&&!1!==f.stopAfterSos)return;f.recordJpegSegments&&this.jpegSegments.push({offset:e,length:i,marker:s}),e+=i+1}return e}mergeMultiSegments(){if(!this.appSegments.some((e=>e.multiSegment)))return;let e=function(e,t){let s,i,r,n=new Map;for(let a=0;a<e.length;a++)s=e[a],i=s.type,n.has(i)?r=n.get(i):n.set(i,r=[]),r.push(s);return Array.from(n)}(this.appSegments);this.mergedAppSegments=e.map((([e,t])=>{let s=k.get(e,this.options);return s.handleMultiSegments?{type:e,chunk:s.handleMultiSegments(t)}:t[0]}))}getSegment(e){return this.appSegments.find((t=>t.type===e))}async getOrFindSegment(e){let t=this.getSegment(e);return void 0===t&&(await this.findAppSegments(0,[e]),t=this.getSegment(e)),t}}n(ne,"type","jpeg"),w.set("jpeg",ne);const ie=[void 0,1,1,2,4,8,1,1,2,4,8,4,8,4];class se extends ee{parseHeader(){var e=this.chunk.getUint16();18761===e?this.le=!0:19789===e&&(this.le=!1),this.chunk.le=this.le,this.headerParsed=!0}parseTags(e,t,s=new Map){let{pick:i,skip:r}=this.options[t];i=new Set(i);let n=i.size>0,a=0===r.size,o=this.chunk.getUint16(e);e+=2;for(let h=0;h<o;h++){let o=this.chunk.getUint16(e);if(n){if(i.has(o)&&(s.set(o,this.parseTag(e,o,t)),i.delete(o),0===i.size))break}else!a&&r.has(o)||s.set(o,this.parseTag(e,o,t));e+=12}return s}parseTag(e,t,s){let{chunk:i}=this,r=i.getUint16(e+2),n=i.getUint32(e+4),a=ie[r];if(a*n<=4?e+=8:e=i.getUint32(e+8),(r<1||r>13)&&d(`Invalid TIFF value type. block: ${s.toUpperCase()}, tag: ${t.toString(16)}, type: ${r}, offset ${e}`),e>i.byteLength&&d(`Invalid TIFF value offset. block: ${s.toUpperCase()}, tag: ${t.toString(16)}, type: ${r}, offset ${e} is outside of chunk size ${i.byteLength}`),1===r)return i.getUint8Array(e,n);if(2===r)return""===(o=function(e){for(;e.endsWith("\0");)e=e.slice(0,-1);return e}(o=i.getString(e,n)).trim())?void 0:o;var o;if(7===r)return i.getUint8Array(e,n);if(1===n)return this.parseTagValue(r,e);{let t=new(function(e){switch(e){case 1:return Uint8Array;case 3:return Uint16Array;case 4:return Uint32Array;case 5:return Array;case 6:return Int8Array;case 8:return Int16Array;case 9:return Int32Array;case 10:return Array;case 11:return Float32Array;case 12:return Float64Array;default:return Array}}(r))(n),s=a;for(let i=0;i<n;i++)t[i]=this.parseTagValue(r,e),e+=s;return t}}parseTagValue(e,t){let{chunk:s}=this;switch(e){case 1:return s.getUint8(t);case 3:return s.getUint16(t);case 4:return s.getUint32(t);case 5:return s.getUint32(t)/s.getUint32(t+4);case 6:return s.getInt8(t);case 8:return s.getInt16(t);case 9:return s.getInt32(t);case 10:return s.getInt32(t)/s.getInt32(t+4);case 11:return s.getFloat(t);case 12:return s.getDouble(t);case 13:return s.getUint32(t);default:d(`Invalid tiff type ${e}`)}}}class oe extends se{static canHandle(e,t){return 225===e.getUint8(t+1)&&1165519206===e.getUint32(t+4)&&0===e.getUint16(t+8)}async parse(){this.parseHeader();let{options:e}=this;return e.ifd0.enabled&&await this.parseIfd0Block(),e.exif.enabled&&await this.safeParse("parseExifBlock"),e.gps.enabled&&await this.safeParse("parseGpsBlock"),e.interop.enabled&&await this.safeParse("parseInteropBlock"),e.ifd1.enabled&&await this.safeParse("parseThumbnailBlock"),this.createOutput()}safeParse(e){let t=this[e]();return void 0!==t.catch&&(t=t.catch(this.handleError)),t}findIfd0Offset(){void 0===this.ifd0Offset&&(this.ifd0Offset=this.chunk.getUint32(4))}findIfd1Offset(){if(void 0===this.ifd1Offset){this.findIfd0Offset();let e=this.chunk.getUint16(this.ifd0Offset),t=this.ifd0Offset+2+12*e;this.ifd1Offset=this.chunk.getUint32(t)}}parseBlock(e,t){let s=new Map;return this[t]=s,this.parseTags(e,t,s),s}async parseIfd0Block(){if(this.ifd0)return;let{file:e}=this;this.findIfd0Offset(),this.ifd0Offset<8&&d("Malformed EXIF data"),!e.chunked&&this.ifd0Offset>e.byteLength&&d(`IFD0 offset points to outside of file.\nthis.ifd0Offset: ${this.ifd0Offset}, file.byteLength: ${e.byteLength}`),e.tiff&&await e.ensureChunk(this.ifd0Offset,m(this.options));let t=this.parseBlock(this.ifd0Offset,"ifd0");return 0!==t.size?(this.exifOffset=t.get(34665),this.interopOffset=t.get(40965),this.gpsOffset=t.get(34853),this.xmp=t.get(700),this.iptc=t.get(33723),this.icc=t.get(34675),this.options.sanitize&&(t.delete(34665),t.delete(40965),t.delete(34853),t.delete(700),t.delete(33723),t.delete(34675)),t):void 0}async parseExifBlock(){if(this.exif)return;if(this.ifd0||await this.parseIfd0Block(),void 0===this.exifOffset)return;this.file.tiff&&await this.file.ensureChunk(this.exifOffset,m(this.options));let e=this.parseBlock(this.exifOffset,"exif");return this.interopOffset||(this.interopOffset=e.get(40965)),this.makerNote=e.get(37500),this.userComment=e.get(37510),this.options.sanitize&&(e.delete(40965),e.delete(37500),e.delete(37510)),this.unpack(e,41728),this.unpack(e,41729),e}unpack(e,t){let s=e.get(t);s&&1===s.length&&e.set(t,s[0])}async parseGpsBlock(){if(this.gps)return;if(this.ifd0||await this.parseIfd0Block(),void 0===this.gpsOffset)return;let e=this.parseBlock(this.gpsOffset,"gps");return e&&e.has(2)&&e.has(4)&&(e.set("latitude",ae(...e.get(2),e.get(1))),e.set("longitude",ae(...e.get(4),e.get(3)))),e}async parseInteropBlock(){if(!this.interop&&(this.ifd0||await this.parseIfd0Block(),void 0!==this.interopOffset||this.exif||await this.parseExifBlock(),void 0!==this.interopOffset))return this.parseBlock(this.interopOffset,"interop")}async parseThumbnailBlock(e=!1){if(!this.ifd1&&!this.ifd1Parsed&&(!this.options.mergeOutput||e))return this.findIfd1Offset(),this.ifd1Offset>0&&(this.parseBlock(this.ifd1Offset,"ifd1"),this.ifd1Parsed=!0),this.ifd1}async extractThumbnail(){if(this.headerParsed||this.parseHeader(),this.ifd1Parsed||await this.parseThumbnailBlock(!0),void 0===this.ifd1)return;let e=this.ifd1.get(513),t=this.ifd1.get(514);return this.chunk.getUint8Array(e,t)}get image(){return this.ifd0}get thumbnail(){return this.ifd1}createOutput(){let e,t,s,i={};for(t of N)if(e=this[t],!f(e))if(s=this.canTranslate?this.translateBlock(e,t):Object.fromEntries(e),this.options.mergeOutput){if("ifd1"===t)continue;Object.assign(i,s)}else i[t]=s;return this.makerNote&&(i.makerNote=this.makerNote),this.userComment&&(i.userComment=this.userComment),i}assignToOutput(e,t){if(this.globalOptions.mergeOutput)Object.assign(e,t);else for(let[s,i]of Object.entries(t))this.assignObjectToOutput(e,s,i)}}function ae(e,t,s,i){var r=e+t/60+s/3600;return"S"!==i&&"W"!==i||(r*=-1),r}n(oe,"type","tiff"),n(oe,"headerLength",10),k.set("tiff",oe);Object.freeze({__proto__:null,default:Q,Exifr:J,fileParsers:w,segmentParsers:k,fileReaders:b,tagKeys:R,tagValues:U,tagRevivers:_,createDictionary:C,extendDictionary:j,fetchUrlAsArrayBuffer:T,readBlobAsArrayBuffer:L,chunkedProps:B,otherSegments:P,segments:M,tiffBlocks:N,segmentsAndBlocks:D,tiffExtractables:F,inheritables:I,allFormatters:z,Options:G,parse:Z});const he={ifd0:!1,ifd1:!1,exif:!1,gps:!1,interop:!1,sanitize:!1,reviveValues:!0,translateKeys:!1,translateValues:!1,mergeOutput:!1};Object.assign({},he,{firstChunkSize:4e4,gps:[1,2,3,4]});Object.assign({},he,{tiff:!1,ifd1:!0,mergeOutput:!1});const le=Object.assign({},he,{firstChunkSize:4e4,ifd0:[274]});const ue=Object.freeze({1:{dimensionSwapped:!1,scaleX:1,scaleY:1,deg:0,rad:0},2:{dimensionSwapped:!1,scaleX:-1,scaleY:1,deg:0,rad:0},3:{dimensionSwapped:!1,scaleX:1,scaleY:1,deg:180,rad:180*Math.PI/180},4:{dimensionSwapped:!1,scaleX:-1,scaleY:1,deg:180,rad:180*Math.PI/180},5:{dimensionSwapped:!0,scaleX:1,scaleY:-1,deg:90,rad:90*Math.PI/180},6:{dimensionSwapped:!0,scaleX:1,scaleY:1,deg:90,rad:90*Math.PI/180},7:{dimensionSwapped:!0,scaleX:1,scaleY:-1,deg:270,rad:270*Math.PI/180},8:{dimensionSwapped:!0,scaleX:1,scaleY:1,deg:270,rad:270*Math.PI/180}});let ce=!0,fe=!0;if("object"==typeof navigator){let e=navigator.userAgent;if(e.includes("iPad")||e.includes("iPhone")){let t=e.match(/OS (\d+)_(\d+)/);if(t){let[,e,s]=t,i=Number(e)+.1*Number(s);ce=i<13.4,fe=!1}}else if(e.includes("OS X 10")){let[,t]=e.match(/OS X 10[_.](\d+)/);ce=fe=Number(t)<15}if(e.includes("Chrome/")){let[,t]=e.match(/Chrome\/(\d+)/);ce=fe=Number(t)<81}else if(e.includes("Firefox/")){let[,t]=e.match(/Firefox\/(\d+)/);ce=fe=Number(t)<77}}async function pe(e){let t=await async function(e){let t=new J(le);await t.read(e);let s=await t.parse();if(s&&s.ifd0)return s.ifd0[274]}(e);return Object.assign({canvas:ce,css:fe},ue[t])}class de extends v{constructor(...e){super(...e),n(this,"ranges",new ge),0!==this.byteLength&&this.ranges.add(0,this.byteLength)}_tryExtend(e,t,s){if(0===e&&0===this.byteLength&&s){let e=new DataView(s.buffer||s,s.byteOffset,s.byteLength);this._swapDataView(e)}else{let s=e+t;if(s>this.byteLength){let{dataView:e}=this._extend(s);this._swapDataView(e)}}}_extend(e){let t;t=a?l.allocUnsafe(e):new Uint8Array(e);let s=new DataView(t.buffer,t.byteOffset,t.byteLength);return t.set(new Uint8Array(this.buffer,this.byteOffset,this.byteLength),0),{uintView:t,dataView:s}}subarray(e,t,s=!1){return t=t||this._lengthToEnd(e),s&&this._tryExtend(e,t),this.ranges.add(e,t),super.subarray(e,t)}set(e,t,s=!1){s&&this._tryExtend(t,e.byteLength,e);let i=super.set(e,t);return this.ranges.add(t,i.byteLength),i}async ensureChunk(e,t){this.chunked&&(this.ranges.available(e,t)||await this.readChunk(e,t))}available(e,t){return this.ranges.available(e,t)}}class ge{constructor(){n(this,"list",[])}get length(){return this.list.length}add(e,t,s=0){let i=e+t,r=this.list.filter((t=>me(e,t.offset,i)||me(e,t.end,i)));if(r.length>0){e=Math.min(e,...r.map((e=>e.offset))),i=Math.max(i,...r.map((e=>e.end))),t=i-e;let s=r.shift();s.offset=e,s.length=t,s.end=i,this.list=this.list.filter((e=>!r.includes(e)))}else this.list.push({offset:e,length:t,end:i})}available(e,t){let s=e+t;return this.list.some((t=>t.offset<=e&&s<=t.end))}}function me(e,t,s){return e<=t&&t<=s}class ye extends de{constructor(e,s){super(0),n(this,"chunksRead",0),this.input=e,this.options=s}async readWhole(){this.chunked=!1,await this.readChunk(this.nextChunkOffset)}async readChunked(){this.chunked=!0,await this.readChunk(0,this.options.firstChunkSize)}async readNextChunk(e=this.nextChunkOffset){if(this.fullyRead)return this.chunksRead++,!1;let t=this.options.chunkSize,s=await this.readChunk(e,t);return!!s&&s.byteLength===t}async readChunk(e,t){if(this.chunksRead++,0!==(t=this.safeWrapAddress(e,t)))return this._readChunk(e,t)}safeWrapAddress(e,t){return void 0!==this.size&&e+t>this.size?Math.max(0,this.size-e):t}get nextChunkOffset(){if(0!==this.ranges.list.length)return this.ranges.list[0].length}get canReadNextChunk(){return this.chunksRead<this.options.chunkLimit}get fullyRead(){return void 0!==this.size&&this.nextChunkOffset===this.size}read(){return this.options.chunked?this.readChunked():this.readWhole()}close(){}}b.set("blob",class extends ye{async readWhole(){this.chunked=!1;let e=await L(this.input);this._swapArrayBuffer(e)}readChunked(){return this.chunked=!0,this.size=this.input.size,super.readChunked()}async _readChunk(e,t){let s=t?e+t:void 0,i=this.input.slice(e,s),r=await L(i);return this.set(r,e,!0)}})},831:function(e,t,r){"use strict";var n,o="object"==typeof Reflect?Reflect:null,h=o&&"function"==typeof o.apply?o.apply:function(e,t,r){return Function.prototype.apply.call(e,t,r)};n=o&&"function"==typeof o.ownKeys?o.ownKeys:Object.getOwnPropertySymbols?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:function(e){return Object.getOwnPropertyNames(e)};var l=Number.isNaN||function(e){return e!=e};function c(){c.init.call(this)}e.exports=c,e.exports.once=function(e,t){return new Promise((function(r,n){function o(r){e.removeListener(t,h),n(r)}function h(){"function"==typeof e.removeListener&&e.removeListener("error",o),r([].slice.call(arguments))}A(e,t,h,{once:!0}),"error"!==t&&function(e,t,r){"function"==typeof e.on&&A(e,"error",t,r)}(e,o,{once:!0})}))},c.EventEmitter=c,c.prototype._events=void 0,c.prototype._eventsCount=0,c.prototype._maxListeners=void 0;var f=10;function d(e){if("function"!=typeof e)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof e)}function m(e){return void 0===e._maxListeners?c.defaultMaxListeners:e._maxListeners}function y(e,t,r,n){var o,h,l,c;if(d(r),void 0===(h=e._events)?(h=e._events=Object.create(null),e._eventsCount=0):(void 0!==h.newListener&&(e.emit("newListener",t,r.listener?r.listener:r),h=e._events),l=h[t]),void 0===l)l=h[t]=r,++e._eventsCount;else if("function"==typeof l?l=h[t]=n?[r,l]:[l,r]:n?l.unshift(r):l.push(r),(o=m(e))>0&&l.length>o&&!l.warned){l.warned=!0;var f=new Error("Possible EventEmitter memory leak detected. "+l.length+" "+String(t)+" listeners added. Use emitter.setMaxListeners() to increase limit");f.name="MaxListenersExceededWarning",f.emitter=e,f.type=t,f.count=l.length,c=f,console&&console.warn&&console.warn(c)}return e}function v(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,0===arguments.length?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function w(e,t,r){var n={fired:!1,wrapFn:void 0,target:e,type:t,listener:r},o=v.bind(n);return o.listener=r,n.wrapFn=o,o}function k(e,t,r){var n=e._events;if(void 0===n)return[];var o=n[t];return void 0===o?[]:"function"==typeof o?r?[o.listener||o]:[o]:r?function(e){for(var t=new Array(e.length),i=0;i<t.length;++i)t[i]=e[i].listener||e[i];return t}(o):S(o,o.length)}function O(e){var t=this._events;if(void 0!==t){var r=t[e];if("function"==typeof r)return 1;if(void 0!==r)return r.length}return 0}function S(e,t){for(var r=new Array(t),i=0;i<t;++i)r[i]=e[i];return r}function A(e,t,r,n){if("function"==typeof e.on)n.once?e.once(t,r):e.on(t,r);else{if("function"!=typeof e.addEventListener)throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof e);e.addEventListener(t,(function o(h){n.once&&e.removeEventListener(t,o),r(h)}))}}Object.defineProperty(c,"defaultMaxListeners",{enumerable:!0,get:function(){return f},set:function(e){if("number"!=typeof e||e<0||l(e))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+e+".");f=e}}),c.init=function(){void 0!==this._events&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},c.prototype.setMaxListeners=function(e){if("number"!=typeof e||e<0||l(e))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+e+".");return this._maxListeners=e,this},c.prototype.getMaxListeners=function(){return m(this)},c.prototype.emit=function(e){for(var t=[],i=1;i<arguments.length;i++)t.push(arguments[i]);var r="error"===e,n=this._events;if(void 0!==n)r=r&&void 0===n.error;else if(!r)return!1;if(r){var o;if(t.length>0&&(o=t[0]),o instanceof Error)throw o;var l=new Error("Unhandled error."+(o?" ("+o.message+")":""));throw l.context=o,l}var c=n[e];if(void 0===c)return!1;if("function"==typeof c)h(c,this,t);else{var f=c.length,d=S(c,f);for(i=0;i<f;++i)h(d[i],this,t)}return!0},c.prototype.addListener=function(e,t){return y(this,e,t,!1)},c.prototype.on=c.prototype.addListener,c.prototype.prependListener=function(e,t){return y(this,e,t,!0)},c.prototype.once=function(e,t){return d(t),this.on(e,w(this,e,t)),this},c.prototype.prependOnceListener=function(e,t){return d(t),this.prependListener(e,w(this,e,t)),this},c.prototype.removeListener=function(e,t){var r,n,o,i,h;if(d(t),void 0===(n=this._events))return this;if(void 0===(r=n[e]))return this;if(r===t||r.listener===t)0==--this._eventsCount?this._events=Object.create(null):(delete n[e],n.removeListener&&this.emit("removeListener",e,r.listener||t));else if("function"!=typeof r){for(o=-1,i=r.length-1;i>=0;i--)if(r[i]===t||r[i].listener===t){h=r[i].listener,o=i;break}if(o<0)return this;0===o?r.shift():function(e,t){for(;t+1<e.length;t++)e[t]=e[t+1];e.pop()}(r,o),1===r.length&&(n[e]=r[0]),void 0!==n.removeListener&&this.emit("removeListener",e,h||t)}return this},c.prototype.off=c.prototype.removeListener,c.prototype.removeAllListeners=function(e){var t,r,i;if(void 0===(r=this._events))return this;if(void 0===r.removeListener)return 0===arguments.length?(this._events=Object.create(null),this._eventsCount=0):void 0!==r[e]&&(0==--this._eventsCount?this._events=Object.create(null):delete r[e]),this;if(0===arguments.length){var n,o=Object.keys(r);for(i=0;i<o.length;++i)"removeListener"!==(n=o[i])&&this.removeAllListeners(n);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if("function"==typeof(t=r[e]))this.removeListener(e,t);else if(void 0!==t)for(i=t.length-1;i>=0;i--)this.removeListener(e,t[i]);return this},c.prototype.listeners=function(e){return k(this,e,!0)},c.prototype.rawListeners=function(e){return k(this,e,!1)},c.listenerCount=function(e,t){return"function"==typeof e.listenerCount?e.listenerCount(t):O.call(e,t)},c.prototype.listenerCount=O,c.prototype.eventNames=function(){return this._eventsCount>0?n(this._events):[]}}}]);