(window.webpackJsonp=window.webpackJsonp||[]).push([[197],{2325:function(t,e,r){"use strict";r.r(e);var o=r(4),n=(r(29),r(36),r(18)),l=r(15),m={middleware:["geolocate-lang"],validations:{form:{email:{email:n.email,required:n.required,emailValidateDomain:l.emailValidateDomain},repeatEmail:{required:n.required,sameAsEmail:Object(n.sameAs)("email"),emailValidateDomain:l.emailValidateDomain},password:{required:n.required},tos:{checked:function(t){return!0===t}}}},head:function(){return{title:this.$t("pageTitle.signup")}},data:function(){return{isLoading:!1,isCountriesLoaded:!1,form:{email:null,password:null,repeatEmail:null,name:null,tos:!1,country:"BR"},emailSent:!1,errorMessage:null,source:""}},computed:{isDEV:function(){return!1},countryDropdownSkipFiltering:function(){return"true"===String(this.$route.query.internationalEnabled)}},mounted:function(){"true"===this.$route.query.pixel&&(fbq("init","259978302539490"),fbq("track","Lead")),this.source=this.$route.query.source,this.form.email=this.$route.query.email,this.form.country=this.$store.state.country,this.$route.query.utm_source&&localStorage.setItem("utm_source",this.$route.query.utm_source),this.$route.query.utm_campaign&&localStorage.setItem("utm_campaign",this.$route.query.utm_campaign)},methods:{signUp:function(){var t=this;return Object(o.a)(regeneratorRuntime.mark((function e(){var r,o,n,code,l,m,data,d,c;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,t.$v.form.$touch(),t.errorMessage=null,t.$v.form.$error){e.next=9;break}return t.isLoading=!0,e.next=7,t.$customAuth.signUp({email:t.form.email,password:t.form.password,country:t.form.country,language:String((null===(r=t.$i18n)||void 0===r||null===(o=r.localeProperties)||void 0===o?void 0:o.code)||"pt").toUpperCase()});case 7:t.$store.commit("RESET_STORE"),t.$router.push("/onboarding?redirect=".concat(decodeURIComponent(t.$route.query.redirect||"")));case 9:e.next=18;break;case 11:e.prev=11,e.t0=e.catch(0),n=e.t0||{},code=n.code,l=n.message,m=n.response,data=(m||{}).data,d=(data||{}).error,(c=(d||{}).message)?["EMAIL_EXISTS","The email address is already in use by another account."].includes(c)?t.errorMessage=t.$t("auth.validations.emailInUse"):t.errorMessage=c:t.errorMessage=l||code;case 18:return e.prev=18,t.isLoading=!1,e.finish(18);case 21:case"end":return e.stop()}}),e,null,[[0,11,18,21]])})))()}}},d=r(0),component=Object(d.a)(m,(function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{directives:[{name:"show",rawName:"v-show",value:t.isCountriesLoaded,expression:"isCountriesLoaded"}],staticClass:"min-h-screen bg-gray-50 flex flex-col justify-center py-12 sm:px-6 lg:px-8"},[t.isDEV&&"trusted"!==t.source?o("div",{staticClass:"h-full min-h-screen w-full absolute top-0 left-0"},[o("iframe",{staticClass:"h-full min-h-screen border-none w-full",attrs:{src:"https://www.youtube.com/embed/dQw4w9WgXcQ?autoplay=1&controls=0",title:"YouTube video player",frameborder:"0",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture",allowfullscreen:""}})]):o("div",[o("div",{staticClass:"sm:mx-auto sm:w-full sm:max-w-md"},[o("img",{staticClass:"mx-auto h-12 w-auto",attrs:{src:r(568),alt:"Kiwify"}}),t._v(" "),o("h2",{staticClass:"mt-6 text-center text-3xl leading-9 font-extrabold text-gray-900"},[t._v("\n        "+t._s(t.$t("auth.signup.title"))+"\n      ")]),t._v(" "),o("p",{staticClass:"mt-2 text-center text-base leading-5 text-gray-600"},[t._v("\n        "+t._s(t.$t("defaults.dictionary.or"))+"\n        "),o("nuxt-link",{staticClass:"font-medium text-indigo-600 hover:text-indigo-500 focus:outline-none focus:underline transition ease-in-out duration-150",attrs:{to:"/login"+(t.$route.fullPath.split("?")[1]?"?"+t.$route.fullPath.split("?")[1]:"")}},[t._v("\n          "+t._s(t.$t("auth.signup.description"))+"\n        ")])],1)]),t._v(" "),o("div",{staticClass:"mt-8 sm:mx-auto sm:w-full sm:max-w-md"},[o("div",{staticClass:"bg-white py-8 px-4 shadow sm:rounded-lg sm:px-10"},[o("div",[o("label",{staticClass:"block text-sm font-medium leading-5 mb-1 text-gray-700"},[t._v("\n            "+t._s(t.$t("auth.form.email"))+"\n          ")]),t._v(" "),o("KInput",{attrs:{value:t.form.email,error:t.$v.form.email.$error},on:{input:function(e){t.form.email=e.toLowerCase()},onBlur:function(e){return t.$v.form.email.$touch()}}}),t._v(" "),t.$v.form.email.$error?o("div",[t.$v.form.email.email&&t.$v.form.email.emailValidateDomain?t._e():o("div",{staticClass:"text-xs text-red-500"},[t._v("\n              "+t._s(t.$t("defaults.validations.email"))+"\n            ")]),t._v(" "),t.$v.form.email.required?t._e():o("div",{staticClass:"text-xs text-red-500"},[t._v("\n              "+t._s(t.$t("defaults.validations.required"))+"\n            ")])]):t._e()],1),t._v(" "),o("div",{staticClass:"mt-6"},[o("label",{staticClass:"block text-sm font-medium leading-5 mb-1 text-gray-700"},[t._v("\n            "+t._s(t.$t("auth.form.repeatEmail"))+"\n          ")]),t._v(" "),o("KInput",{attrs:{value:t.form.repeatEmail,type:"email",error:t.$v.form.repeatEmail.$error},on:{input:function(e){t.form.repeatEmail=e.toLowerCase()},onBlur:function(e){return t.$v.form.repeatEmail.$touch()}}}),t._v(" "),t.$v.form.repeatEmail.$error?o("div",[t.$v.form.repeatEmail.sameAsEmail?t._e():o("div",{staticClass:"text-xs text-red-500"},[t._v(t._s(t.$t("auth.validations.emailNotMatch")))]),t._v(" "),t.$v.form.repeatEmail.required?t._e():o("div",{staticClass:"text-xs text-red-500"},[t._v(t._s(t.$t("defaults.validations.required")))])]):t._e()],1),t._v(" "),o("div",{staticClass:"mt-6"},[o("label",{staticClass:"block text-sm font-medium leading-5 text-gray-700"},[t._v("\n            "+t._s(t.$t("auth.form.password"))+"\n          ")]),t._v(" "),o("KInput",{attrs:{type:"password",error:t.$v.form.password.$error,required:""},on:{onBlur:function(e){return t.$v.form.password.$touch()}},model:{value:t.form.password,callback:function(e){t.$set(t.form,"password",e)},expression:"form.password"}})],1),t._v(" "),o("div",{staticClass:"mt-6"},[o("label",{staticClass:"flex items-center text-sm font-medium leading-none text-gray-700"},[t._v("\n            "+t._s(t.$t("auth.form.country"))+"\n\n            "),o("Tooltip",{attrs:{message:t.$t("defaults.components.countryDropdown.tooltip")}},[o("HeroIcon",{staticClass:"text-gray-300 ml-1 w-5",attrs:{name:"QuestionMarkCircleIcon"}})],1)],1),t._v(" "),o("div",[o("CountryDropdown",{attrs:{skipFiltering:t.countryDropdownSkipFiltering},on:{loaded:function(e){t.isCountriesLoaded=!0}},model:{value:t.form.country,callback:function(e){t.$set(t.form,"country",e)},expression:"form.country"}})],1)]),t._v(" "),o("div",{staticClass:"mt-6"},[o("label",{staticClass:"relative flex items-start mt-2"},[o("div",{staticClass:"flex items-center h-5"},[o("input",{directives:[{name:"model",rawName:"v-model",value:t.form.tos,expression:"form.tos"}],staticClass:"form-checkbox h-4 w-4 text-indigo-600 transition duration-150 ease-in-out cursor-pointer",class:{"border-red-500":t.$v.form.tos.$error},attrs:{type:"checkbox"},domProps:{checked:Array.isArray(t.form.tos)?t._i(t.form.tos,null)>-1:t.form.tos},on:{change:[function(e){var r=t.form.tos,o=e.target,n=!!o.checked;if(Array.isArray(r)){var l=t._i(r,null);o.checked?l<0&&t.$set(t.form,"tos",r.concat([null])):l>-1&&t.$set(t.form,"tos",r.slice(0,l).concat(r.slice(l+1)))}else t.$set(t.form,"tos",n)},function(e){return t.$v.form.tos.$touch()}]}})]),t._v(" "),o("div",{staticClass:"ml-2 text-sm leading-5"},[o("span",{staticClass:"font-medium text-gray-700"},[t._v(t._s(t.$t("auth.form.tos[0]"))+" "),o("a",{staticClass:"underline",attrs:{href:"https://kiwify.com.br/termos-de-uso",target:"_blank"}},[t._v(" "+t._s(t.$t("auth.form.tos[1]")))]),t._v(", "),o("a",{staticClass:"underline",attrs:{href:"https://kiwify.com.br/licenca-de-uso-software",target:"_blank"}},[t._v(" "+t._s(t.$t("auth.form.tos[2]")))]),t._v(", "),o("a",{staticClass:"underline",attrs:{href:"https://kiwify.com.br/politica-de-conteudo",target:"_blank"}},[t._v(" "+t._s(t.$t("auth.form.tos[3]")))]),t._v(" "+t._s(t.$t("auth.form.tos[4]"))+" ")]),t._v(" "),t.$v.form.tos.$error?o("div",{staticClass:"text-red-500 border-b-0"},[t._v("("+t._s(t.$t("defaults.validations.required"))+")")]):t._e()])])]),t._v(" "),t.errorMessage?o("AlertBar",{staticClass:"mt-4",attrs:{color:"red",icon:"XIcon"}},[t._v("\n          "+t._s(t.errorMessage)+"\n        ")]):t._e(),t._v(" "),o("div",{staticClass:"mt-6"},[o("span",{staticClass:"block w-full rounded-md shadow-sm"},[o("button",{staticClass:"w-full flex justify-center py-2 px-4 border border-transparent text-sm font-medium rounded-md text-white bg-indigo-600 hover:bg-indigo-500 focus:outline-none focus:border-indigo-700 focus:shadow-outline-indigo active:bg-indigo-700 transition duration-150 ease-in-out",class:{"opacity-50":t.isLoading},attrs:{disabled:t.isLoading},on:{click:t.signUp}},[t.isLoading?o("LoadingSpinner"):t._e(),t._v(" "+t._s(t.$t("auth.signup.primaryButtonText"))+"\n            ")],1)])])],1)])])])}),[],!1,null,null,null);e.default=component.exports;installComponents(component,{KInput:r(57).default,HeroIcon:r(32).default,Tooltip:r(113).default,CountryDropdown:r(307).default,AlertBar:r(252).default,LoadingSpinner:r(141).default})}}]);